import{d as We,a as qe,u as Qe,E as ke,b as Ee,_ as Ie,c as Ye,e as Ge}from"./DefaultHeaderButtons.96ce667e.js";import{E as j}from"./el-button.b5ba1a02.js";import{E as Se}from"./el-text.c8a0fa74.js";import{b as Je,a as Ze,E as Xe}from"./el-switch.89990ece.js";import{aI as ye,a2 as Ve,ag as Ne,f as L,B as K,aP as Me,aa as T,r as fe,a6 as Ae,aM as Be,ab as et,aH as ae,o as f,m as z,b as n,w as s,H as ve,a as r,ay as tt,as as R,Q as N,c as w,af as J,t as g,v as A,J as nt,aA as ot,aQ as st,ah as ze,ai as lt,a4 as B,l as at,al as re,h as rt,ac as it,aJ as ut,j as t,aR as ie,aS as dt,aT as ct,aU as pt,aV as De,aj as _t,F as be,C as Fe,k as H,_ as te,s as Te,d as C,aW as ge,aX as we,G as Le,aY as Oe,i as mt,aZ as ft,a_ as vt,a$ as bt,q as ht,U as yt,aC as U,E as ue,p as Pe,e as Re,b0 as gt,n as X,b1 as wt,b2 as Ct}from"./entry.ff63ec3d.js";import{C as He,I as de,i as ee,U as Z,E as he,t as $t,d as Ce}from"./el-input.e7860a8b.js";import"./el-popper.5ffee0da.js";import{u as D,b as xt}from"./useChat.833fb356.js";import{E as kt}from"./el-popover.99dcd0d5.js";import{_ as pe}from"./client-only.b06e1078.js";import{d as $e,a as Et,b as It,u as St}from"./use-form-item.6a22a9f0.js";/* empty css                */import{a as Ue,E as Vt}from"./el-form.71e7739f.js";import{_ as Nt}from"./nuxt-link.9d30f77e.js";import{E as Mt}from"./el-link.19467907.js";import{a as At,E as ce}from"./el-overlay.a7bd9125.js";import{E as Bt}from"./focus-trap.a413202e.js";import"./CommonSettings.c1117e4e.js";import"./dropdown.ef18e84e.js";import"./castArray.7a86da5a.js";import"./useAuth.3e981d6c.js";import"./scroll.67f0a0b2.js";import"./isEqual.6201928d.js";import"./_Uint8Array.aa1c0efe.js";import"./useTitle.5af2f9bf.js";const zt=100,Dt=600,xe={beforeMount(e,i){const d=i.value,{interval:a=zt,delay:m=Dt}=ye(d)?{}:d;let p,b;const l=()=>ye(d)?d():d.handler(),_=()=>{b&&(clearTimeout(b),b=void 0),p&&(clearInterval(p),p=void 0)};e.addEventListener("mousedown",x=>{x.button===0&&(_(),l(),document.addEventListener("mouseup",()=>_(),{once:!0}),b=setTimeout(()=>{p=setInterval(()=>{l()},a)},m))})}},Ft=Ve({...We,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),Tt=qe,Lt=L({name:"ElDrawer",components:{ElOverlay:At,ElFocusTrap:Bt,ElIcon:K,Close:Me},inheritAttrs:!1,props:Ft,emits:Tt,setup(e,{slots:i}){$e({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},T(()=>!!i.title)),$e({scope:"el-drawer",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/drawer.html#attributes",type:"Attribute"},T(()=>!!e.customClass));const d=fe(),a=fe(),m=Ae("drawer"),{t:p}=Be(),b=T(()=>e.direction==="rtl"||e.direction==="ltr"),l=T(()=>et(e.size));return{...Qe(e,d),drawerRef:d,focusStartRef:a,isHorizontal:b,drawerSize:l,ns:m,t:p}}}),Ot=["aria-label","aria-labelledby","aria-describedby"],Pt=["id","aria-level"],Rt=["aria-label"],Ht=["id"];function Ut(e,i,d,a,m,p){const b=ae("close"),l=ae("el-icon"),_=ae("el-focus-trap"),x=ae("el-overlay");return f(),z(st,{to:"body",disabled:!e.appendToBody},[n(ot,{name:e.ns.b("fade"),onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave,persisted:""},{default:s(()=>[ve(n(x,{mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex,onClick:e.onModalClick},{default:s(()=>[n(_,{loop:"",trapped:e.visible,"focus-trap-el":e.drawerRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:s(()=>[r("div",tt({ref:"drawerRef","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:e.titleId,"aria-describedby":e.bodyId},e.$attrs,{class:[e.ns.b(),e.direction,e.visible&&"open",e.customClass],style:e.isHorizontal?"width: "+e.drawerSize:"height: "+e.drawerSize,role:"dialog",onClick:i[1]||(i[1]=R(()=>{},["stop"]))}),[r("span",{ref:"focusStartRef",class:N(e.ns.e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(f(),w("header",{key:0,class:N(e.ns.e("header"))},[e.$slots.title?J(e.$slots,"title",{key:1},()=>[A(" DEPRECATED SLOT ")]):J(e.$slots,"header",{key:0,close:e.handleClose,titleId:e.titleId,titleClass:e.ns.e("title")},()=>[e.$slots.title?A("v-if",!0):(f(),w("span",{key:0,id:e.titleId,role:"heading","aria-level":e.headerAriaLevel,class:N(e.ns.e("title"))},g(e.title),11,Pt))]),e.showClose?(f(),w("button",{key:2,"aria-label":e.t("el.drawer.close"),class:N(e.ns.e("close-btn")),type:"button",onClick:i[0]||(i[0]=(...c)=>e.handleClose&&e.handleClose(...c))},[n(l,{class:N(e.ns.e("close"))},{default:s(()=>[n(b)]),_:1},8,["class"])],10,Rt)):A("v-if",!0)],2)):A("v-if",!0),e.rendered?(f(),w("div",{key:1,id:e.bodyId,class:N(e.ns.e("body"))},[J(e.$slots,"default")],10,Ht)):A("v-if",!0),e.$slots.footer?(f(),w("div",{key:2,class:N(e.ns.e("footer"))},[J(e.$slots,"footer")],2)):A("v-if",!0)],16,Ot)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[nt,e.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var Kt=Ne(Lt,[["render",Ut],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const jt=ze(Kt),Wt=Ve({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:lt,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||B(e)||["min","max"].includes(e),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0}}),qt={[He]:(e,i)=>i!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[de]:e=>B(e)||ee(e),[Z]:e=>B(e)||ee(e)},Qt=["aria-label","onKeydown"],Yt=["aria-label","onKeydown"],Gt=L({name:"ElInputNumber"}),Jt=L({...Gt,props:Wt,emits:qt,setup(e,{expose:i,emit:d}){const a=e,{t:m}=Be(),p=Ae("input-number"),b=fe(),l=at({currentValue:a.modelValue,userInput:null}),{formItem:_}=Et(),x=T(()=>B(a.modelValue)&&a.modelValue<=a.min),c=T(()=>B(a.modelValue)&&a.modelValue>=a.max),v=T(()=>{const o=ne(a.step);return re(a.precision)?Math.max(ne(a.modelValue),o):(o>a.precision,a.precision)}),y=T(()=>a.controls&&a.controlsPosition==="right"),M=It(),k=St(),$=T(()=>{if(l.userInput!==null)return l.userInput;let o=l.currentValue;if(ee(o))return"";if(B(o)){if(Number.isNaN(o))return"";re(a.precision)||(o=o.toFixed(a.precision))}return o}),W=(o,u)=>{if(re(u)&&(u=v.value),u===0)return Math.round(o);let h=String(o);const E=h.indexOf(".");if(E===-1||!h.replace(".","").split("")[E+u])return o;const se=h.length;return h.charAt(se-1)==="5"&&(h=`${h.slice(0,Math.max(0,se-1))}6`),Number.parseFloat(Number(h).toFixed(u))},ne=o=>{if(ee(o))return 0;const u=o.toString(),h=u.indexOf(".");let E=0;return h!==-1&&(E=u.length-h-1),E},oe=(o,u=1)=>B(o)?W(o+a.step*u):l.currentValue,q=()=>{if(a.readonly||k.value||c.value)return;const o=Number($.value)||0,u=oe(o);P(u),d(de,l.currentValue)},Q=()=>{if(a.readonly||k.value||x.value)return;const o=Number($.value)||0,u=oe(o,-1);P(u),d(de,l.currentValue)},O=(o,u)=>{const{max:h,min:E,step:I,precision:F,stepStrictly:se,valueOnClear:le}=a;h<E&&$t("InputNumber","min should not be greater than max.");let V=Number(o);if(ee(o)||Number.isNaN(V))return null;if(o===""){if(le===null)return null;V=_t(le)?{min:E,max:h}[le]:le}return se&&(V=W(Math.round(V/I)*I,F)),re(F)||(V=W(V,F)),(V>h||V<E)&&(V=V>h?h:E,u&&d(Z,V)),V},P=(o,u=!0)=>{var h;const E=l.currentValue,I=O(o);if(!u){d(Z,I);return}E!==I&&(l.userInput=null,d(Z,I),d(He,I,E),a.validateEvent&&((h=_==null?void 0:_.validate)==null||h.call(_,"change").catch(F=>Ce())),l.currentValue=I)},_e=o=>{l.userInput=o;const u=o===""?null:Number(o);d(de,u),P(u,!1)},me=o=>{const u=o!==""?Number(o):"";(B(u)&&!Number.isNaN(u)||o==="")&&P(u),l.userInput=null},Y=()=>{var o,u;(u=(o=b.value)==null?void 0:o.focus)==null||u.call(o)},S=()=>{var o,u;(u=(o=b.value)==null?void 0:o.blur)==null||u.call(o)},G=o=>{d("focus",o)},je=o=>{var u;d("blur",o),a.validateEvent&&((u=_==null?void 0:_.validate)==null||u.call(_,"blur").catch(h=>Ce()))};return rt(()=>a.modelValue,o=>{const u=O(l.userInput),h=O(o,!0);!B(u)&&(!u||u!==h)&&(l.currentValue=h,l.userInput=null)},{immediate:!0}),it(()=>{var o;const{min:u,max:h,modelValue:E}=a,I=(o=b.value)==null?void 0:o.input;if(I.setAttribute("role","spinbutton"),Number.isFinite(h)?I.setAttribute("aria-valuemax",String(h)):I.removeAttribute("aria-valuemax"),Number.isFinite(u)?I.setAttribute("aria-valuemin",String(u)):I.removeAttribute("aria-valuemin"),I.setAttribute("aria-valuenow",l.currentValue||l.currentValue===0?String(l.currentValue):""),I.setAttribute("aria-disabled",String(k.value)),!B(E)&&E!=null){let F=Number(E);Number.isNaN(F)&&(F=null),d(Z,F)}}),ut(()=>{var o,u;const h=(o=b.value)==null?void 0:o.input;h==null||h.setAttribute("aria-valuenow",`${(u=l.currentValue)!=null?u:""}`)}),i({focus:Y,blur:S}),(o,u)=>(f(),w("div",{class:N([t(p).b(),t(p).m(t(M)),t(p).is("disabled",t(k)),t(p).is("without-controls",!o.controls),t(p).is("controls-right",t(y))]),onDragstart:u[1]||(u[1]=R(()=>{},["prevent"]))},[o.controls?ve((f(),w("span",{key:0,role:"button","aria-label":t(m)("el.inputNumber.decrease"),class:N([t(p).e("decrease"),t(p).is("disabled",t(x))]),onKeydown:ie(Q,["enter"])},[n(t(K),null,{default:s(()=>[t(y)?(f(),z(t(dt),{key:0})):(f(),z(t(ct),{key:1}))]),_:1})],42,Qt)),[[t(xe),Q]]):A("v-if",!0),o.controls?ve((f(),w("span",{key:1,role:"button","aria-label":t(m)("el.inputNumber.increase"),class:N([t(p).e("increase"),t(p).is("disabled",t(c))]),onKeydown:ie(q,["enter"])},[n(t(K),null,{default:s(()=>[t(y)?(f(),z(t(pt),{key:0})):(f(),z(t(De),{key:1}))]),_:1})],42,Yt)),[[t(xe),q]]):A("v-if",!0),n(t(he),{id:o.id,ref_key:"input",ref:b,type:"number",step:o.step,"model-value":t($),placeholder:o.placeholder,readonly:o.readonly,disabled:t(k),size:t(M),max:o.max,min:o.min,name:o.name,label:o.label,"validate-event":!1,onWheel:u[0]||(u[0]=R(()=>{},["prevent"])),onKeydown:[ie(R(q,["prevent"]),["up"]),ie(R(Q,["prevent"]),["down"])],onBlur:je,onFocus:G,onInput:_e,onChange:me},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var Zt=Ne(Jt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const Xt=ze(Zt),en=L({__name:"ModelSelect",setup(e){const{model:i,models:d}=D();return(a,m)=>{const p=Je,b=Ze;return f(),w("div",null,[n(b,{modelValue:t(i),"onUpdate:modelValue":m[0]||(m[0]=l=>H(i)?i.value=l:null),placeholder:"Select model",class:"ChatbotModelSelect"},{default:s(()=>[(f(!0),w(be,null,Fe(t(d),l=>(f(),z(p,{key:l.name,label:l.name,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])}}}),tn={style:{"max-height":"32px"},class:"flex items-center"},nn=L({__name:"ContextSelect",setup(e){const{contextMode:i}=D();return(d,a)=>{const m=Xe;return f(),w("div",tn,[n(m,{modelValue:t(i),"onUpdate:modelValue":a[0]||(a[0]=p=>H(i)?i.value=p:null),size:"large",class:"cursor-pointer",width:"56"},null,8,["modelValue"])])}}});const on=L({__name:"TemperatureSelect",setup(e){const{temperature:i}=D();return(d,a)=>{const m=Xt;return f(),w("div",null,[n(m,{modelValue:t(i),"onUpdate:modelValue":a[0]||(a[0]=p=>H(i)?i.value=p:null),min:0,max:1,step:.1,style:{width:"100%"}},null,8,["modelValue"])])}}});const sn={class:"flex flex-col py-1 px-2 -m-2 -mx-3",style:{"margin-bottom":"-10px"}},ln={__name:"MoreActions",setup(e){const{refreshConversation:i,renameConversation:d,deleteConversation:a,resetConvConfig:m,exportAsMarkdown:p,exportAsJson:b}=D();return(l,_)=>{const x=K,c=j,v=ke,y=Ee,M=pe;return f(),z(M,null,{default:s(()=>[n(y,{trigger:"click",placement:"bottom"},{dropdown:s(()=>[n(v,{style:{overflow:"hidden"}},{default:s(()=>[r("div",sn,[r("div",null,[n(c,{class:"MoreOptionButton",icon:t(Te),onClick:_[0]||(_[0]=k=>t(d)())},{default:s(()=>[C(g(l.$t("action.renameConv")),1)]),_:1},8,["icon"])]),r("div",null,[n(c,{class:"MoreOptionButton",icon:t(ge),onClick:_[1]||(_[1]=k=>t(m)(!0))},{default:s(()=>[C(g(l.$t("action.resetConv")),1)]),_:1},8,["icon"])]),r("div",null,[n(c,{class:"MoreOptionButton",icon:t(we),onClick:_[2]||(_[2]=k=>t(p)())},{default:s(()=>[C(g(l.$t("action.exportAs"))+" .MD ",1)]),_:1},8,["icon"])]),r("div",null,[n(c,{class:"MoreOptionButton",icon:t(we),onClick:_[3]||(_[3]=k=>t(b)())},{default:s(()=>[C(g(l.$t("action.exportAs"))+" .JSON ",1)]),_:1},8,["icon"])]),r("div",null,[n(c,{class:"MoreOptionButton",icon:t(ge),onClick:_[4]||(_[4]=k=>t(i)())},{default:s(()=>[C(g(l.$t("action.refresh")),1)]),_:1},8,["icon"])]),r("div",null,[n(c,{type:"danger",class:"MoreOptionButton",icon:t(Le),onClick:_[5]||(_[5]=k=>t(a)()),plain:""},{default:s(()=>[C(g(l.$t("action.deleteConv")),1)]),_:1},8,["icon"])])])]),_:1})]),default:s(()=>[n(c,{size:"small",style:{padding:"8px"}},{default:s(()=>[n(x,{style:{margin:"0 -0.125rem"}},{default:s(()=>[n(t(Oe))]),_:1})]),_:1})]),_:1})]),_:1})}}},an=te(ln,[["__scopeId","data-v-004409ad"]]);const rn=e=>(Pe("data-v-5e12e367"),e=e(),Re(),e),un={class:"h-full max-h-full flex flex-col"},dn={class:"flex justify-stretch"},cn={class:"flex-1 mt-0"},pn={class:"px-1"},_n={class:"flex flex-col pr-1 gap-1"},mn={class:"flex gap-1"},fn={class:"flex gap-1"},vn={key:0,class:"flex gap-1"},bn=rn(()=>r("span",{class:"mr-2"},"Temperature",-1)),hn={class:"info"},yn={class:"flex-1",style:{width:"calc(50% - 0.25rem)"}},gn={key:1,class:"flex gap-1"},wn={class:"flex flex-1"},Cn={class:"flex-1 text-right pr-2"},$n={class:"mt-4 mb-0"},xn={class:"ConversationListContainer mt-1 border rounded overflow-hidden",style:{height:"45vh","border-color":"var(--el-border-color)"}},kn={class:"border-b createNewChat-bg",style:{"border-color":"var(--el-border-color)"}},En={class:"ConversationList overflow-y-auto overflow-x-hidden flex-1",style:{"max-height":"calc(100% - 32px)"}},In=["active"],Sn={class:"text-ellipsis overflow-hidden max-w-full"},Vn={class:"ConversationLinkButtons px-1 flex-center"},Nn={class:"flex flex-col py-1 px-2 -m-2 -mx-3",style:{"margin-bottom":"-10px"}},Mn={class:"flex flex-col mt-4 gap-1"},An={class:"pl-1"},Bn={class:"pl-1"},zn={class:"pl-1"},Dn={__name:"ConvMenu",setup(e){const i=mt("version",()=>""),{conversations:d,model:a,currentConvIdComputed:m,focusInput:p,renameConversation:b,deleteConversation:l}=D();i.value===""&&$fetch("/api/version",{method:"POST"}).then(c=>{i.value=c.version}).catch(()=>{});const _=()=>{ce({title:"Aboute Me",message:()=>U("div",[U("div","I'm a web developer, and I can create a great website that suits your needs perfectly! Feel free to reach out to me to learn more."),U("br",""),U("div",[U("strong","Email: "),U("span","137emailservice@gmail.com")])])})},x=()=>{ce.prompt("Your name:","What should we call you?").then(({value:c})=>{if(c=c.trim(),!c)throw"Name cannot be empty";ce.prompt("What would you like to tell us?","We value your feedback, thank you!").then(async({value:v})=>{if(v=v.trim(),!v)throw"Feedback cannot be empty";const y=await $fetch("/api/stats/feedback",{method:"POST",body:{name:c,feedback:v}});!y||"error"in y?ue.error("Feedback submission failed."):ue.success("Feedback submitted successfully")}).catch(()=>{ue.info("Feedback has been cancelled.")})}).catch(()=>{ue.info("Feedback has been cancelled.")})};return(c,v)=>{const y=Se,M=en,k=nn,$=K,W=kt,ne=pe,oe=on,q=an,Q=Ue,O=j,P=Nt,_e=ke,me=Ee,Y=Mt;return f(),w("div",un,[n(Q,{onSubmit:v[0]||(v[0]=R(()=>{},["prevent"]))},{default:s(()=>[r("div",dn,[r("h4",cn,g(c.$t("settings.title")),1),r("div",pn,[t(i)?(f(),z(y,{key:0,type:"info",size:"small"},{default:s(()=>[C(" v"+g(t(i)),1)]),_:1})):A("",!0)])]),r("div",_n,[r("div",mn,[n(y,{class:"flex-1"},{default:s(()=>[C(g(c.$t("settings.model")),1)]),_:1}),n(M,{class:"flex-1"})]),r("div",fn,[n(y,{class:"flex-1"},{default:s(()=>[C(g(c.$t("settings.context")),1)]),_:1}),n(k,{class:"flex-1"})]),["gpt4","gpt3","gpt3-fga"].includes(t(a))?(f(),w("div",vn,[n(y,{class:"flex flex-1 items-center"},{default:s(()=>[bn,n(ne,null,{default:s(()=>[n(W,{placement:"bottom",width:240,trigger:"click"},{reference:s(()=>[n($,{color:"#409EFF",class:"cursor-pointer",size:"large"},{default:s(()=>[n(t(ft))]),_:1})]),default:s(()=>[r("div",hn,[n(y,{class:"info"},{default:s(()=>[C(g(c.$t("menu.tempInfo")),1)]),_:1})])]),_:1})]),_:1})]),_:1}),r("div",yn,[n(oe,{class:"w-full"})])])):A("",!0),t(m)?(f(),w("div",gn,[r("div",wn,[r("div",Cn,[n(y,{size:"small",type:"info"},{default:s(()=>[C(g(c.$t("action.more")),1)]),_:1})]),n(q)])])):A("",!0)])]),_:1}),r("h4",$n,g(c.$t("chat.chats")),1),r("div",xn,[r("div",kn,[n(P,{id:"createNewChat",to:"/c/",onClick:t(p)},{default:s(()=>[n(O,{icon:t(De),class:"ConversationLink w-full",style:{border:"none",background:"transparent !important"}},{default:s(()=>[C(g(c.$t("chat.newChat")),1)]),_:1},8,["icon"])]),_:1},8,["onClick"])]),r("div",En,[(f(!0),w(be,null,Fe(t(d),S=>(f(),w("div",{class:N(["ConversationLink flex items-center",S.moreActionsExpanded?"MoreOptionsExpended":""]),active:S.id===t(m)},[n(P,{id:S.id,to:`/c/${S.id}`,class:N(["justify-start items-center flex gap-1 py-1 px-4 w-full",S.id===t(m)?"pointer-events-none":""])},{default:s(()=>[n($,null,{default:s(()=>[n(t(vt))]),_:1}),r("span",Sn,g(S.name||t(xt).convert(S.id,"64w",10)),1)]),_:2},1032,["id","to","class"]),r("div",Vn,[n(y,{type:"info",class:"flex gap-2"},{default:s(()=>[n(me,{trigger:"click",placement:"bottom",onVisibleChange:G=>S.moreActionsExpanded=G},{dropdown:s(()=>[n(_e,{style:{overflow:"hidden"}},{default:s(()=>[r("div",Nn,[r("div",null,[n(O,{class:"MoreOptionButton",icon:t(Te),onClick:G=>t(b)(S.id,S.name)},{default:s(()=>[C(g(c.$t("action.rename")),1)]),_:2},1032,["icon","onClick"])]),r("div",null,[n(O,{type:"danger",class:"MoreOptionButton",icon:t(Le),onClick:G=>t(l)(S.id),plain:""},{default:s(()=>[C(g(c.$t("action.delete")),1)]),_:2},1032,["icon","onClick"])])])]),_:2},1024)]),default:s(()=>[n(y,null,{default:s(()=>[n($,{class:"cursor-pointer"},{default:s(()=>[n(t(Oe))]),_:1})]),_:1})]),_:2},1032,["onVisibleChange"])]),_:2},1024)])],10,In))),256))])]),r("div",Mn,[r("div",null,[n(Y,{href:"https://www.buymeacoffee.com/cch137",target:"_blank",icon:t(bt)},{default:s(()=>[r("div",An,[n(y,{size:"large",style:{color:"inherit"}},{default:s(()=>[C("Buy me a coffee")]),_:1})])]),_:1},8,["icon"])]),r("div",null,[n(Y,{onClick:v[1]||(v[1]=S=>_()),target:"_blank",icon:t(ht)},{default:s(()=>[r("div",Bn,[n(y,{size:"large",style:{color:"inherit"}},{default:s(()=>[C("About me")]),_:1})])]),_:1},8,["icon"])]),r("div",null,[n(Y,{onClick:v[2]||(v[2]=S=>x()),target:"_blank",icon:t(yt)},{default:s(()=>[r("div",zn,[n(y,{size:"large",style:{color:"inherit"}},{default:s(()=>[C("Feedback")]),_:1})])]),_:1},8,["icon"])])])])}}},Ke=te(Dn,[["__scopeId","data-v-5e12e367"]]);const Fn={class:"flex"},Tn={class:"flex flex-1"},Ln={__name:"ConvSidebar",setup(e){const{openMenu:i,openSidebarController:d}=D();return(a,m)=>{const p=Ie,b=j,l=Ke;return f(),w("div",{class:"ChatbotConvSidebar flex flex-col z-50",style:X(`transform: translateX(${t(d)?"0":"-100%"});`)},[r("div",Fn,[r("div",Tn,[n(p)]),n(b,{class:"ChatbotConvHeaderMenuButton",icon:t(gt),style:{padding:"8px"},onClick:m[0]||(m[0]=_=>i.value=!1)},null,8,["icon"])]),n(l,{class:"flex-1 mt-4"})],4)}}},On=te(Ln,[["__scopeId","data-v-a172f4ce"]]),Pn={class:"px-2 pb-4 flex flex-col gap-4"},Rn={class:"flex items-center justify-end"},Hn=L({__name:"EditMessageDialog",setup(e){const{isEditingMessage:i,editingMessage:d,editingMessageContent:a,inputMaxLength:m,focusEditMessageInput:p,sendMessage:b}=D();function l(){i.value=!1}function _(c){c.key==="Enter"&&!c.shiftKey&&(x(),c.preventDefault())}async function x(){if(d.value===void 0)return;const c=a.value.trim();try{c===""&&await ce.confirm("Do you want to continue generating answer based on the conversation history?")}catch{l();return}const v=setTimeout(()=>{d.value!==void 0&&(d.value.Q=c),l()},100);await b(c,d.value.id)||(clearTimeout(v),p())}return(c,v)=>{const y=he,M=j,k=Ye;return f(),z(k,{modelValue:t(i),"onUpdate:modelValue":v[4]||(v[4]=$=>H(i)?i.value=$:null),title:c.$t("chat.editQues"),width:"80%",style:{"max-width":"600px"}},{default:s(()=>[r("div",Pn,[n(y,{modelValue:t(a),"onUpdate:modelValue":v[0]||(v[0]=$=>H(a)?a.value=$:null),autosize:{minRows:4,maxRows:16},type:"textarea",size:"large",class:"EditMessageInput",maxlength:t(m),autofocus:!0,onKeydown:v[1]||(v[1]=$=>_($))},null,8,["modelValue","maxlength"]),r("div",Rn,[n(M,{onClick:v[2]||(v[2]=$=>l()),icon:t(Me)},{default:s(()=>[C(g(c.$t("message.cancel")),1)]),_:1},8,["icon"]),n(M,{onClick:v[3]||(v[3]=$=>x()),type:"primary",icon:t(wt)},{default:s(()=>[C(g(c.$t("action.saveNSubmit")),1)]),_:1},8,["icon"])])])]),_:1},8,["modelValue","title"])}}});const Un={},Kn=e=>(Pe("data-v-3c80ec5a"),e=e(),Re(),e),jn={class:"MenuIcon"},Wn=Kn(()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 96 960 960"},[r("path",{d:"M120 816v-60h720v60H120Zm0-210v-60h720v60H120Zm0-210v-60h720v60H120Z"})],-1)),qn=[Wn];function Qn(e,i){return f(),w("i",jn,qn)}const Yn=te(Un,[["render",Qn],["__scopeId","data-v-3c80ec5a"]]);const Gn={class:"fixed z-50 w-full flex"},Jn={class:"ChatbotConvHeader px-4 gap-4 flex items-stretch flex-1"},Zn=r("div",{class:"flex-1 flex items-center justify-end gap-2"},null,-1),Xn={__name:"ConvHeader",setup(e){const{openMenu:i,openSidebarController:d}=D();return i.value=!0,(a,m)=>{const p=On,b=Hn,l=Yn,_=j,x=Ie,c=Ge;return f(),w("div",Gn,[r("div",{style:X(`min-width: ${t(d)?"280px":"0px"}; width: ${t(d)?"25%":"0px"}; transition: .1s;`)},null,4),n(p),n(b),r("div",Jn,[r("div",{style:X([t(d)?"opacity: 0; pointer-events: none; width: 0px;":"",{transition:".1s"}])},[n(_,{style:{padding:"8px"},onClick:m[0]||(m[0]=v=>i.value=!t(i))},{default:s(()=>[n(l)]),_:1})],4),n(x,{style:X(t(d)?"opacity: 0; pointer-events: none; width: 0px;":"")},null,8,["style"]),Zn,n(c)])])}}},eo=Xn,to={class:"InputBoxOuter flex fixed w-full z-40"},no={class:"InputBox pt-20 pb-1 px-2 flex-1"},oo={class:"flex gap-3 w-full mx-auto justify-center px-2",style:{"max-width":"900px"}},so={class:"w-full"},lo={class:"InputBoxActionButtonGroup flex flex-col gap-1"},ao={style:{"margin-left":".25rem"}},ro={class:"text-center mt-1",style:{"line-height":"1em"}},io=L({__name:"InputBox",setup(e){const{sendMessage:i,openSidebarController:d,inputMaxLength:a,inputValue:m}=D(),p=l=>{l.key==="Enter"&&!l.shiftKey&&(i(),l.preventDefault())},b=()=>{i()};return(l,_)=>{const x=he,c=K,v=j,y=Vt,M=Ue,k=Se;return f(),w("div",to,[r("div",{style:X(`min-width: ${t(d)?"280px":"0px"}; width: ${t(d)?"25%":"0px"}; transition: .1s;`)},null,4),r("div",no,[n(M,{ref:"inputForm",class:"mx-auto max-w-full",onSubmit:_[2]||(_[2]=R(()=>{},["prevent"]))},{default:s(()=>[n(y,{style:{margin:"0"}},{default:s(()=>[r("div",oo,[r("div",so,[n(x,{modelValue:t(m),"onUpdate:modelValue":_[0]||(_[0]=$=>H(m)?m.value=$:null),autosize:{minRows:2,maxRows:16},type:"textarea",size:"large",maxlength:t(a),autofocus:!0,onKeydown:_[1]||(_[1]=$=>p($))},null,8,["modelValue","maxlength"])]),r("div",lo,[n(v,{type:"primary",onClick:b,style:{padding:"12px"},size:"large"},{default:s(()=>[n(c,null,{default:s(()=>[n(t(Ct))]),_:1}),r("span",ao,g(l.$t("chat.send")),1)]),_:1})])])]),_:1})]),_:1},512),r("div",ro,[n(k,{type:"info",size:"small"},{default:s(()=>[C(g(l.$t("footer.patient")),1)]),_:1})])])])}}});const uo={style:{"margin-top":"-1.5rem",height:"calc(100% + 1.5rem)"}},co={__name:"ConvDrawer",setup(e){const{openDrawerController:i}=D();return(d,a)=>{const m=Ke,p=jt,b=pe;return f(),z(b,null,{default:s(()=>[n(p,{modelValue:t(i),"onUpdate:modelValue":a[0]||(a[0]=l=>H(i)?i.value=l:null),title:d.$t("menu.title"),direction:"ltr",style:{"min-width":"320px","max-width":"100vw"}},{default:s(()=>[r("div",uo,[n(m)])]),_:1},8,["modelValue","title"])]),_:1})}}},po=co,_o={},mo={style:{"padding-top":"56px"},class:"w-full"};function fo(e,i){const d=eo,a=pe,m=io,p=po;return f(),w(be,null,[n(a,null,{default:s(()=>[n(d)]),_:1}),r("div",mo,[J(e.$slots,"default"),n(a,null,{default:s(()=>[n(m),n(p)]),_:1})])],64)}const Ro=te(_o,[["render",fo]]);export{Ro as default};
