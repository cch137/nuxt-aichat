import{E as V}from"./el-input.fdaab1b7.js";import{E as b,a as k,_ as L}from"./el-form.13fbbf6d.js";import{E as N}from"./el-button.48c848c4.js";import{E as I}from"./el-text.ff6cf991.js";import{_ as z}from"./nuxt-link.bfb6f506.js";import{E as B}from"./el-link.dfb0b972.js";import{_ as C}from"./client-only.1c2dbda6.js";import{j as F,a3 as q,r as A,S as f,L as R,o as S,c as T,y as t,C as e,t as s,B as i,u as a,N as p,O as W,V as M,a4 as U}from"./entry.28e04e0d.js";import{u as j}from"./useAuth.e455c9fd.js";import{u as D}from"./useTitle.3de0a53a.js";import"./isEqual.fe22b096.js";import"./el-select.7207c7d6.js";import"./el-popper.f09daf1b.js";import"./focus-trap.8572fd17.js";import"./scroll.7fa0bb6a.js";import"./useChat.0078f719.js";const P={class:"mt-0 mb-6"},G=s("div",{class:"p-6"},null,-1),H={class:"flex-center"},J=s("div",{class:"p-2"},null,-1),K={class:"flex-center flex-col gap-1"},Q={class:"flex-center flex-wrap gap-1",style:{"line-height":"1rem"}},X={style:{"line-height":"1rem"},class:"mt-2 text-center"},Y=s("div",{class:"p-8"},null,-1),Z={class:"absolute w-screen flex-center gap-2 p-3",style:{bottom:"0"}},ee={style:{width:"120px"}},xe=F({__name:"login",setup(te){const{login:g}=j(),m=q().t,c=A(),r=f({usernameOrEmail:"",password:""}),h=f({usernameOrEmail:[{required:!0,message:m("auth.usernameOrEmailRequired"),trigger:"change"}],password:[{required:!0,message:m("auth.passwdRequired"),trigger:"change"}]}),y=async o=>{await o.validate((l,u)=>{l?g(r.usernameOrEmail,r.password):W.error(m("auth.formIncomplete"))})};return D(`${m("auth.login")} - ${R("appName").value}`),(o,l)=>{const u=V,d=b,x=N,_=I,w=z,E=B,v=k,$=L,O=C;return S(),T(O,null,{default:t(()=>[e(v,{ref_key:"ruleFormRef",ref:c,model:a(r),rules:a(h),"label-position":"top",class:"flex-col flex-center w-full max-w-xs px-4 m-auto",style:{height:"calc(100vh - 56px)"}},{default:t(()=>[s("h1",P,i(o.$t("auth.login")),1),e(d,{label:o.$t("auth.usernameOrEmail"),prop:"usernameOrEmail",class:"inputWrapper LoginInputAnim1"},{default:t(()=>[e(u,{modelValue:a(r).usernameOrEmail,"onUpdate:modelValue":l[0]||(l[0]=n=>a(r).usernameOrEmail=n),type:"text",size:"large","prefix-icon":a(M)},null,8,["modelValue","prefix-icon"])]),_:1},8,["label"]),e(d,{label:o.$t("auth.passwd"),prop:"password",class:"inputWrapper LoginInputAnim2 LoginPasswordInputWrapper"},{default:t(()=>[e(u,{modelValue:a(r).password,"onUpdate:modelValue":l[1]||(l[1]=n=>a(r).password=n),type:"password",size:"large","prefix-icon":a(U),formatter:n=>n.trim(),parser:n=>n.trim(),"show-password":""},null,8,["modelValue","prefix-icon","formatter","parser"])]),_:1},8,["label"]),G,s("div",H,[e(x,{size:"large",type:"primary",onClick:l[2]||(l[2]=n=>y(a(c)))},{default:t(()=>[p(i(o.$t("auth.login")),1)]),_:1})]),J,s("div",K,[s("div",Q,[e(_,{type:"info"},{default:t(()=>[p(i(o.$t("auth.createNewAcc")),1)]),_:1}),e(E,{type:"primary"},{default:t(()=>[e(w,{to:"/signup"},{default:t(()=>[p(i(o.$t("auth.signup")),1)]),_:1})]),_:1})])]),s("div",X,[e(_,{size:"small",type:"info"},{default:t(()=>[p(i(o.$t("auth.loginTip1")),1)]),_:1})]),Y]),_:1},8,["model","rules"]),s("div",Z,[e(_,{type:"info",class:"opacity-75"},{default:t(()=>[p("More languages:")]),_:1}),s("span",ee,[e($,{size:"small"})])])]),_:1})}}});export{xe as default};
