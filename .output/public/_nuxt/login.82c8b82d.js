import{E as k}from"./el-input.c7af9697.js";import{E as O,a as V,_ as L}from"./el-form.90347ff0.js";import{E as I}from"./el-button.01cd79fe.js";import{E as N}from"./el-text.f42e996f.js";import{_ as q}from"./nuxt-link.43cc1ccf.js";import{E as z}from"./el-link.8c49796e.js";import{_ as B}from"./client-only.1af58191.js";import{O as F,P as A,r as C,q as f,f as R,o as T,g as S,w as t,b as e,a as o,t as i,h as a,d as p,E as W,B as M,Q as P}from"./entry.e4e4f710.js";import{u as U}from"./useAuth.a7dadad5.js";import{u as D}from"./useTitle.c68e6fcc.js";import"./isEqual.c23d09ca.js";import"./el-select.18d47d5c.js";import"./el-popper.698d5e4f.js";import"./focus-trap.94e13ee8.js";import"./scroll.c65b99e3.js";import"./useChat.e62b529f.js";const Q={class:"mt-0 mb-6"},j=o("div",{class:"p-6"},null,-1),G={class:"flex-center"},H=o("div",{class:"p-2"},null,-1),J={class:"flex-center flex-col gap-1"},K={class:"flex-center flex-wrap gap-1",style:{"line-height":"1rem"}},X={style:{"line-height":"1rem"},class:"mt-2 text-center"},Y=o("div",{class:"p-8"},null,-1),Z={class:"absolute w-screen flex-center gap-2 p-3",style:{bottom:"0"}},ee={style:{width:"120px"}},xe=F({__name:"login",setup(te){const{login:g}=U(),m=A().t,c=C(),n=f({usernameOrEmail:"",password:""}),h=f({usernameOrEmail:[{required:!0,message:m("auth.usernameOrEmailRequired"),trigger:"change"}],password:[{required:!0,message:m("auth.passwdRequired"),trigger:"change"}]}),w=async s=>{await s.validate((l,u)=>{l?g(n.usernameOrEmail,n.password):W.error(m("auth.formIncomplete"))})};return D(`${m("auth.login")} - ${R("appName").value}`),(s,l)=>{const u=k,d=O,x=I,_=N,y=q,E=z,v=V,b=L,$=B;return T(),S($,null,{default:t(()=>[e(v,{ref_key:"ruleFormRef",ref:c,model:a(n),rules:a(h),"label-position":"top",class:"flex-col flex-center w-full max-w-xs px-4 m-auto",style:{height:"calc(100vh - 56px)"}},{default:t(()=>[o("h1",Q,i(s.$t("auth.login")),1),e(d,{label:s.$t("auth.usernameOrEmail"),prop:"usernameOrEmail",class:"inputWrapper LoginInputAnim1"},{default:t(()=>[e(u,{modelValue:a(n).usernameOrEmail,"onUpdate:modelValue":l[0]||(l[0]=r=>a(n).usernameOrEmail=r),type:"text",size:"large","prefix-icon":a(M)},null,8,["modelValue","prefix-icon"])]),_:1},8,["label"]),e(d,{label:s.$t("auth.passwd"),prop:"password",class:"inputWrapper LoginInputAnim2 LoginPasswordInputWrapper"},{default:t(()=>[e(u,{modelValue:a(n).password,"onUpdate:modelValue":l[1]||(l[1]=r=>a(n).password=r),type:"password",size:"large","prefix-icon":a(P),formatter:r=>r.trim(),parser:r=>r.trim(),"show-password":""},null,8,["modelValue","prefix-icon","formatter","parser"])]),_:1},8,["label"]),j,o("div",G,[e(x,{size:"large",type:"primary",onClick:l[2]||(l[2]=r=>w(a(c)))},{default:t(()=>[p(i(s.$t("auth.login")),1)]),_:1})]),H,o("div",J,[o("div",K,[e(_,{type:"info"},{default:t(()=>[p(i(s.$t("auth.createNewAcc")),1)]),_:1}),e(E,{type:"primary"},{default:t(()=>[e(y,{to:"/signup"},{default:t(()=>[p(i(s.$t("auth.signup")),1)]),_:1})]),_:1})])]),o("div",X,[e(_,{size:"small",type:"info",style:{"word-break":"break-word"}},{default:t(()=>[p(i(s.$t("auth.loginTip1")),1)]),_:1})]),Y]),_:1},8,["model","rules"]),o("div",Z,[e(_,{type:"info",class:"opacity-75"},{default:t(()=>[p("More languages:")]),_:1}),o("span",ee,[e(b,{size:"small"})])])]),_:1})}}});export{xe as default};
