import{E as k}from"./el-input.93a7722b.js";import{E as O,a as V,_ as L}from"./el-form.421c2af4.js";import{E as N}from"./el-button.9c6f1ffd.js";import{E as I,b as z}from"./el-link.3e2d1e1b.js";import{_ as B}from"./nuxt-link.4f21afdb.js";import{_ as F}from"./client-only.d5e2a050.js";import{N as q,aJ as A,D as C,at as f,as as R,o as T,U as S,w as t,b as e,a as s,t as i,E as a,d as p,av as U,aB as W,aK as D}from"./entry.63b3f33c.js";import{u as M}from"./useAuth.541760d3.js";import{u as J}from"./useTitle.0015af00.js";import"./isEqual.b7f58890.js";import"./el-scrollbar.36b37a34.js";import"./el-popper.c633b0ea.js";import"./str.751aa1f4.js";import"./scroll.defd2da0.js";import"./useChat.57764163.js";const K={class:"mt-0 mb-6"},P=s("div",{class:"p-6"},null,-1),j={class:"flex-center"},G=s("div",{class:"p-2"},null,-1),H={class:"flex-center flex-col gap-1"},Q={class:"flex-center flex-wrap gap-1",style:{"line-height":"1rem"}},X={style:{"line-height":"1rem"},class:"mt-2 text-center"},Y=s("div",{class:"p-8"},null,-1),Z={class:"absolute w-screen flex-center gap-2 p-3",style:{bottom:"0"}},ee={style:{width:"120px"}},we=q({__name:"login",setup(te){const{login:g}=M(),m=A().t,c=C(),r=f({usernameOrEmail:"",password:""}),h=f({usernameOrEmail:[{required:!0,message:m("auth.usernameOrEmailRequired"),trigger:"change"}],password:[{required:!0,message:m("auth.passwdRequired"),trigger:"change"}]}),w=async o=>{await o.validate((l,u)=>{l?g(r.usernameOrEmail,r.password):U.error(m("auth.formIncomplete"))})};return J(`${m("auth.login")} - ${R("appName").value}`),(o,l)=>{const u=k,d=O,x=N,_=I,y=B,E=z,v=V,b=L,$=F;return T(),S($,null,{default:t(()=>[e(v,{ref_key:"ruleFormRef",ref:c,model:a(r),rules:a(h),"label-position":"top",class:"flex-col flex-center w-full max-w-xs px-4 m-auto",style:{height:"calc(100vh - 56px)"}},{default:t(()=>[s("h1",K,i(o.$t("auth.login")),1),e(d,{label:o.$t("auth.usernameOrEmail"),prop:"usernameOrEmail",class:"inputWrapper LoginInputAnim1"},{default:t(()=>[e(u,{modelValue:a(r).usernameOrEmail,"onUpdate:modelValue":l[0]||(l[0]=n=>a(r).usernameOrEmail=n),type:"text",size:"large","prefix-icon":a(W)},null,8,["modelValue","prefix-icon"])]),_:1},8,["label"]),e(d,{label:o.$t("auth.passwd"),prop:"password",class:"inputWrapper LoginInputAnim2 LoginPasswordInputWrapper"},{default:t(()=>[e(u,{modelValue:a(r).password,"onUpdate:modelValue":l[1]||(l[1]=n=>a(r).password=n),type:"password",size:"large","prefix-icon":a(D),formatter:n=>n.trim(),parser:n=>n.trim(),"show-password":""},null,8,["modelValue","prefix-icon","formatter","parser"])]),_:1},8,["label"]),P,s("div",j,[e(x,{size:"large",type:"primary",onClick:l[2]||(l[2]=n=>w(a(c)))},{default:t(()=>[p(i(o.$t("auth.login")),1)]),_:1})]),G,s("div",H,[s("div",Q,[e(_,{type:"info"},{default:t(()=>[p(i(o.$t("auth.createNewAcc")),1)]),_:1}),e(E,{type:"primary"},{default:t(()=>[e(y,{to:"/signup"},{default:t(()=>[p(i(o.$t("auth.signup")),1)]),_:1})]),_:1})])]),s("div",X,[e(_,{size:"small",type:"info",style:{"word-break":"break-word"}},{default:t(()=>[p(i(o.$t("auth.loginTip1")),1)]),_:1})]),Y]),_:1},8,["model","rules"]),s("div",Z,[e(_,{type:"info",class:"opacity-75"},{default:t(()=>[p("More languages:")]),_:1}),s("span",ee,[e(b,{size:"small"})])])]),_:1})}}});export{we as default};
