import{E as V}from"./el-switch.5a1ddcca.js";import{E as k,a as w}from"./el-select.78405066.js";import{_ as y}from"./client-only.158bd209.js";import{f as x,r as c,E as i,i as O,o as d,c as f,b as u,w as g,a as m,t as $,j as t,k as _,F as D,C as T,m as N}from"./entry.526839b3.js";import"./el-input.d35d81c2.js";import"./el-popper.cda81359.js";import{u as F}from"./useTitle.4ae3fffb.js";import"./focus-trap.5c2955e8.js";import"./scroll.7ee9de09.js";import"./isEqual.c26eebed.js";import"./_Uint8Array.47221c38.js";const A={class:"flex-col flex-center gap-2"},G=m("h2",null,"Discord Bot",-1),L=m("h2",null,"Search Engine",-1),W=x({__name:"dashboard",setup(P){const l=c(!1),a=c(!1);async function v(){l.value=!0,await $fetch("/api/admin/setting",{method:"POST",body:{name:"dcBot",value:a.value}}),p()}async function p(){l.value=!0,a.value=(await $fetch("/api/discord",{method:"GET"})).connected,l.value=!1}p();const o=c("google"),E=c(["google","duckduckgo","all"]);$fetch("/api/admin/search-engine",{method:"GET"}).then(s=>{const{error:e,value:r}=s;if(e)throw e;o.value=r}).catch(()=>{i.error("Fetching search engine failed."),o.value=""});function B(s){$fetch("/api/admin/search-engine",{method:"POST",body:{value:s}}).then(()=>i.success("Search engine has been changed.")).catch(()=>i.error("Search engine change failed."))}const h=O("appName").value;return F(`Admin - ${h}`),(s,e)=>{const r=V,C=w,S=k,b=y;return d(),f("div",A,[u(b,null,{default:g(()=>[m("h1",null,"Admin Dashboard | "+$(t(h)),1),G,u(r,{modelValue:t(a),"onUpdate:modelValue":e[0]||(e[0]=n=>_(a)?a.value=n:null),onChange:e[1]||(e[1]=n=>v()),loading:t(l),size:"large"},null,8,["modelValue","loading"]),L,u(S,{modelValue:t(o),"onUpdate:modelValue":e[2]||(e[2]=n=>_(o)?o.value=n:null),placeholder:"Select",onChange:e[3]||(e[3]=n=>B(n))},{default:g(()=>[(d(!0),f(D,null,T(t(E),n=>(d(),N(C,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})])}}});export{W as default};
