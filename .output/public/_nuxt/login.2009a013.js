import{E as O}from"./el-input.175a61bb.js";import{E as V,a as k,_ as L}from"./el-form.7b3e6438.js";import{E as I}from"./el-button.47c3f4b5.js";import{E as N}from"./el-text.19af0ef5.js";import{_ as z}from"./nuxt-link.75047665.js";import{E as F}from"./el-link.6d5ed28f.js";import{_ as q}from"./client-only.4ee4f9e0.js";import{K as A,L as B,r as C,p as f,a as R,o as T,c as M,w as t,e,b as s,t as i,u as a,f as p,E as S,x as W,M as U}from"./entry.61a62f8e.js";import{u as D}from"./useAuth.0b3f4ba8.js";import{u as K}from"./useTitle.769c3c51.js";import"./isEqual.52a1ec36.js";import"./el-select.6bb28600.js";import"./el-popper.9c4fdb76.js";import"./focus-trap.80819230.js";import"./scroll.c326ab84.js";import"./useChat.991920c1.js";const P={class:"mt-0 mb-6"},j=s("div",{class:"p-6"},null,-1),G={class:"flex-center"},H=s("div",{class:"p-2"},null,-1),J={class:"flex-center flex-col gap-1"},Q={class:"flex-center flex-wrap gap-1",style:{"line-height":"1rem"}},X={style:{"line-height":"1rem"},class:"mt-2 text-center"},Y=s("div",{class:"p-8"},null,-1),Z={class:"absolute w-screen flex-center gap-2 p-3",style:{bottom:"0"}},ee={style:{width:"120px"}},ye=A({__name:"login",setup(te){const{login:g}=D(),m=B().t,c=C(),r=f({usernameOrEmail:"",password:""}),h=f({usernameOrEmail:[{required:!0,message:m("auth.usernameOrEmailRequired"),trigger:"change"}],password:[{required:!0,message:m("auth.passwdRequired"),trigger:"change"}]}),x=async o=>{await o.validate((l,u)=>{l?g(r.usernameOrEmail,r.password):S.error(m("auth.formIncomplete"))})};return K(`${m("auth.login")} - ${R("appName").value}`),(o,l)=>{const u=O,d=V,y=I,_=N,w=z,E=F,v=k,$=L,b=q;return T(),M(b,null,{default:t(()=>[e(v,{ref_key:"ruleFormRef",ref:c,model:a(r),rules:a(h),"label-position":"top",class:"flex-col flex-center w-full max-w-xs px-4 m-auto",style:{height:"calc(100vh - 56px)"}},{default:t(()=>[s("h1",P,i(o.$t("auth.login")),1),e(d,{label:o.$t("auth.usernameOrEmail"),prop:"usernameOrEmail",class:"inputWrapper LoginInputAnim1"},{default:t(()=>[e(u,{modelValue:a(r).usernameOrEmail,"onUpdate:modelValue":l[0]||(l[0]=n=>a(r).usernameOrEmail=n),type:"text",size:"large","prefix-icon":a(W)},null,8,["modelValue","prefix-icon"])]),_:1},8,["label"]),e(d,{label:o.$t("auth.passwd"),prop:"password",class:"inputWrapper LoginInputAnim2 LoginPasswordInputWrapper"},{default:t(()=>[e(u,{modelValue:a(r).password,"onUpdate:modelValue":l[1]||(l[1]=n=>a(r).password=n),type:"password",size:"large","prefix-icon":a(U),formatter:n=>n.trim(),parser:n=>n.trim(),"show-password":""},null,8,["modelValue","prefix-icon","formatter","parser"])]),_:1},8,["label"]),j,s("div",G,[e(y,{size:"large",type:"primary",onClick:l[2]||(l[2]=n=>x(a(c)))},{default:t(()=>[p(i(o.$t("auth.login")),1)]),_:1})]),H,s("div",J,[s("div",Q,[e(_,{type:"info"},{default:t(()=>[p(i(o.$t("auth.createNewAcc")),1)]),_:1}),e(E,{type:"primary"},{default:t(()=>[e(w,{to:"/signup"},{default:t(()=>[p(i(o.$t("auth.signup")),1)]),_:1})]),_:1})])]),s("div",X,[e(_,{size:"small",type:"info"},{default:t(()=>[p(i(o.$t("auth.loginTip1")),1)]),_:1})]),Y]),_:1},8,["model","rules"]),s("div",Z,[e(_,{type:"info",class:"opacity-75"},{default:t(()=>[p("More languages:")]),_:1}),s("span",ee,[e($,{size:"small"})])])]),_:1})}}});export{ye as default};
