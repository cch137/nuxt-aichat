import{U as H,C as Q,I as j,d as oe,t as ne,E as se}from"./el-input.5a30c3fd.js";import{u as le,a as ie,b as ce,c as de,d as re,_ as ue,E as ve}from"./el-button.f740bc1f.js";import{b as me,i as J,a as pe,e as D,f as x,h as F,j as te,k as fe,l as he,m as k,r as u,p as _e,w as R,q as ye,o as l,s as _,t as d,u as a,v,x as ge,c as g,y as p,z as K,E as P,A as h,B as M,C as m,D as be,F as Y,G as Ce,H as ke,I as we,J as X,K as Se,L as Ve,M as Ee,N as W,O as G}from"./entry.305510e6.js";import{i as Ie}from"./el-tag.e5917811.js";import{E as Be,a as Ne}from"./el-select.b9a1911b.js";import{_ as Te}from"./nuxt-link.9970f594.js";import{u as Pe}from"./useTitle.ddce53a1.js";import"./isEqual.04bc68aa.js";const Ae=me({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:J},inactiveIcon:{type:J},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:pe(Function)},size:{type:String,validator:Ie},tabindex:{type:[String,Number]}}),De={[H]:s=>D(s)||x(s)||F(s),[Q]:s=>D(s)||x(s)||F(s),[j]:s=>D(s)||x(s)||F(s)},Me=["onClick"],Oe=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],Le=["aria-hidden"],ze=["aria-hidden"],Ue=["aria-hidden"],q="ElSwitch",$e=te({name:q}),xe=te({...$e,props:Ae,emits:De,setup(s,{expose:w,emit:f}){const t=s,r=fe(),{formItem:i}=le(),S=ie(),o=he("switch");ce({from:'"value"',replacement:'"model-value" or "v-model"',scope:q,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},k(()=>{var e;return!!((e=r.vnode.props)!=null&&e.value)}));const{inputId:N}=de(t,{formItemContext:i}),b=re(k(()=>t.loading)),V=u(t.modelValue!==!1),C=u(),O=u(),L=k(()=>[o.b(),o.m(S.value),o.is("disabled",b.value),o.is("checked",n.value)]),z=k(()=>({width:_e(t.width)}));R(()=>t.modelValue,()=>{V.value=!0}),R(()=>t.value,()=>{V.value=!1});const B=k(()=>V.value?t.modelValue:t.value),n=k(()=>B.value===t.activeValue);[t.activeValue,t.inactiveValue].includes(B.value)||(f(H,t.inactiveValue),f(Q,t.inactiveValue),f(j,t.inactiveValue)),R(n,e=>{var c;C.value.checked=e,t.validateEvent&&((c=i==null?void 0:i.validate)==null||c.call(i,"change").catch($=>oe()))});const E=()=>{const e=n.value?t.inactiveValue:t.activeValue;f(H,e),f(Q,e),f(j,e),we(()=>{C.value.checked=n.value})},I=()=>{if(b.value)return;const{beforeChange:e}=t;if(!e){E();return}const c=e();[X(c),D(c)].includes(!0)||ne(q,"beforeChange must return type `Promise<boolean>` or `boolean`"),X(c)?c.then(y=>{y&&E()}).catch(y=>{}):c&&E()},U=k(()=>o.cssVarBlock({...t.activeColor?{"on-color":t.activeColor}:null,...t.inactiveColor?{"off-color":t.inactiveColor}:null,...t.borderColor?{"border-color":t.borderColor}:null})),T=()=>{var e,c;(c=(e=C.value)==null?void 0:e.focus)==null||c.call(e)};return ye(()=>{C.value.checked=n.value}),w({focus:T,checked:n}),(e,c)=>(l(),_("div",{class:v(a(L)),style:Y(a(U)),onClick:Ce(I,["prevent"])},[d("input",{id:a(N),ref_key:"input",ref:C,class:v(a(o).e("input")),type:"checkbox",role:"switch","aria-checked":a(n),"aria-disabled":a(b),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:a(b),tabindex:e.tabindex,onChange:E,onKeydown:ge(I,["enter"])},null,42,Oe),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(l(),_("span",{key:0,class:v([a(o).e("label"),a(o).em("label","left"),a(o).is("active",!a(n))])},[e.inactiveIcon?(l(),g(a(P),{key:0},{default:p(()=>[(l(),g(K(e.inactiveIcon)))]),_:1})):h("v-if",!0),!e.inactiveIcon&&e.inactiveText?(l(),_("span",{key:1,"aria-hidden":a(n)},M(e.inactiveText),9,Le)):h("v-if",!0)],2)):h("v-if",!0),d("span",{ref_key:"core",ref:O,class:v(a(o).e("core")),style:Y(a(z))},[e.inlinePrompt?(l(),_("div",{key:0,class:v(a(o).e("inner"))},[e.activeIcon||e.inactiveIcon?(l(),g(a(P),{key:0,class:v(a(o).is("icon"))},{default:p(()=>[(l(),g(K(a(n)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(l(),_("span",{key:1,class:v(a(o).is("text")),"aria-hidden":!a(n)},M(a(n)?e.activeText:e.inactiveText),11,ze)):h("v-if",!0)],2)):h("v-if",!0),d("div",{class:v(a(o).e("action"))},[e.loading?(l(),g(a(P),{key:0,class:v(a(o).is("loading"))},{default:p(()=>[m(a(be))]),_:1},8,["class"])):h("v-if",!0)],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(l(),_("span",{key:1,class:v([a(o).e("label"),a(o).em("label","right"),a(o).is("active",a(n))])},[e.activeIcon?(l(),g(a(P),{key:0},{default:p(()=>[(l(),g(K(e.activeIcon)))]),_:1})):h("v-if",!0),!e.activeIcon&&e.activeText?(l(),_("span",{key:1,"aria-hidden":!a(n)},M(e.activeText),9,Ue)):h("v-if",!0)],2)):h("v-if",!0)],14,Me))}});var Fe=ke(xe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const Re=Se(Fe);const Z=u(!1),A=u(""),Ke="m",ee=u(!1),ae=u("");function We(){const s=Ve(Ke,{}),w=()=>{s.value.k=A.value};return A.value=s.value.k||"",{haveAccess:Z,dcBotConnected:ee,mdbConnectMethod:ae,adminAction:(t,r)=>{r&&(r.value=!0),w(),$fetch("/api/admin",{method:"POST",body:{passwd:A.value,action:t}}).then(i=>{Z.value=!!(i!=null&&i.pass),i!==null&&(ee.value=i.dcBotConnected,ae.value=i.mdbConnectMethod)}).finally(()=>{r&&(r.value=!1)})},password:A}}const Ge={class:"flex-col flex-center gap-2"},He={class:"flex gap-2 my-8"},Qe={key:0,class:"grid grid-cols-2 gap-2 p-4"},je=d("div",{class:"flex items-center"},"Discord Bot",-1),qe=d("div",{class:"flex items-center"},"MindsDB Connect Method",-1),Je=d("div",{class:"flex items-center"},"Restart Clients",-1),Ye={class:"flex items-center"},Xe={key:1},ia={__name:"cch137",setup(s){const w=Ee("appName").value,{haveAccess:f,password:t,dcBotConnected:r,mdbConnectMethod:i,adminAction:S}=We(),o=u(!1),N=u(!1),b=u(!1),V=u(!1),C=()=>{S("",o)},O=()=>{S(r.value?"DC1":"DC0",N)},L=B=>{S(B==="WEB"?"WEBCONN":"SQLCONN",b)},z=()=>{S("RESTART",V)};return Pe(`Admin - ${w}`),(B,n)=>{const E=se,I=ve,U=Re,T=Be,e=Ne,c=Te,$=ue;return l(),g($,null,{default:p(()=>[d("div",Ge,[d("h1",null,"Admin Dashboard | "+M(a(w)),1),d("div",He,[m(E,{type:"password",placeholder:"Password",modelValue:a(t),"onUpdate:modelValue":n[0]||(n[0]=y=>W(t)?t.value=y:null)},null,8,["modelValue"]),m(I,{type:"primary",onClick:C,loading:a(o)},{default:p(()=>[G("GO")]),_:1},8,["loading"])]),a(f)?(l(),_("div",Qe,[je,d("div",null,[m(U,{size:"large",modelValue:a(r),"onUpdate:modelValue":n[1]||(n[1]=y=>W(r)?r.value=y:null),loading:a(N),onClick:O},null,8,["modelValue","loading"])]),qe,m(e,{modelValue:a(i),"onUpdate:modelValue":n[2]||(n[2]=y=>W(i)?i.value=y:null),loading:a(b),onChange:L},{default:p(()=>[m(T,{label:"SQL",value:"SQL"}),m(T,{label:"WEB",value:"WEB"})]),_:1},8,["modelValue","loading"]),Je,d("div",Ye,[m(I,{loading:a(V),onClick:z,class:"w-full"},{default:p(()=>[G("RESTART")]),_:1},8,["loading"])])])):(l(),_("div",Xe,"You do not have permission.")),d("div",null,[m(c,{to:"/"},{default:p(()=>[m(I,null,{default:p(()=>[G(" Back to Home ")]),_:1})]),_:1})])])]),_:1})}}};export{ia as default};
