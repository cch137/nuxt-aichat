import{E as $}from"./el-input.8c6d3326.js";import{E as b,a as O}from"./el-form.95e2588a.js";import{E as V}from"./el-button.9cf1b9e4.js";import{E as I}from"./el-text.1313fb10.js";import{_ as L}from"./nuxt-link.a67a48ec.js";import{E as N}from"./el-link.e17eded7.js";import{_ as A}from"./client-only.8bf95797.js";import{f as F,g as q,r as z,m as h,i as B,o as C,j as R,w as t,b as e,a,t as i,k as s,d as p,E as T,aI as W,A as P}from"./entry.c8d59687.js";import{u as S}from"./useAuth.8dbf7a7e.js";import{u as U}from"./useTitle.22e79668.js";import"./_Uint8Array.bd14c3e8.js";import"./_initCloneObject.dba67074.js";import"./useChat.68d6b0b3.js";import"./el-overlay.d4b13c41.js";import"./focus-trap.145bbd45.js";import"./scroll.fc9c0e8e.js";import"./str.d457f5f4.js";const j={class:"mt-0 mb-6"},D=a("div",{class:"p-6"},null,-1),M={class:"flex-center"},G=a("div",{class:"p-2"},null,-1),H={class:"flex-center flex-col gap-2"},J={class:"flex-center flex-wrap gap-1",style:{"line-height":"1rem"}},K={class:"flex-center flex-wrap gap-1",style:{"line-height":"1rem"}},Q={style:{"line-height":"1rem"},class:"mt-2 text-center"},X=a("div",{class:"p-8"},null,-1),he=F({__name:"login",setup(Y){const{login:w}=S(),m=q().t,_=z(),n=h({usernameOrEmail:"",password:""}),y=h({usernameOrEmail:[{required:!0,message:m("auth.usernameOrEmailRequired"),trigger:"change"}],password:[{required:!0,message:m("auth.passwdRequired"),trigger:"change"}]}),x=async o=>{await o.validate((r,u)=>{r?w(n.usernameOrEmail,n.password):T.error(m("auth.formIncomplete"))})};return U(`${m("auth.login")} - ${B("appName").value}`),(o,r)=>{const u=$,d=b,E=V,c=I,f=L,g=N,v=O,k=A;return C(),R(k,null,{default:t(()=>[e(v,{ref_key:"ruleFormRef",ref:_,model:s(n),rules:s(y),"label-position":"top",class:"flex-col flex-center w-full max-w-xs px-4 m-auto",style:{height:"calc(100vh - 56px)"}},{default:t(()=>[a("h1",j,i(o.$t("auth.login")),1),e(d,{label:o.$t("auth.usernameOrEmail"),prop:"usernameOrEmail",class:"inputWrapper LoginInputAnim1"},{default:t(()=>[e(u,{modelValue:s(n).usernameOrEmail,"onUpdate:modelValue":r[0]||(r[0]=l=>s(n).usernameOrEmail=l),type:"text",size:"large","prefix-icon":s(W)},null,8,["modelValue","prefix-icon"])]),_:1},8,["label"]),e(d,{label:o.$t("auth.passwd"),prop:"password",class:"inputWrapper LoginInputAnim2 LoginPasswordInputWrapper"},{default:t(()=>[e(u,{modelValue:s(n).password,"onUpdate:modelValue":r[1]||(r[1]=l=>s(n).password=l),type:"password",size:"large","prefix-icon":s(P),formatter:l=>l.trim(),parser:l=>l.trim(),"show-password":""},null,8,["modelValue","prefix-icon","formatter","parser"])]),_:1},8,["label"]),D,a("div",M,[e(E,{size:"large",type:"primary",onClick:r[2]||(r[2]=l=>x(s(_)))},{default:t(()=>[p(i(o.$t("auth.login")),1)]),_:1})]),G,a("div",H,[a("div",J,[e(c,{type:"info"},{default:t(()=>[p(i(o.$t("auth.createNewAcc")),1)]),_:1}),e(g,{type:"primary"},{default:t(()=>[e(f,{to:"/signup"},{default:t(()=>[p(i(o.$t("auth.signup")),1)]),_:1})]),_:1})]),a("div",K,[e(g,{type:"primary"},{default:t(()=>[e(f,{to:"/acc/reset-password"},{default:t(()=>[p(i(o.$t("auth.resetPw")),1)]),_:1})]),_:1})])]),a("div",Q,[e(c,{size:"small",type:"info",style:{"word-break":"break-word"}},{default:t(()=>[p(i(o.$t("auth.loginTip1")),1)]),_:1})]),X]),_:1},8,["model","rules"])]),_:1})}}});export{he as default};
