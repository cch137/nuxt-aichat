import{E as V}from"./el-input.7399355a.js";import{E as g}from"./el-button.597cc957.js";import{_ as v}from"./client-only.7b0b131c.js";import{f as y,r as p,g as E,w as u,o as w,a as d,b as n,h as s,i as c,d as N,E as m,j as B}from"./entry.4089d136.js";import{u as b}from"./useAdmin.b1f620ed.js";import{u as k}from"./useTitle.cdb0dd51.js";const C={class:"flex-col flex-center gap-2"},O={class:"flex gap-2 my-8"},G={__name:"entrance",setup(T){const i=y("appName").value,o=p(""),{password:a}=b(),_=p(!1),f=()=>{$fetch("/api/auth/replaceUser",{method:"POST",body:{password:a.value,id:o.value}}).then(e=>{e!=null&&e.error?m.error(e==null?void 0:e.error):B().$router.push("/c/")}).catch(e=>{m.error(e)})};return k(`Entrance - ${i}`),(e,t)=>{const r=V,x=g,h=v;return w(),E(h,null,{default:u(()=>[d("div",C,[d("div",O,[n(r,{type:"text",placeholder:"id",modelValue:s(o),"onUpdate:modelValue":t[0]||(t[0]=l=>c(o)?o.value=l:null)},null,8,["modelValue"]),n(r,{type:"password",placeholder:"password",modelValue:s(a),"onUpdate:modelValue":t[1]||(t[1]=l=>c(a)?a.value=l:null)},null,8,["modelValue"]),n(x,{type:"primary",onClick:f,loading:s(_)},{default:u(()=>[N("GO")]),_:1},8,["loading"])])])]),_:1})}}};export{G as default};
