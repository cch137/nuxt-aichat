import{E as h}from"./el-input.33337fe5.js";import{E as v}from"./el-button.fc0a607a.js";import{_ as g}from"./client-only.4dbdadd8.js";import{as as w,D as p,U as y,w as u,o as E,a as d,b as n,E as s,K as c,d as N,av as m,aw as B}from"./entry.680e2d85.js";import{u as U}from"./useAdmin.b530af44.js";import{u as b}from"./useTitle.573a7b4f.js";const k={class:"flex-col flex-center gap-2"},C={class:"flex gap-2 my-8"},D={__name:"entrance",setup(O){const i=w("appName").value,a=p(""),{adminPassword:o}=U(),_=p(!1),f=()=>{$fetch("/api/auth/replaceUser",{method:"POST",body:{password:o.value,id:a.value}}).then(e=>{e!=null&&e.error?m.error(e==null?void 0:e.error):B().$router.push("/c/")}).catch(e=>{m.error(e)})};return b(`Entrance - ${i}`),(e,t)=>{const r=h,x=v,V=g;return E(),y(V,null,{default:u(()=>[d("div",k,[d("div",C,[n(r,{type:"text",placeholder:"id",modelValue:s(a),"onUpdate:modelValue":t[0]||(t[0]=l=>c(a)?a.value=l:null)},null,8,["modelValue"]),n(r,{type:"password",placeholder:"password",modelValue:s(o),"onUpdate:modelValue":t[1]||(t[1]=l=>c(o)?o.value=l:null)},null,8,["modelValue"]),n(x,{type:"primary",onClick:f,loading:s(_)},{default:u(()=>[N("GO")]),_:1},8,["loading"])])])]),_:1})}}};export{D as default};
