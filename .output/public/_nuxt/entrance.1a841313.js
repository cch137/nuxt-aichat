import{E as h}from"./el-input.1e6b9b8d.js";import{E as g}from"./el-button.d23d9ba3.js";import{_ as v}from"./client-only.a22efd39.js";import{i as y,r as p,j as E,w as u,o as w,a as d,b as n,k as s,Z as c,d as N,E as m,aD as k}from"./entry.1024d92c.js";import{u as B}from"./useAdmin.c9142f36.js";import{u as b}from"./useTitle.7e1ece39.js";const C={class:"flex-col flex-center gap-2"},O={class:"flex gap-2 my-8"},j={__name:"entrance",setup(T){const i=y("appName").value,o=p(""),{adminPassword:a}=B(),_=p(!1),f=()=>{$fetch("/api/auth/replaceUser",{method:"POST",body:{password:a.value,id:o.value}}).then(e=>{e!=null&&e.error?m.error(e==null?void 0:e.error):k().$router.push("/c/")}).catch(e=>{m.error(e)})};return b(`Entrance - ${i}`),(e,t)=>{const r=h,x=g,V=v;return w(),E(V,null,{default:u(()=>[d("div",C,[d("div",O,[n(r,{type:"text",placeholder:"id",modelValue:s(o),"onUpdate:modelValue":t[0]||(t[0]=l=>c(o)?o.value=l:null)},null,8,["modelValue"]),n(r,{type:"password",placeholder:"password",modelValue:s(a),"onUpdate:modelValue":t[1]||(t[1]=l=>c(a)?a.value=l:null)},null,8,["modelValue"]),n(x,{type:"primary",onClick:f,loading:s(_)},{default:u(()=>[N("GO")]),_:1},8,["loading"])])])]),_:1})}}};export{j as default};
