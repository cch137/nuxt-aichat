import{d as je,a as Ge,u as qe,E as ke,b as Ee,_ as Ie,c as Ye,e as Qe}from"./DefaultHeaderButtons.e1a69129.js";import{d as ye,b as Ze,u as Je,a as Xe,E as K}from"./el-button.9cf1b9e4.js";import{E as Se}from"./el-text.1313fb10.js";import{E as et,a as tt}from"./CommonSettings.87bc5095.js";import{b1 as ge,aR as Ne,a0 as Ve,f as P,x as W,bd as Me,W as D,r as fe,Y as Ae,a3 as ze,aW as nt,a4 as ae,o as v,j as F,b as n,w as s,a9 as ve,a,aX as ot,b0 as R,a6 as V,c as w,ar as Z,t as g,q as A,as as st,aZ as lt,be as at,aA as Be,ao as it,ap as z,m as rt,ax as ie,h as ut,ab as dt,ac as ct,k as t,bf as re,a1 as pt,bg as _t,a2 as mt,bh as Te,az as ft,a7 as be,a8 as De,l as H,_ as te,z as Fe,d as C,bi as we,bj as Ce,aF as Pe,bk as Oe,i as vt,bl as bt,bm as ht,bn as yt,y as gt,aQ as wt,aj as U,E as ue,p as Le,e as Re,bo as Ct,n as X,bp as xt,bq as $t}from"./entry.c8d59687.js";import{C as He,I as de,i as ee,U as J,E as he,t as kt,d as xe}from"./el-input.8c6d3326.js";import"./el-popper.440b7949.js";import{a as Et}from"./el-switch.78698d32.js";import{u as B,b as It,c as St}from"./useChat.68d6b0b3.js";import{E as Nt}from"./el-popover.1cb149dc.js";import{_ as pe}from"./client-only.8bf95797.js";/* empty css                */import{a as Ue,E as Vt}from"./el-form.95e2588a.js";import{_ as Mt}from"./nuxt-link.a67a48ec.js";import{E as At}from"./el-link.e17eded7.js";import{a as zt,E as ce}from"./el-overlay.d4b13c41.js";import{E as Bt}from"./focus-trap.145bbd45.js";import"./dropdown.1c2d0dff.js";import"./useAuth.8dbf7a7e.js";import"./index.8d17c4cf.js";import"./scroll.fc9c0e8e.js";import"./isEqual.fa335dc9.js";import"./_Uint8Array.bd14c3e8.js";import"./useTitle.22e79668.js";import"./str.d457f5f4.js";import"./_initCloneObject.dba67074.js";const Tt=100,Dt=600,$e={beforeMount(e,r){const d=r.value,{interval:l=Tt,delay:p=Dt}=ge(d)?{}:d;let _,b;const i=()=>ge(d)?d():d.handler(),m=()=>{b&&(clearTimeout(b),b=void 0),_&&(clearInterval(_),_=void 0)};e.addEventListener("mousedown",$=>{$.button===0&&(m(),i(),document.addEventListener("mouseup",()=>m(),{once:!0}),b=setTimeout(()=>{_=setInterval(()=>{i()},l)},p))})}},Ft=Ne({...je,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0}}),Pt=Ge,Ot=P({name:"ElDrawer",components:{ElOverlay:zt,ElFocusTrap:Bt,ElIcon:W,Close:Me},inheritAttrs:!1,props:Ft,emits:Pt,setup(e,{slots:r}){ye({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},D(()=>!!r.title)),ye({scope:"el-drawer",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/drawer.html#attributes",type:"Attribute"},D(()=>!!e.customClass));const d=fe(),l=fe(),p=Ae("drawer"),{t:_}=ze(),b=D(()=>e.direction==="rtl"||e.direction==="ltr"),i=D(()=>nt(e.size));return{...qe(e,d),drawerRef:d,focusStartRef:l,isHorizontal:b,drawerSize:i,ns:p,t:_}}}),Lt=["aria-label","aria-labelledby","aria-describedby"],Rt=["id"],Ht=["aria-label"],Ut=["id"];function Wt(e,r,d,l,p,_){const b=ae("close"),i=ae("el-icon"),m=ae("el-focus-trap"),$=ae("el-overlay");return v(),F(at,{to:"body",disabled:!e.appendToBody},[n(lt,{name:e.ns.b("fade"),onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave,persisted:""},{default:s(()=>[ve(n($,{mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex,onClick:e.onModalClick},{default:s(()=>[n(m,{loop:"",trapped:e.visible,"focus-trap-el":e.drawerRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:s(()=>[a("div",ot({ref:"drawerRef","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:e.titleId,"aria-describedby":e.bodyId},e.$attrs,{class:[e.ns.b(),e.direction,e.visible&&"open",e.customClass],style:e.isHorizontal?"width: "+e.drawerSize:"height: "+e.drawerSize,role:"dialog",onClick:r[1]||(r[1]=R(()=>{},["stop"]))}),[a("span",{ref:"focusStartRef",class:V(e.ns.e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(v(),w("header",{key:0,class:V(e.ns.e("header"))},[e.$slots.title?Z(e.$slots,"title",{key:1},()=>[A(" DEPRECATED SLOT ")]):Z(e.$slots,"header",{key:0,close:e.handleClose,titleId:e.titleId,titleClass:e.ns.e("title")},()=>[e.$slots.title?A("v-if",!0):(v(),w("span",{key:0,id:e.titleId,role:"heading",class:V(e.ns.e("title"))},g(e.title),11,Rt))]),e.showClose?(v(),w("button",{key:2,"aria-label":e.t("el.drawer.close"),class:V(e.ns.e("close-btn")),type:"button",onClick:r[0]||(r[0]=(...c)=>e.handleClose&&e.handleClose(...c))},[n(i,{class:V(e.ns.e("close"))},{default:s(()=>[n(b)]),_:1},8,["class"])],10,Ht)):A("v-if",!0)],2)):A("v-if",!0),e.rendered?(v(),w("div",{key:1,id:e.bodyId,class:V(e.ns.e("body"))},[Z(e.$slots,"default")],10,Ut)):A("v-if",!0),e.$slots.footer?(v(),w("div",{key:2,class:V(e.ns.e("footer"))},[Z(e.$slots,"footer")],2)):A("v-if",!0)],16,Lt)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[st,e.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var Kt=Ve(Ot,[["render",Wt],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const jt=Be(Kt),Gt=Ne({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:it,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||z(e)||["min","max"].includes(e),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0}}),qt={[He]:(e,r)=>r!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[de]:e=>z(e)||ee(e),[J]:e=>z(e)||ee(e)},Yt=["aria-label","onKeydown"],Qt=["aria-label","onKeydown"],Zt=P({name:"ElInputNumber"}),Jt=P({...Zt,props:Gt,emits:qt,setup(e,{expose:r,emit:d}){const l=e,{t:p}=ze(),_=Ae("input-number"),b=fe(),i=rt({currentValue:l.modelValue,userInput:null}),{formItem:m}=Ze(),$=D(()=>z(l.modelValue)&&l.modelValue<=l.min),c=D(()=>z(l.modelValue)&&l.modelValue>=l.max),f=D(()=>{const o=ne(l.step);return ie(l.precision)?Math.max(ne(l.modelValue),o):(o>l.precision,l.precision)}),y=D(()=>l.controls&&l.controlsPosition==="right"),M=Je(),k=Xe(),x=D(()=>{if(i.userInput!==null)return i.userInput;let o=i.currentValue;if(ee(o))return"";if(z(o)){if(Number.isNaN(o))return"";ie(l.precision)||(o=o.toFixed(l.precision))}return o}),j=(o,u)=>{if(ie(u)&&(u=f.value),u===0)return Math.round(o);let h=String(o);const E=h.indexOf(".");if(E===-1||!h.replace(".","").split("")[E+u])return o;const se=h.length;return h.charAt(se-1)==="5"&&(h=`${h.slice(0,Math.max(0,se-1))}6`),Number.parseFloat(Number(h).toFixed(u))},ne=o=>{if(ee(o))return 0;const u=o.toString(),h=u.indexOf(".");let E=0;return h!==-1&&(E=u.length-h-1),E},oe=(o,u=1)=>z(o)?j(o+l.step*u):i.currentValue,G=()=>{if(l.readonly||k.value||c.value)return;const o=Number(x.value)||0,u=oe(o);L(u),d(de,i.currentValue)},q=()=>{if(l.readonly||k.value||$.value)return;const o=Number(x.value)||0,u=oe(o,-1);L(u),d(de,i.currentValue)},O=(o,u)=>{const{max:h,min:E,step:I,precision:T,stepStrictly:se,valueOnClear:le}=l;h<E&&kt("InputNumber","min should not be greater than max.");let N=Number(o);if(ee(o)||Number.isNaN(N))return null;if(o===""){if(le===null)return null;N=ft(le)?{min:E,max:h}[le]:le}return se&&(N=j(Math.round(N/I)*I,T)),ie(T)||(N=j(N,T)),(N>h||N<E)&&(N=N>h?h:E,u&&d(J,N)),N},L=(o,u=!0)=>{var h;const E=i.currentValue,I=O(o);if(!u){d(J,I);return}E!==I&&(i.userInput=null,d(J,I),d(He,I,E),l.validateEvent&&((h=m==null?void 0:m.validate)==null||h.call(m,"change").catch(T=>xe())),i.currentValue=I)},_e=o=>{i.userInput=o;const u=o===""?null:Number(o);d(de,u),L(u,!1)},me=o=>{const u=o!==""?Number(o):"";(z(u)&&!Number.isNaN(u)||o==="")&&L(u),i.userInput=null},Y=()=>{var o,u;(u=(o=b.value)==null?void 0:o.focus)==null||u.call(o)},S=()=>{var o,u;(u=(o=b.value)==null?void 0:o.blur)==null||u.call(o)},Q=o=>{d("focus",o)},Ke=o=>{var u;d("blur",o),l.validateEvent&&((u=m==null?void 0:m.validate)==null||u.call(m,"blur").catch(h=>xe()))};return ut(()=>l.modelValue,o=>{const u=O(i.userInput),h=O(o,!0);!z(u)&&(!u||u!==h)&&(i.currentValue=h,i.userInput=null)},{immediate:!0}),dt(()=>{var o;const{min:u,max:h,modelValue:E}=l,I=(o=b.value)==null?void 0:o.input;if(I.setAttribute("role","spinbutton"),Number.isFinite(h)?I.setAttribute("aria-valuemax",String(h)):I.removeAttribute("aria-valuemax"),Number.isFinite(u)?I.setAttribute("aria-valuemin",String(u)):I.removeAttribute("aria-valuemin"),I.setAttribute("aria-valuenow",String(i.currentValue)),I.setAttribute("aria-disabled",String(k.value)),!z(E)&&E!=null){let T=Number(E);Number.isNaN(T)&&(T=null),d(J,T)}}),ct(()=>{var o;const u=(o=b.value)==null?void 0:o.input;u==null||u.setAttribute("aria-valuenow",`${i.currentValue}`)}),r({focus:Y,blur:S}),(o,u)=>(v(),w("div",{class:V([t(_).b(),t(_).m(t(M)),t(_).is("disabled",t(k)),t(_).is("without-controls",!o.controls),t(_).is("controls-right",t(y))]),onDragstart:u[1]||(u[1]=R(()=>{},["prevent"]))},[o.controls?ve((v(),w("span",{key:0,role:"button","aria-label":t(p)("el.inputNumber.decrease"),class:V([t(_).e("decrease"),t(_).is("disabled",t($))]),onKeydown:re(q,["enter"])},[n(t(W),null,{default:s(()=>[t(y)?(v(),F(t(pt),{key:0})):(v(),F(t(_t),{key:1}))]),_:1})],42,Yt)),[[t($e),q]]):A("v-if",!0),o.controls?ve((v(),w("span",{key:1,role:"button","aria-label":t(p)("el.inputNumber.increase"),class:V([t(_).e("increase"),t(_).is("disabled",t(c))]),onKeydown:re(G,["enter"])},[n(t(W),null,{default:s(()=>[t(y)?(v(),F(t(mt),{key:0})):(v(),F(t(Te),{key:1}))]),_:1})],42,Qt)),[[t($e),G]]):A("v-if",!0),n(t(he),{id:o.id,ref_key:"input",ref:b,type:"number",step:o.step,"model-value":t(x),placeholder:o.placeholder,readonly:o.readonly,disabled:t(k),size:t(M),max:o.max,min:o.min,name:o.name,label:o.label,"validate-event":!1,onWheel:u[0]||(u[0]=R(()=>{},["prevent"])),onKeydown:[re(R(G,["prevent"]),["up"]),re(R(q,["prevent"]),["down"])],onBlur:Ke,onFocus:Q,onInput:_e,onChange:me},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var Xt=Ve(Jt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const en=Be(Xt),tn=P({__name:"ModelSelect",setup(e){const{model:r}=B(),d=[{label:"GPT-3.5",value:"gpt3"},{label:"GPT-4",value:"gpt4"},{label:"GPT-Web",value:"gpt-web"},{label:"Claude-2-Web",value:"claude-2-web"},{label:"GPT3.5-FGA",value:"gpt3-fga"}];return(l,p)=>{const _=et,b=tt;return v(),w("div",null,[n(b,{modelValue:t(r),"onUpdate:modelValue":p[0]||(p[0]=i=>H(r)?r.value=i:null),placeholder:"Select model",class:"ChatbotModelSelect"},{default:s(()=>[(v(),w(be,null,De(d,i=>n(_,{key:i.value,label:i.label,value:i.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])])}}}),nn={style:{"max-height":"32px"},class:"flex items-center"},on=P({__name:"ContextSelect",setup(e){const{contextMode:r}=B();return(d,l)=>{const p=Et;return v(),w("div",nn,[n(p,{modelValue:t(r),"onUpdate:modelValue":l[0]||(l[0]=_=>H(r)?r.value=_:null),size:"large",class:"cursor-pointer",width:"56"},null,8,["modelValue"])])}}});const sn=P({__name:"TemperatureSelect",setup(e){const{temperature:r}=B();return(d,l)=>{const p=en;return v(),w("div",null,[n(p,{modelValue:t(r),"onUpdate:modelValue":l[0]||(l[0]=_=>H(r)?r.value=_:null),min:0,max:1,step:.1,style:{width:"100%"}},null,8,["modelValue"])])}}});const ln={class:"flex flex-col py-1 px-2 -m-2 -mx-3",style:{"margin-bottom":"-10px"}},an={__name:"MoreActions",setup(e){const{refreshConversation:r,renameConversation:d,deleteConversation:l,resetConvConfig:p,exportAsMarkdown:_,exportAsJson:b}=B();return(i,m)=>{const $=W,c=K,f=ke,y=Ee,M=pe;return v(),F(M,null,{default:s(()=>[n(y,{trigger:"click",placement:"bottom"},{dropdown:s(()=>[n(f,{style:{overflow:"hidden"}},{default:s(()=>[a("div",ln,[a("div",null,[n(c,{class:"MoreOptionButton",icon:t(Fe),onClick:m[0]||(m[0]=k=>t(d)())},{default:s(()=>[C(g(i.$t("action.renameConv")),1)]),_:1},8,["icon"])]),a("div",null,[n(c,{class:"MoreOptionButton",icon:t(we),onClick:m[1]||(m[1]=k=>t(p)(!0))},{default:s(()=>[C(g(i.$t("action.resetConv")),1)]),_:1},8,["icon"])]),a("div",null,[n(c,{class:"MoreOptionButton",icon:t(Ce),onClick:m[2]||(m[2]=k=>t(_)())},{default:s(()=>[C(g(i.$t("action.exportAs"))+" .MD ",1)]),_:1},8,["icon"])]),a("div",null,[n(c,{class:"MoreOptionButton",icon:t(Ce),onClick:m[3]||(m[3]=k=>t(b)())},{default:s(()=>[C(g(i.$t("action.exportAs"))+" .JSON ",1)]),_:1},8,["icon"])]),a("div",null,[n(c,{class:"MoreOptionButton",icon:t(we),onClick:m[4]||(m[4]=k=>t(r)())},{default:s(()=>[C(g(i.$t("action.refresh")),1)]),_:1},8,["icon"])]),a("div",null,[n(c,{type:"danger",class:"MoreOptionButton",icon:t(Pe),onClick:m[5]||(m[5]=k=>t(l)()),plain:""},{default:s(()=>[C(g(i.$t("action.deleteConv")),1)]),_:1},8,["icon"])])])]),_:1})]),default:s(()=>[n(c,{size:"small",style:{padding:"8px"}},{default:s(()=>[n($,{style:{margin:"0 -0.125rem"}},{default:s(()=>[n(t(Oe))]),_:1})]),_:1})]),_:1})]),_:1})}}},rn=te(an,[["__scopeId","data-v-004409ad"]]);const un=e=>(Le("data-v-941d6f58"),e=e(),Re(),e),dn={class:"h-full max-h-full flex flex-col"},cn={class:"flex justify-stretch"},pn={class:"flex-1 mt-0"},_n={class:"px-1"},mn={class:"flex flex-col pr-1 gap-1"},fn={class:"flex gap-1"},vn={class:"flex gap-1"},bn={key:0,class:"flex gap-1"},hn=un(()=>a("span",{class:"mr-2"},"Temperature",-1)),yn={class:"info"},gn={class:"flex-1",style:{width:"calc(50% - 0.25rem)"}},wn={key:1,class:"flex gap-1"},Cn={class:"flex flex-1"},xn={class:"flex-1 text-right pr-2"},$n={class:"mt-4 mb-0"},kn={class:"mt-1 border rounded overflow-hidden",style:{height:"45vh","border-color":"var(--el-border-color)"}},En={class:"border-b createNewChat-bg",style:{"border-color":"var(--el-border-color)"}},In={class:"ConversationList overflow-y-auto overflow-x-hidden flex-1",style:{"max-height":"calc(100% - 32px)"}},Sn=["active"],Nn={class:"text-ellipsis overflow-hidden max-w-full"},Vn={class:"ConversationLinkButtons px-1 flex-center"},Mn={class:"flex flex-col py-1 px-2 -m-2 -mx-3",style:{"margin-bottom":"-10px"}},An={class:"flex flex-col mt-4 gap-1"},zn={class:"pl-1"},Bn={class:"pl-1"},Tn={class:"pl-1"},Dn={__name:"ConvMenu",setup(e){const r=vt("version",()=>""),{conversations:d,model:l,getCurrentConvId:p,focusInput:_,renameConversation:b,deleteConversation:i}=B();r.value===""&&$fetch("/api/version",{method:"POST"}).then(c=>{r.value=c.version}).catch(()=>{});const m=()=>{ce({title:"Aboute Me",message:()=>U("div",[U("div","I'm a web developer, and I can create a great website that suits your needs perfectly! Feel free to reach out to me to learn more."),U("br",""),U("div",[U("strong","Email: "),U("span","137emailservice@gmail.com")])])})},$=()=>{ce.prompt("Your name:","What should we call you?").then(({value:c})=>{if(c=c.trim(),!c)throw"Name cannot be empty";ce.prompt("What would you like to tell us?","We value your feedback, thank you!").then(async({value:f})=>{if(f=f.trim(),!f)throw"Feedback cannot be empty";const y=await $fetch("/api/stats/feedback",{method:"POST",body:{name:c,feedback:f}});!y||"error"in y?ue.error("Feedback submission failed."):ue.success("Feedback submitted successfully")}).catch(()=>{ue.info("Feedback has been cancelled.")})}).catch(()=>{ue.info("Feedback has been cancelled.")})};return(c,f)=>{const y=Se,M=tn,k=on,x=W,j=Nt,ne=pe,oe=sn,G=rn,q=Ue,O=K,L=Mt,_e=ke,me=Ee,Y=At;return v(),w("div",dn,[n(q,{onSubmit:f[0]||(f[0]=R(()=>{},["prevent"]))},{default:s(()=>[a("div",cn,[a("h4",pn,g(c.$t("settings.title")),1),a("div",_n,[t(r)?(v(),F(y,{key:0,type:"info",size:"small"},{default:s(()=>[C(" v"+g(t(r)),1)]),_:1})):A("",!0)])]),a("div",mn,[a("div",fn,[n(y,{class:"flex-1"},{default:s(()=>[C(g(c.$t("settings.model")),1)]),_:1}),n(M,{class:"flex-1"})]),a("div",vn,[n(y,{class:"flex-1"},{default:s(()=>[C(g(c.$t("settings.context")),1)]),_:1}),n(k,{class:"flex-1"})]),["gpt4","gpt3","gpt3-fga"].includes(t(l))?(v(),w("div",bn,[n(y,{class:"flex flex-1 items-center"},{default:s(()=>[hn,n(ne,null,{default:s(()=>[n(j,{placement:"bottom",width:240,trigger:"click"},{reference:s(()=>[n(x,{color:"#409EFF",class:"cursor-pointer",size:"large"},{default:s(()=>[n(t(bt))]),_:1})]),default:s(()=>[a("div",yn,[n(y,{class:"info"},{default:s(()=>[C(g(c.$t("menu.tempInfo")),1)]),_:1})])]),_:1})]),_:1})]),_:1}),a("div",gn,[n(oe,{class:"w-full"})])])):A("",!0),t(p)()?(v(),w("div",wn,[a("div",Cn,[a("div",xn,[n(y,{size:"small",type:"info"},{default:s(()=>[C(g(c.$t("action.more")),1)]),_:1})]),n(G)])])):A("",!0)])]),_:1}),a("h4",$n,g(c.$t("chat.chats")),1),a("div",kn,[a("div",En,[n(L,{id:"createNewChat",to:"/c/",onClick:t(_)},{default:s(()=>[n(O,{icon:t(Te),class:"ConversationLink w-full",style:{border:"none",background:"transparent !important"}},{default:s(()=>[C(g(c.$t("chat.newChat")),1)]),_:1},8,["icon"])]),_:1},8,["onClick"])]),a("div",In,[(v(!0),w(be,null,De(t(d),S=>(v(),w("div",{class:V(["ConversationLink flex items-center",S.moreActionsExpanded?"MoreOptionsExpended":""]),active:S.id===t(p)()},[n(L,{id:S.id,to:`/c/${S.id}`,class:V(["justify-start items-center flex gap-1 py-1 px-4 w-full",S.id===t(p)()?"pointer-events-none":""])},{default:s(()=>[n(x,null,{default:s(()=>[n(t(ht))]),_:1}),a("span",Nn,g(S.name||t(It).convert(S.id,"64w",10)),1)]),_:2},1032,["id","to","class"]),a("div",Vn,[n(y,{type:"info",class:"flex gap-2"},{default:s(()=>[n(me,{trigger:"click",placement:"bottom",onVisibleChange:Q=>S.moreActionsExpanded=Q},{dropdown:s(()=>[n(_e,{style:{overflow:"hidden"}},{default:s(()=>[a("div",Mn,[a("div",null,[n(O,{class:"MoreOptionButton",icon:t(Fe),onClick:Q=>t(b)(S.id,S.name)},{default:s(()=>[C(g(c.$t("action.rename")),1)]),_:2},1032,["icon","onClick"])]),a("div",null,[n(O,{type:"danger",class:"MoreOptionButton",icon:t(Pe),onClick:Q=>t(i)(S.id),plain:""},{default:s(()=>[C(g(c.$t("action.delete")),1)]),_:2},1032,["icon","onClick"])])])]),_:2},1024)]),default:s(()=>[n(y,null,{default:s(()=>[n(x,{class:"cursor-pointer"},{default:s(()=>[n(t(Oe))]),_:1})]),_:1})]),_:2},1032,["onVisibleChange"])]),_:2},1024)])],10,Sn))),256))])]),a("div",An,[a("div",null,[n(Y,{href:"https://www.buymeacoffee.com/cch137",target:"_blank",icon:t(yt)},{default:s(()=>[a("div",zn,[n(y,{size:"large",style:{color:"inherit"}},{default:s(()=>[C("Buy me a coffee")]),_:1})])]),_:1},8,["icon"])]),a("div",null,[n(Y,{onClick:f[1]||(f[1]=S=>m()),target:"_blank",icon:t(gt)},{default:s(()=>[a("div",Bn,[n(y,{size:"large",style:{color:"inherit"}},{default:s(()=>[C("About me")]),_:1})])]),_:1},8,["icon"])]),a("div",null,[n(Y,{onClick:f[2]||(f[2]=S=>$()),target:"_blank",icon:t(wt)},{default:s(()=>[a("div",Tn,[n(y,{size:"large",style:{color:"inherit"}},{default:s(()=>[C("Feedback")]),_:1})])]),_:1},8,["icon"])])])])}}},We=te(Dn,[["__scopeId","data-v-941d6f58"]]);const Fn={class:"flex"},Pn={class:"flex flex-1"},On={__name:"ConvSidebar",setup(e){const{openSidebar:r}=B();return(d,l)=>{const p=Ie,_=K,b=We;return v(),w("div",{class:"ChatbotConvSidebar flex flex-col z-50",style:X(`transform: translateX(${t(r)?"0":"-100%"});`)},[a("div",Fn,[a("div",Pn,[n(p)]),n(_,{class:"ChatbotConvHeaderMenuButton",icon:t(Ct),style:{padding:"8px"},onClick:l[0]||(l[0]=i=>r.value=!1)},null,8,["icon"])]),n(b,{class:"flex-1 mt-4"})],4)}}},Ln=te(On,[["__scopeId","data-v-23b359e4"]]),Rn={class:"px-2 pb-4 flex flex-col gap-4"},Hn={class:"flex items-center justify-end"},Un=P({__name:"EditMessageDialog",setup(e){const{isEditingMessage:r,editingMessage:d,editingMessageContent:l,inputMaxLength:p,focusEditMessageInput:_,sendMessage:b}=B();function i(){r.value=!1}function m(c){c.key==="Enter"&&!c.shiftKey&&($(),c.preventDefault())}async function $(){if(d.value===void 0)return;const c=l.value.trim();try{c===""&&await ce.confirm("Do you want to continue generating answer based on the conversation history?")}catch{i();return}const f=setTimeout(()=>{d.value!==void 0&&(d.value.Q=c),i()},100);await b(c,d.value.id)||(clearTimeout(f),_())}return(c,f)=>{const y=he,M=K,k=Ye;return v(),F(k,{modelValue:t(r),"onUpdate:modelValue":f[4]||(f[4]=x=>H(r)?r.value=x:null),title:c.$t("chat.editQues"),width:"80%",style:{"max-width":"600px"}},{default:s(()=>[a("div",Rn,[n(y,{modelValue:t(l),"onUpdate:modelValue":f[0]||(f[0]=x=>H(l)?l.value=x:null),autosize:{minRows:4,maxRows:16},type:"textarea",size:"large",class:"EditMessageInput",maxlength:t(p),autofocus:!0,onKeydown:f[1]||(f[1]=x=>m(x))},null,8,["modelValue","maxlength"]),a("div",Hn,[n(M,{onClick:f[2]||(f[2]=x=>i()),icon:t(Me)},{default:s(()=>[C(g(c.$t("message.cancel")),1)]),_:1},8,["icon"]),n(M,{onClick:f[3]||(f[3]=x=>$()),type:"primary",icon:t(xt)},{default:s(()=>[C(g(c.$t("action.saveNSubmit")),1)]),_:1},8,["icon"])])])]),_:1},8,["modelValue","title"])}}});const Wn={},Kn=e=>(Le("data-v-3c80ec5a"),e=e(),Re(),e),jn={class:"MenuIcon"},Gn=Kn(()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 96 960 960"},[a("path",{d:"M120 816v-60h720v60H120Zm0-210v-60h720v60H120Zm0-210v-60h720v60H120Z"})],-1)),qn=[Gn];function Yn(e,r){return v(),w("i",jn,qn)}const Qn=te(Wn,[["render",Yn],["__scopeId","data-v-3c80ec5a"]]);const Zn={class:"fixed z-50 w-full flex"},Jn={class:"ChatbotConvHeader px-4 gap-4 flex items-stretch flex-1"},Xn=a("div",{class:"flex-1 flex items-center justify-end gap-2"},null,-1),eo={__name:"ConvHeader",setup(e){const{openMenu:r,openSidebar:d}=B();return r.value=!0,(l,p)=>{const _=Ln,b=Un,i=Qn,m=K,$=Ie,c=Qe;return v(),w("div",Zn,[a("div",{style:X(`min-width: ${t(d)?"280px":"0px"}; width: ${t(d)?"25%":"0px"}; transition: .1s;`)},null,4),n(_),n(b),a("div",Jn,[a("div",{style:X([t(d)?"opacity: 0; pointer-events: none; width: 0px;":"",{transition:".1s"}])},[n(m,{style:{padding:"8px"},onClick:p[0]||(p[0]=f=>r.value=!t(r))},{default:s(()=>[n(i)]),_:1})],4),n($,{style:X(t(d)?"opacity: 0; pointer-events: none; width: 0px;":"")},null,8,["style"]),Xn,n(c)])])}}},to=eo,no={class:"InputBoxOuter flex fixed w-full z-40"},oo={class:"InputBox pt-20 pb-1 px-2 flex-1"},so={class:"flex gap-3 w-full mx-auto justify-center px-2",style:{"max-width":"900px"}},lo={class:"w-full"},ao={class:"InputBoxActionButtonGroup flex flex-col gap-1"},io={style:{"margin-left":".25rem"}},ro={class:"text-center mt-1",style:{"line-height":"1em"}},uo=P({__name:"InputBox",setup(e){const{sendMessage:r,openSidebar:d,inputMaxLength:l,inputValue:p}=B(),_=i=>{i.key==="Enter"&&!i.shiftKey&&(r(),i.preventDefault())},b=()=>{r()};return(i,m)=>{const $=he,c=W,f=K,y=Vt,M=Ue,k=Se;return v(),w("div",no,[a("div",{style:X(`min-width: ${t(d)?"280px":"0px"}; width: ${t(d)?"25%":"0px"}; transition: .1s;`)},null,4),a("div",oo,[n(M,{ref:"inputForm",class:"mx-auto max-w-full",onSubmit:m[2]||(m[2]=R(()=>{},["prevent"]))},{default:s(()=>[n(y,{style:{margin:"0"}},{default:s(()=>[a("div",so,[a("div",lo,[n($,{modelValue:t(p),"onUpdate:modelValue":m[0]||(m[0]=x=>H(p)?p.value=x:null),autosize:{minRows:2,maxRows:16},type:"textarea",size:"large",maxlength:t(l),autofocus:!0,onKeydown:m[1]||(m[1]=x=>_(x))},null,8,["modelValue","maxlength"])]),a("div",ao,[n(f,{type:"primary",onClick:b,style:{padding:"12px"},size:"large"},{default:s(()=>[n(c,null,{default:s(()=>[n(t($t))]),_:1}),a("span",io,g(i.$t("chat.send")),1)]),_:1})])])]),_:1})]),_:1},512),a("div",ro,[n(k,{type:"info",size:"small"},{default:s(()=>[C(g(i.$t("footer.patient")),1)]),_:1})])])])}}});const co={style:{"margin-top":"-1.5rem",height:"calc(100% + 1.5rem)"}},po={__name:"ConvDrawer",setup(e){const{openMenu:r,openDrawer:d}=B();{let l=window.innerWidth;window.onresize=()=>{const p=window.innerWidth;p!==l&&(l=p,r.value=!1,St().isTouchScreen||setTimeout(()=>{r.value=!0},0))}}return(l,p)=>{const _=We,b=jt,i=pe;return v(),F(i,null,{default:s(()=>[n(b,{modelValue:t(d),"onUpdate:modelValue":p[0]||(p[0]=m=>H(d)?d.value=m:null),title:l.$t("menu.title"),direction:"ltr",style:{"min-width":"320px","max-width":"100vw"}},{default:s(()=>[a("div",co,[n(_)])]),_:1},8,["modelValue","title"])]),_:1})}}},_o=po,mo={},fo={style:{"padding-top":"56px"},class:"w-full"};function vo(e,r){const d=to,l=pe,p=uo,_=_o;return v(),w(be,null,[n(l,null,{default:s(()=>[n(d)]),_:1}),a("div",fo,[Z(e.$slots,"default"),n(l,null,{default:s(()=>[n(p),n(_)]),_:1})])],64)}const Uo=te(mo,[["render",vo]]);export{Uo as default};
