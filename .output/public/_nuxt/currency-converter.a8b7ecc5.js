import{E as se,a as ue}from"./el-select.a2e9c6ba.js";import{E as le}from"./el-input.27b4f856.js";import{E as he}from"./el-button.bbfc23da.js";import{aQ as ie,f as pe,r as U,h as X,af as ce,g as fe,i as ve,o as V,c as L,a as I,t as ye,b as D,w as Q,F as J,C as Z,j as x,k as H,aR as me,m as ee}from"./entry.92285b0b.js";import"./el-popper.4861c766.js";import{u as de}from"./useTitle.47de4d7e.js";import"./scroll.b0f4903f.js";import"./isEqual.e69187d3.js";import"./_Uint8Array.0fb191f2.js";import"./focus-trap.efaf2a1f.js";var ne={exports:{}},B={},Y={};(function(r){function e(){return e=Object.assign?Object.assign.bind():function(a){for(var h=1;h<arguments.length;h++){var n=arguments[h];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])}return a},e.apply(this,arguments)}Object.defineProperty(r,"__esModule",{value:!0});var t,o={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0,14:-1};r.tokenTypes=void 0,(t=r.tokenTypes||(r.tokenTypes={}))[t.FUNCTION_WITH_ONE_ARG=0]="FUNCTION_WITH_ONE_ARG",t[t.NUMBER=1]="NUMBER",t[t.BINARY_OPERATOR_HIGH_PRECENDENCE=2]="BINARY_OPERATOR_HIGH_PRECENDENCE",t[t.CONSTANT=3]="CONSTANT",t[t.OPENING_PARENTHESIS=4]="OPENING_PARENTHESIS",t[t.CLOSING_PARENTHESIS=5]="CLOSING_PARENTHESIS",t[t.DECIMAL=6]="DECIMAL",t[t.POSTFIX_FUNCTION_WITH_ONE_ARG=7]="POSTFIX_FUNCTION_WITH_ONE_ARG",t[t.FUNCTION_WITH_N_ARGS=8]="FUNCTION_WITH_N_ARGS",t[t.BINARY_OPERATOR_LOW_PRECENDENCE=9]="BINARY_OPERATOR_LOW_PRECENDENCE",t[t.BINARY_OPERATOR_PERMUTATION=10]="BINARY_OPERATOR_PERMUTATION",t[t.COMMA=11]="COMMA",t[t.EVALUATED_FUNCTION=12]="EVALUATED_FUNCTION",t[t.EVALUATED_FUNCTION_PARAMETER=13]="EVALUATED_FUNCTION_PARAMETER",t[t.SPACE=14]="SPACE",r.createTokens=function(a){return[{token:"sin",show:"sin",type:0,value:a.math.sin},{token:"cos",show:"cos",type:0,value:a.math.cos},{token:"tan",show:"tan",type:0,value:a.math.tan},{token:"pi",show:"&pi;",type:3,value:"PI"},{token:"(",show:"(",type:4,value:"("},{token:")",show:")",type:5,value:")"},{token:"P",show:"P",type:10,value:a.math.P},{token:"C",show:"C",type:10,value:a.math.C},{token:" ",show:" ",type:14,value:" ".anchor},{token:"asin",show:"asin",type:0,value:a.math.asin},{token:"acos",show:"acos",type:0,value:a.math.acos},{token:"atan",show:"atan",type:0,value:a.math.atan},{token:"7",show:"7",type:1,value:"7"},{token:"8",show:"8",type:1,value:"8"},{token:"9",show:"9",type:1,value:"9"},{token:"int",show:"Int",type:0,value:Math.floor},{token:"cosh",show:"cosh",type:0,value:a.math.cosh},{token:"acosh",show:"acosh",type:0,value:a.math.acosh},{token:"ln",show:" ln",type:0,value:Math.log},{token:"^",show:"^",type:10,value:Math.pow},{token:"root",show:"root",type:0,value:Math.sqrt},{token:"4",show:"4",type:1,value:"4"},{token:"5",show:"5",type:1,value:"5"},{token:"6",show:"6",type:1,value:"6"},{token:"/",show:"&divide;",type:2,value:a.math.div},{token:"!",show:"!",type:7,value:a.math.fact},{token:"tanh",show:"tanh",type:0,value:a.math.tanh},{token:"atanh",show:"atanh",type:0,value:a.math.atanh},{token:"Mod",show:" Mod ",type:2,value:a.math.mod},{token:"1",show:"1",type:1,value:"1"},{token:"2",show:"2",type:1,value:"2"},{token:"3",show:"3",type:1,value:"3"},{token:"*",show:"&times;",type:2,value:a.math.mul},{token:"sinh",show:"sinh",type:0,value:a.math.sinh},{token:"asinh",show:"asinh",type:0,value:a.math.asinh},{token:"e",show:"e",type:3,value:"E"},{token:"log",show:" log",type:0,value:a.math.log},{token:"0",show:"0",type:1,value:"0"},{token:".",show:".",type:6,value:"."},{token:"+",show:"+",type:9,value:a.math.add},{token:"-",show:"-",type:9,value:a.math.sub},{token:",",show:",",type:11,value:","},{token:"Sigma",show:"&Sigma;",type:12,value:a.math.sigma},{token:"n",show:"n",type:13,value:"n"},{token:"Pi",show:"&Pi;",type:12,value:a.math.Pi},{token:"pow",show:"pow",type:8,value:Math.pow,numberOfArguments:2},{token:"&",show:"&",type:9,value:a.math.and}].map(function(h){return e({},h,{precedence:o[h.type]})})},r.preced=o})(Y);Object.defineProperty(B,"__esModule",{value:!0});var j=Y;function w(r,e){for(var t=0;t<r.length;t++)r[t]+=e;return r}var N={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0,14:!0},F={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0},we={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0},T={},$={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0},ge={1:!0},g=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"," ","&"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function ke(r,e,t,o){for(var a=0;a<o;a++)if(r[t+a]!==e[a])return!1;return!0}function te(r,e){for(var t=0;t<e.length;t++)if(e[t].token===r)return t;return-1}B.addToken=function(r){for(var e=0;e<r.length;e++){var t=r[e].token.length,o=-1;r[e].type===j.tokenTypes.FUNCTION_WITH_N_ARGS&&r[e].numberOfArguments===void 0&&(r[e].numberOfArguments=2),g[t]=g[t]||[];for(var a=0;a<g[t].length;a++)if(r[e].token===g[t][a]){o=te(g[t][a],this.tokens);break}o===-1?(this.tokens.push(r[e]),r[e].precedence=j.preced[r[e].type],g.length<=r[e].token.length&&(g[r[e].token.length]=[]),g[r[e].token.length].push(r[e].token)):(this.tokens[o]=r[e],r[e].precedence=j.preced[r[e].type])}},B.lex=function(r,e){var t,o={value:this.math.changeSign,type:0,precedence:4,show:"-"},a={value:")",show:")",type:5,precedence:0},h={value:"(",type:4,precedence:0,show:"("},n=[h],i=[],s=r,u=N,m=0,v=T,_="";e!==void 0&&this.addToken(e);var k=function(f,C){for(var b,O,S,q=[],K=C.length,A=0;A<K;A++)if(!(A<K-1&&C[A]===" "&&C[A+1]===" ")){for(b="",O=C.length-A>g.length-2?g.length-1:C.length-A;O>0;O--)if(g[O]!==void 0)for(S=0;S<g[O].length;S++)ke(C,g[O][S],A,O)&&(b=g[O][S],S=g[O].length,O=0);if(A+=b.length-1,b==="")throw new Error("Can't understand after "+C.slice(A));q.push(f.tokens[te(b,f.tokens)])}return q}(this,s);for(t=0;t<k.length;t++){var E=k[t];if(E.type!==14){var R,P=E.token,l=E.type,p=E.value,d=E.precedence,M=E.show,c=n[n.length-1];for(R=i.length;R--&&i[R]===0;)if([0,2,3,4,5,9,10,11,12,13].indexOf(l)!==-1){if(u[l]!==!0)throw new Error(P+" is not allowed after "+_);n.push(a),u=F,v=$,i.pop()}if(u[l]!==!0)throw new Error(P+" is not allowed after "+_);v[l]===!0&&(l=2,p=this.math.mul,M="&times;",d=3,t-=1);var y={value:p,type:l,precedence:d,show:M,numberOfArguments:E.numberOfArguments};if(l===0)u=N,v=T,w(i,2),n.push(y),k[t+1].type!==4&&(n.push(h),i.push(2));else if(l===1)c.type===1?(c.value+=p,w(i,1)):n.push(y),u=F,v=we;else if(l===2)u=N,v=T,w(i,2),n.push(y);else if(l===3)n.push(y),u=F,v=$;else if(l===4)w(i,1),m++,u=N,v=T,n.push(y);else if(l===5){if(!m)throw new Error("Closing parenthesis are more than opening one, wait What!!!");m--,u=F,v=$,n.push(y),w(i,1)}else if(l===6){if(c.hasDec)throw new Error("Two decimals are not allowed in one number");c.type!==1&&(c={show:"0",value:0,type:1,precedence:0},n.push(c)),u=ge,w(i,1),v=T,c.value+=p,c.hasDec=!0}else l===7&&(u=F,v=$,w(i,1),n.push(y));l===8?(u=N,v=T,w(i,E.numberOfArguments+2),n.push(y),k[t+1].type!==4&&(n.push(h),i.push(E.numberOfArguments+2))):l===9?(c.type===9?c.value===this.math.add?(c.value=p,c.show=M,w(i,1)):c.value===this.math.sub&&M==="-"&&(c.value=this.math.add,c.show="+",w(i,1)):c.type!==5&&c.type!==7&&c.type!==1&&c.type!==3&&c.type!==13?P==="-"&&(u=N,v=T,w(i,2).push(2),n.push(o),n.push(h)):(n.push(y),w(i,2)),u=N,v=T):l===10?(u=N,v=T,w(i,2),n.push(y)):l===11?(u=N,v=T,n.push(y)):l===12?(u=N,v=T,w(i,6),n.push(y),k[t+1].type!==4&&(n.push(h),i.push(6))):l===13&&(u=F,v=$,n.push(y)),w(i,-1),_=P}else if(t>0&&t<k.length-1&&k[t+1].type===1&&(k[t-1].type===1||k[t-1].type===6))throw new Error("Unexpected Space")}for(R=i.length;R--;)n.push(a);if(u[5]!==!0)throw new Error("complete the expression");for(;m--;)n.push(a);return n.push(a),n};var oe={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.toPostfix=function(e){for(var t,o,a,h=[],n=-1,i=-1,s=[{value:"(",type:4,precedence:0,show:"("}],u=1;u<e.length;u++)if(e[u].type===1||e[u].type===3||e[u].type===13)e[u].type===1&&(e[u].value=Number(e[u].value)),h.push(e[u]);else if(e[u].type===4)s.push(e[u]);else if(e[u].type===5)for(;((m=o=s.pop())==null?void 0:m.type)!==4;){var m;o&&h.push(o)}else if(e[u].type===11){for(;((v=o=s.pop())==null?void 0:v.type)!==4;){var v;o&&h.push(o)}s.push(o)}else{i=(t=e[u]).precedence,n=(a=s[s.length-1]).precedence;var _=a.value=="Math.pow"&&t.value=="Math.pow";if(i>n)s.push(t);else{for(;n>=i&&!_||_&&i<n;)o=s.pop(),a=s[s.length-1],o&&h.push(o),n=a.precedence,_=t.value=="Math.pow"&&a.value=="Math.pow";s.push(t)}}return h}})(oe);var re={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.postfixEval=function(e,t){(t=t||{}).PI=Math.PI,t.E=Math.E;for(var o,a,h,n=[],i=t.n!==void 0,s=0;s<e.length;s++)if(e[s].type===1)n.push({value:e[s].value,type:1});else if(e[s].type===3)n.push({value:t[e[s].value],type:1});else if(e[s].type===0){var u=n[n.length-1];Array.isArray(u)?u.push(e[s]):u.value=e[s].value(u.value)}else if(e[s].type===7){var m=n[n.length-1];Array.isArray(m)?m.push(e[s]):m.value=e[s].value(m.value)}else if(e[s].type===8){for(var v=[],_=0;_<e[s].numberOfArguments;_++){var k=n.pop();k&&v.push(k.value)}n.push({type:1,value:e[s].value.apply(e[s],v.reverse())})}else if(e[s].type===10)o=n.pop(),a=n.pop(),Array.isArray(a)?((a=a.concat(o)).push(e[s]),n.push(a)):Array.isArray(o)?(o.unshift(a),o.push(e[s]),n.push(o)):n.push({type:1,value:e[s].value(a.value,o.value)});else if(e[s].type===2||e[s].type===9)o=n.pop(),a=n.pop(),Array.isArray(a)?((a=a.concat(o)).push(e[s]),n.push(a)):Array.isArray(o)?(o.unshift(a),o.push(e[s]),n.push(o)):n.push({type:1,value:e[s].value(a.value,o.value)});else if(e[s].type===12){o=n.pop();var E=void 0;E=!Array.isArray(o)&&o?[o]:o||[],a=n.pop(),h=n.pop(),n.push({type:1,value:e[s].value(h.value,a.value,E)})}else e[s].type===13&&(i?n.push({value:t[e[s].value],type:3}):n.push([e[s]]));if(n.length>1)throw new Error("Uncaught Syntax error");return parseFloat(n[0].value.toFixed(15))}})(re);var z={};Object.defineProperty(z,"__esModule",{value:!0});z.createMathFunctions=function(r){return{isDegree:!0,acos:function(e){return r.math.isDegree?180/Math.PI*Math.acos(e):Math.acos(e)},add:function(e,t){return e+t},asin:function(e){return r.math.isDegree?180/Math.PI*Math.asin(e):Math.asin(e)},atan:function(e){return r.math.isDegree?180/Math.PI*Math.atan(e):Math.atan(e)},acosh:function(e){return Math.log(e+Math.sqrt(e*e-1))},asinh:function(e){return Math.log(e+Math.sqrt(e*e+1))},atanh:function(e){return Math.log((1+e)/(1-e))},C:function(e,t){var o=1,a=e-t,h=t;h<a&&(h=a,a=t);for(var n=h+1;n<=e;n++)o*=n;var i=r.math.fact(a);return i==="NaN"?"NaN":o/i},changeSign:function(e){return-e},cos:function(e){return r.math.isDegree&&(e=r.math.toRadian(e)),Math.cos(e)},cosh:function(e){return(Math.pow(Math.E,e)+Math.pow(Math.E,-1*e))/2},div:function(e,t){return e/t},fact:function(e){if(e%1!=0)return"NaN";for(var t=1,o=2;o<=e;o++)t*=o;return t},inverse:function(e){return 1/e},log:function(e){return Math.log(e)/Math.log(10)},mod:function(e,t){return e%t},mul:function(e,t){return e*t},P:function(e,t){for(var o=1,a=Math.floor(e)-Math.floor(t)+1;a<=Math.floor(e);a++)o*=a;return o},Pi:function(e,t,o){for(var a=1,h=e;h<=t;h++)a*=Number(r.postfixEval(o,{n:h}));return a},pow10x:function(e){for(var t=1;e--;)t*=10;return t},sigma:function(e,t,o){for(var a=0,h=e;h<=t;h++)a+=Number(r.postfixEval(o,{n:h}));return a},sin:function(e){return r.math.isDegree&&(e=r.math.toRadian(e)),Math.sin(e)},sinh:function(e){return(Math.pow(Math.E,e)-Math.pow(Math.E,-1*e))/2},sub:function(e,t){return e-t},tan:function(e){return r.math.isDegree&&(e=r.math.toRadian(e)),Math.tan(e)},tanh:function(e){return r.math.sinh(e)/r.math.cosh(e)},toRadian:function(e){return e*Math.PI/180},and:function(e,t){return e&t}}};var ae=B,W=Y,Ee=oe,_e=re,Me=z,G=function(){function r(){this.toPostfix=Ee.toPostfix,this.addToken=ae.addToken,this.lex=ae.lex,this.postfixEval=_e.postfixEval,this.math=Me.createMathFunctions(this),this.tokens=W.createTokens(this)}return r.prototype.eval=function(e,t,o){return this.postfixEval(this.toPostfix(this.lex(e,t)),o)},r}();G.TOKEN_TYPES=W.tokenTypes,G.tokenTypes=W.tokenTypes,ne.exports=G;var Te=ne.exports;const Oe=ie(Te),Ae={class:"mt-8 flex-col gap-4 flex-center"},Ne={class:"px-4 w-full max-w-prose flex flex-col gap-4 justify-center"},Re={class:"flex gap-4"},Ce={class:"flex-1 flex-center"},Ie={class:"flex gap-4"},xe={class:"flex-1 flex-center"},Pe={class:"flex-center"},je=pe({__name:"currency-converter",setup(r){const e=U([]),t=U("TWD"),o=U("MYR"),a=U(""),h=U("");async function n(l,p){var c;return l===p?1:((c=await(await fetch(`https://api.cch137.link/currency?from=${l}&to=${p}`)).json())==null?void 0:c.rate)||0}const i=(()=>{let l="",p="",d=0,M;return async()=>{const c=t.value,y=o.value;if(d<Date.now()||l!==c||p!==y){M=n(c,y),l=c,p=y;{const f=new URLSearchParams(location.search);f.set("from",c),f.set("to",y),history.replaceState(0,"",`${location.pathname}?${f.toString()}`)}d=Date.now()+5*60*1e3}return await M||1}})();function s(l,p=!0){const d=Math.round(l*100)/100;return p&&d%1===0?`${d}.00`:!p&&!d?"":d}function u(l){try{return new Oe().eval(l.toString())}catch{}return+l||0}async function m(l=!1){h.value=s(u(a.value)*await i()),l&&(a.value=s(u(a.value),!1))}async function v(l=!1){l&&(h.value=s(u(h.value))),a.value=s(u(h.value)/await i(),!1)}function _(){try{document.querySelector(".FxFromValueInput input").focus()}catch{}}function k(){const l=t.value;t.value=o.value,o.value=l}async function E(){const l=await fetch("https://api.cch137.link/currency-list");e.value=await l.json()}{X(t,()=>m()),X(o,()=>m());const l=new URLSearchParams(location.search),p=l.get("from")||"TWD",d=l.get("to")||"MYR";t.value=p,o.value=d,E(),m(),ce(_)}const R=fe().t,P=ve("appName").value;return de(`${R("page.currencyCvt")} - ${P}`),(l,p)=>{const d=ue,M=se,c=le,y=he;return V(),L("div",Ae,[I("h1",null,ye(l.$t("page.currencyCvt")),1),I("div",Ne,[I("div",Re,[D(M,{modelValue:x(t),"onUpdate:modelValue":p[0]||(p[0]=f=>H(t)?t.value=f:null),class:"currency-select",size:"large"},{default:Q(()=>[(V(!0),L(J,null,Z(x(e),f=>(V(),ee(d,{key:f,label:f,value:f},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),I("div",Ce,[D(c,{modelValue:x(a),"onUpdate:modelValue":p[1]||(p[1]=f=>H(a)?a.value=f:null),size:"large",class:"FxFromValueInput currency-input",onKeyup:p[2]||(p[2]=f=>m()),onChange:p[3]||(p[3]=f=>m(!0))},null,8,["modelValue"])])]),I("div",Ie,[D(M,{modelValue:x(o),"onUpdate:modelValue":p[4]||(p[4]=f=>H(o)?o.value=f:null),class:"currency-select",size:"large"},{default:Q(()=>[(V(!0),L(J,null,Z(x(e),f=>(V(),ee(d,{key:f,label:f,value:f},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),I("div",xe,[D(c,{modelValue:x(h),"onUpdate:modelValue":p[5]||(p[5]=f=>H(h)?h.value=f:null),size:"large",class:"FxFromValueOutput currency-input",onKeyup:p[6]||(p[6]=f=>v()),onChange:p[7]||(p[7]=f=>v(!0))},null,8,["modelValue"])])]),I("div",Pe,[D(y,{class:"SwitchCurrenciesButton",onClick:p[8]||(p[8]=f=>k()),icon:x(me),size:"large"},null,8,["icon"])])])])}}});export{je as default};
