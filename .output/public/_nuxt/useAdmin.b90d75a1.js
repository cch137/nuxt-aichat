import{D as u,at as d,ax as m,av as o}from"./entry.63b3f33c.js";let c;const r=u(!1),n=u(""),g="m",f=d({dcBotConnected:!1});function h(){c.value.k=n.value}function i(a={}){return h(),{passwd:n.value,...a}}function l(a){for(const s in a)f[s]=a[s]}async function p(){const a=await $fetch("/api/admin/check",{method:"POST",body:i()});a===null?(r.value=!1,o.error("Password incorrect")):(r.value=!0,l(a),o.success("Logged in"))}async function v(a,s,e){e&&(e[a]=!0),l(await $fetch("/api/admin/setting",{method:"POST",body:i({name:a,value:s})})),console.log(e),e&&(e[a]=!1)}const t=d([]);async function S(){const a=await $fetch("/api/admin/data/curva-record",{method:"POST",body:i()});if(!a){o.error("Curva usage record update failed");return}t.splice(0,t.length),t.push(...a)}function y(){return c=m(g,{}),n.value=c.value.k||"",{haveAccess:r,adminPassword:n,adminSettings:f,checkAdminLogin:p,changeSetting:v,curvaUsageList:t,updateCurvaUsageList:S}}export{y as u};
