import{D as f,at as l,ax as S,av as i}from"./entry.23fe35fd.js";function y(){let o;const c=f(!1),s=f(""),m="m",u=l({dcBotConnected:!1});function g(){o.value.k=s.value}function r(a={}){return g(),{passwd:s.value,...a}}function d(a){for(const n in a)u[n]=a[n]}async function h(){const a=await $fetch("/api/admin/check",{method:"POST",body:r()});a===null?(c.value=!1,i.error("Password incorrect")):(c.value=!0,d(a),i.success("Logged in"))}async function p(a,n,e){e&&(e[a]=!0),d(await $fetch("/api/admin/setting",{method:"POST",body:r({name:a,value:n})})),console.log(e),e&&(e[a]=!1)}const t=l([]);async function v(){const a=await $fetch("/api/admin/data/curva-record",{method:"POST",body:r()});if(!a){i.error("Curva usage record update failed");return}t.splice(0,t.length),t.push(...a)}return o=S(m,{}),s.value=o.value.k||"",{haveAccess:c,adminPassword:s,adminSettings:u,checkAdminLogin:h,changeSetting:p,curvaUsageList:t,updateCurvaUsageList:v}}export{y as u};
