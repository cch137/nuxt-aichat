import{E as y}from"./el-input.d18eef30.js";import{E as x}from"./el-button.4b8b0db5.js";import{_ as N}from"./nuxt-link.81824b76.js";import{_ as V}from"./CommonSettings.3580309f.js";import{f as k,g as C,r as i,h as E,i as S,o as b,c as B,a as s,t as o,b as n,j as u,k as U,w as c,d}from"./entry.47ed3b53.js";import{u as I}from"./useAuth.f2524eb0.js";import{u as L}from"./useTitle.00656d1d.js";import"./use-form-item.7ae86756.js";import"./el-text.bf65640f.js";import"./el-switch.abfb4b3a.js";import"./el-popper.eed081dc.js";import"./focus-trap.239f876e.js";import"./scroll.8fcb268d.js";import"./isEqual.4fdc7e3e.js";import"./_Uint8Array.c51109c4.js";import"./client-only.fe1dedf9.js";import"./useChat.254a0146.js";import"./el-overlay.724f1683.js";const T={class:"flex-col w-full max-w-prose p-4 m-auto",style:{height:"calc(100vh - 56px)"}},j={class:"flex gap-2"},ae=k({__name:"profile",setup(A){const _=C().t,{username:p,changeUsername:v}=I(),l=i(!1),m=i(!1),t=i(p.value),h=async()=>{m.value=!0;try{const e=await v(t.value);l.value=!e,e&&(t.value=p.value)}finally{m.value=!1}};return E(t,e=>{l.value=e!==p.value}),L(`${_("auth.profile")} - ${S("appName").value}`),(e,r)=>{const g=y,f=x,w=N,$=V;return b(),B("div",T,[s("h1",null,o(e.$t("auth.title")),1),s("h3",null,o(e.$t("auth.username")),1),s("div",j,[n(g,{modelValue:u(t),"onUpdate:modelValue":r[0]||(r[0]=a=>U(t)?t.value=a:null),type:"text",formatter:a=>a.replace(/[^\w]+/g,""),parser:a=>a.replace(/[^\w]+/g,"")},null,8,["modelValue","formatter","parser"]),n(f,{type:u(l)?"primary":"",disabled:!u(l),loading:u(m),onClick:r[1]||(r[1]=a=>h())},{default:c(()=>[d(o(e.$t("action.save")),1)]),_:1},8,["type","disabled","loading"])]),s("h3",null,o(e.$t("auth.passwd")),1),n(w,{href:"/acc/reset-password"},{default:c(()=>[n(f,null,{default:c(()=>[d(o(e.$t("auth.resetPw")),1)]),_:1})]),_:1}),s("h1",null,o(e.$t("settings.appearance")),1),n($)])}}});export{ae as default};
