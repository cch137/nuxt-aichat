import{E as O}from"./el-input.ece2ad57.js";import{E as V,a as k,_ as L}from"./el-form.77fd06de.js";import{E as I}from"./el-button.93db6cc9.js";import{E as N}from"./el-text.d1ca6135.js";import{_ as z}from"./nuxt-link.12297c2f.js";import{E as F}from"./el-link.a9bb25f6.js";import{_ as q}from"./client-only.5747b020.js";import{K as A,L as B,r as C,n as f,f as R,o as T,g as M,w as t,b as e,a as o,t as i,h as a,d as p,E as S,x as W,M as U}from"./entry.32771b15.js";import{u as D}from"./useAuth.64413400.js";import{u as K}from"./useTitle.34b5aadb.js";import"./isEqual.6312037b.js";import"./el-select.2508e097.js";import"./el-popper.d6ec8a7a.js";import"./focus-trap.447ef56c.js";import"./scroll.7528881f.js";import"./useChat.511d7cea.js";const P={class:"mt-0 mb-6"},j=o("div",{class:"p-6"},null,-1),G={class:"flex-center"},H=o("div",{class:"p-2"},null,-1),J={class:"flex-center flex-col gap-1"},Q={class:"flex-center flex-wrap gap-1",style:{"line-height":"1rem"}},X={style:{"line-height":"1rem"},class:"mt-2 text-center"},Y=o("div",{class:"p-8"},null,-1),Z={class:"absolute w-screen flex-center gap-2 p-3",style:{bottom:"0"}},ee={style:{width:"120px"}},ye=A({__name:"login",setup(te){const{login:g}=D(),m=B().t,c=C(),r=f({usernameOrEmail:"",password:""}),h=f({usernameOrEmail:[{required:!0,message:m("auth.usernameOrEmailRequired"),trigger:"change"}],password:[{required:!0,message:m("auth.passwdRequired"),trigger:"change"}]}),x=async s=>{await s.validate((l,u)=>{l?g(r.usernameOrEmail,r.password):S.error(m("auth.formIncomplete"))})};return K(`${m("auth.login")} - ${R("appName").value}`),(s,l)=>{const u=O,d=V,y=I,_=N,w=z,E=F,v=k,$=L,b=q;return T(),M(b,null,{default:t(()=>[e(v,{ref_key:"ruleFormRef",ref:c,model:a(r),rules:a(h),"label-position":"top",class:"flex-col flex-center w-full max-w-xs px-4 m-auto",style:{height:"calc(100vh - 56px)"}},{default:t(()=>[o("h1",P,i(s.$t("auth.login")),1),e(d,{label:s.$t("auth.usernameOrEmail"),prop:"usernameOrEmail",class:"inputWrapper LoginInputAnim1"},{default:t(()=>[e(u,{modelValue:a(r).usernameOrEmail,"onUpdate:modelValue":l[0]||(l[0]=n=>a(r).usernameOrEmail=n),type:"text",size:"large","prefix-icon":a(W)},null,8,["modelValue","prefix-icon"])]),_:1},8,["label"]),e(d,{label:s.$t("auth.passwd"),prop:"password",class:"inputWrapper LoginInputAnim2 LoginPasswordInputWrapper"},{default:t(()=>[e(u,{modelValue:a(r).password,"onUpdate:modelValue":l[1]||(l[1]=n=>a(r).password=n),type:"password",size:"large","prefix-icon":a(U),formatter:n=>n.trim(),parser:n=>n.trim(),"show-password":""},null,8,["modelValue","prefix-icon","formatter","parser"])]),_:1},8,["label"]),j,o("div",G,[e(y,{size:"large",type:"primary",onClick:l[2]||(l[2]=n=>x(a(c)))},{default:t(()=>[p(i(s.$t("auth.login")),1)]),_:1})]),H,o("div",J,[o("div",Q,[e(_,{type:"info"},{default:t(()=>[p(i(s.$t("auth.createNewAcc")),1)]),_:1}),e(E,{type:"primary"},{default:t(()=>[e(w,{to:"/signup"},{default:t(()=>[p(i(s.$t("auth.signup")),1)]),_:1})]),_:1})])]),o("div",X,[e(_,{size:"small",type:"info"},{default:t(()=>[p(i(s.$t("auth.loginTip1")),1)]),_:1})]),Y]),_:1},8,["model","rules"]),o("div",Z,[e(_,{type:"info",class:"opacity-75"},{default:t(()=>[p("More languages:")]),_:1}),o("span",ee,[e($,{size:"small"})])])]),_:1})}}});export{ye as default};
