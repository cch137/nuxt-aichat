import{bP as pe,A as N,L as he,bF as ge,bQ as le,aQ as Y,a0 as K,f as I,ae as ye,X as ie,r as m,U as C,ay as be,am as W,bc as F,o as B,j as U,w as ce,a9 as we,a as D,a6 as R,k as b,n as X,as as Se,aY as Ee,$ as ue,c as fe,b as V,a7 as xe,aR as Te,ap as L,aV as j,V as q,an as ze,Y as Q,aq as _e,h as Ce,ab as ke,ac as He,ar as Oe,a_ as Pe,l as Le,S as Be,aA as Re,ag as Ne}from"./entry.fe16f143.js";import{p as ve,i as Ae,q as Me,r as Ie,U as G}from"./isEqual.3b640268.js";import{t as $e}from"./el-input.3ab092ef.js";var We=/\s/;function Ue(e){for(var t=e.length;t--&&We.test(e.charAt(t)););return t}var De=/^\s+/;function Xe(e){return e&&e.slice(0,Ue(e)+1).replace(De,"")}var J=0/0,Ye=/^[-+]0x[0-9a-f]+$/i,Ke=/^0b[01]+$/i,Fe=/^0o[0-7]+$/i,Ve=parseInt;function Z(e){if(typeof e=="number")return e;if(pe(e))return J;if(N(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=N(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Xe(e);var n=Ke.test(e);return n||Fe.test(e)?Ve(e.slice(2),n?2:8):Ye.test(e)?J:+e}var ee=Object.create,je=function(){function e(){}return function(t){if(!N(t))return{};if(ee)return ee(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const qe=je;function zt(e,t){var n=-1,a=e.length;for(t||(t=Array(a));++n<a;)t[n]=e[n];return t}function _t(e,t,n,a){var u=!n;n||(n={});for(var f=-1,l=t.length;++f<l;){var i=t[f],o=a?a(n[i],e[i],i,n,e):void 0;o===void 0&&(o=e[i]),u?he(n,i,o):ge(n,i,o)}return n}function Qe(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Ge=Object.prototype,Je=Ge.hasOwnProperty;function Ze(e){if(!N(e))return Qe(e);var t=ve(e),n=[];for(var a in e)a=="constructor"&&(t||!Je.call(e,a))||n.push(a);return n}function Ct(e){return Ae(e)?Me(e,!0):Ze(e)}var et=Ie(Object.getPrototypeOf,Object);const tt=et;var de=typeof exports=="object"&&exports&&!exports.nodeType&&exports,te=de&&typeof module=="object"&&module&&!module.nodeType&&module,nt=te&&te.exports===de,ne=nt?le.Buffer:void 0,re=ne?ne.allocUnsafe:void 0;function kt(e,t){if(t)return e.slice();var n=e.length,a=re?re(n):new e.constructor(n);return e.copy(a),a}function rt(e){var t=new e.constructor(e.byteLength);return new G(t).set(new G(e)),t}function Ht(e,t){var n=t?rt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ot(e){return typeof e.constructor=="function"&&!ve(e)?qe(tt(e)):{}}var at=function(){return le.Date.now()};const $=at;var st="Expected a function",ot=Math.max,lt=Math.min;function Pt(e,t,n){var a,u,f,l,i,o,d=0,p=!1,c=!1,h=!0;if(typeof e!="function")throw new TypeError(st);t=Z(t)||0,N(n)&&(p=!!n.leading,c="maxWait"in n,f=c?ot(Z(n.maxWait)||0,t):f,h="trailing"in n?!!n.trailing:h);function g(s){var r=a,v=u;return a=u=void 0,d=s,l=e.apply(v,r),l}function w(s){return d=s,i=setTimeout(S,t),p?g(s):l}function k(s){var r=s-o,v=s-d,y=t-r;return c?lt(y,f-v):y}function z(s){var r=s-o,v=s-d;return o===void 0||r>=t||r<0||c&&v>=f}function S(){var s=$();if(z(s))return E(s);i=setTimeout(S,k(s))}function E(s){return i=void 0,h&&a?g(s):(a=u=void 0,l)}function H(){i!==void 0&&clearTimeout(i),d=0,a=o=u=i=void 0}function O(){return i===void 0?l:E($())}function x(){var s=$(),r=z(s);if(a=arguments,u=this,o=s,r){if(i===void 0)return w(o);if(c)return clearTimeout(i),i=setTimeout(S,t),g(o)}return i===void 0&&(i=setTimeout(S,t)),l}return x.cancel=H,x.flush=O,x}const _=4,it={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},ct=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),me=Symbol("scrollbarContextKey"),ut=Y({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),ft="Thumb",vt=I({__name:"thumb",props:ut,setup(e){const t=e,n=ye(me),a=ie("scrollbar");n||$e(ft,"can not inject scrollbar context");const u=m(),f=m(),l=m({}),i=m(!1);let o=!1,d=!1,p=ue?document.onselectstart:null;const c=C(()=>it[t.vertical?"vertical":"horizontal"]),h=C(()=>ct({size:t.size,move:t.move,bar:c.value})),g=C(()=>u.value[c.value.offset]**2/n.wrapElement[c.value.scrollSize]/t.ratio/f.value[c.value.offset]),w=s=>{var r;if(s.stopPropagation(),s.ctrlKey||[1,2].includes(s.button))return;(r=window.getSelection())==null||r.removeAllRanges(),z(s);const v=s.currentTarget;v&&(l.value[c.value.axis]=v[c.value.offset]-(s[c.value.client]-v.getBoundingClientRect()[c.value.direction]))},k=s=>{if(!f.value||!u.value||!n.wrapElement)return;const r=Math.abs(s.target.getBoundingClientRect()[c.value.direction]-s[c.value.client]),v=f.value[c.value.offset]/2,y=(r-v)*100*g.value/u.value[c.value.offset];n.wrapElement[c.value.scroll]=y*n.wrapElement[c.value.scrollSize]/100},z=s=>{s.stopImmediatePropagation(),o=!0,document.addEventListener("mousemove",S),document.addEventListener("mouseup",E),p=document.onselectstart,document.onselectstart=()=>!1},S=s=>{if(!u.value||!f.value||o===!1)return;const r=l.value[c.value.axis];if(!r)return;const v=(u.value.getBoundingClientRect()[c.value.direction]-s[c.value.client])*-1,y=f.value[c.value.offset]-r,P=(v-y)*100*g.value/u.value[c.value.offset];n.wrapElement[c.value.scroll]=P*n.wrapElement[c.value.scrollSize]/100},E=()=>{o=!1,l.value[c.value.axis]=0,document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",E),x(),d&&(i.value=!1)},H=()=>{d=!1,i.value=!!t.size},O=()=>{d=!0,i.value=o};be(()=>{x(),document.removeEventListener("mouseup",E)});const x=()=>{document.onselectstart!==p&&(document.onselectstart=p)};return W(F(n,"scrollbarElement"),"mousemove",H),W(F(n,"scrollbarElement"),"mouseleave",O),(s,r)=>(B(),U(Ee,{name:b(a).b("fade"),persisted:""},{default:ce(()=>[we(D("div",{ref_key:"instance",ref:u,class:R([b(a).e("bar"),b(a).is(b(c).key)]),onMousedown:k},[D("div",{ref_key:"thumb",ref:f,class:R(b(a).e("thumb")),style:X(b(h)),onMousedown:w},null,38)],34),[[Se,s.always||i.value]])]),_:1},8,["name"]))}});var ae=K(vt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const dt=Y({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),mt=I({__name:"bar",props:dt,setup(e,{expose:t}){const n=e,a=m(0),u=m(0);return t({handleScroll:l=>{if(l){const i=l.offsetHeight-_,o=l.offsetWidth-_;u.value=l.scrollTop*100/i*n.ratioY,a.value=l.scrollLeft*100/o*n.ratioX}}}),(l,i)=>(B(),fe(xe,null,[V(ae,{move:a.value,ratio:l.ratioX,size:l.width,always:l.always},null,8,["move","ratio","size","always"]),V(ae,{move:u.value,ratio:l.ratioY,size:l.height,vertical:"",always:l.always},null,8,["move","ratio","size","always"])],64))}});var pt=K(mt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const ht=Y({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Te([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),gt={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(L)},yt="ElScrollbar",bt=I({name:yt}),wt=I({...bt,props:ht,emits:gt,setup(e,{expose:t,emit:n}){const a=e,u=ie("scrollbar");let f,l;const i=m(),o=m(),d=m(),p=m("0"),c=m("0"),h=m(),g=m(1),w=m(1),k=C(()=>{const r={};return a.height&&(r.height=j(a.height)),a.maxHeight&&(r.maxHeight=j(a.maxHeight)),[a.wrapStyle,r]}),z=C(()=>[a.wrapClass,u.e("wrap"),{[u.em("wrap","hidden-default")]:!a.native}]),S=C(()=>[u.e("view"),a.viewClass]),E=()=>{var r;o.value&&((r=h.value)==null||r.handleScroll(o.value),n("scroll",{scrollTop:o.value.scrollTop,scrollLeft:o.value.scrollLeft}))};function H(r,v){Be(r)?o.value.scrollTo(r):L(r)&&L(v)&&o.value.scrollTo(r,v)}const O=r=>{L(r)&&(o.value.scrollTop=r)},x=r=>{L(r)&&(o.value.scrollLeft=r)},s=()=>{if(!o.value)return;const r=o.value.offsetHeight-_,v=o.value.offsetWidth-_,y=r**2/o.value.scrollHeight,P=v**2/o.value.scrollWidth,A=Math.max(y,a.minSize),M=Math.max(P,a.minSize);g.value=y/(r-y)/(A/(r-A)),w.value=P/(v-P)/(M/(v-M)),c.value=A+_<r?`${A}px`:"",p.value=M+_<v?`${M}px`:""};return q(()=>a.noresize,r=>{r?(f==null||f(),l==null||l()):({stop:f}=ze(d,s),l=W("resize",s))},{immediate:!0}),q(()=>[a.maxHeight,a.height],()=>{a.native||Q(()=>{var r;s(),o.value&&((r=h.value)==null||r.handleScroll(o.value))})}),_e(me,Ce({scrollbarElement:i,wrapElement:o})),ke(()=>{a.native||Q(()=>{s()})}),He(()=>s()),t({wrapRef:o,update:s,scrollTo:H,setScrollTop:O,setScrollLeft:x,handleScroll:E}),(r,v)=>(B(),fe("div",{ref_key:"scrollbarRef",ref:i,class:R(b(u).b())},[D("div",{ref_key:"wrapRef",ref:o,class:R(b(z)),style:X(b(k)),onScroll:E},[(B(),U(Pe(r.tag),{ref_key:"resizeRef",ref:d,class:R(b(S)),style:X(r.viewStyle)},{default:ce(()=>[Oe(r.$slots,"default")]),_:3},8,["class","style"]))],38),r.native?Le("v-if",!0):(B(),U(pt,{key:0,ref_key:"barRef",ref:h,height:c.value,width:p.value,always:r.always,"ratio-x":w.value,"ratio-y":g.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var St=K(wt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const Lt=Re(St),T=new Map;let se;ue&&(document.addEventListener("mousedown",e=>se=e),document.addEventListener("mouseup",e=>{for(const t of T.values())for(const{documentHandler:n}of t)n(e,se)}));function oe(e,t){let n=[];return Array.isArray(t.arg)?n=t.arg:Ne(t.arg)&&n.push(t.arg),function(a,u){const f=t.instance.popperRef,l=a.target,i=u==null?void 0:u.target,o=!t||!t.instance,d=!l||!i,p=e.contains(l)||e.contains(i),c=e===l,h=n.length&&n.some(w=>w==null?void 0:w.contains(l))||n.length&&n.includes(i),g=f&&(f.contains(l)||f.contains(i));o||d||p||c||h||g||t.value(a,u)}}const Bt={beforeMount(e,t){T.has(e)||T.set(e,[]),T.get(e).push({documentHandler:oe(e,t),bindingFn:t.value})},updated(e,t){T.has(e)||T.set(e,[]);const n=T.get(e),a=n.findIndex(f=>f.bindingFn===t.oldValue),u={documentHandler:oe(e,t),bindingFn:t.value};a>=0?n.splice(a,1,u):n.push(u)},unmounted(e){T.delete(e)}};export{Bt as C,Lt as E,zt as a,kt as b,_t as c,Ht as d,Pt as e,rt as f,tt as g,Ot as i,Ct as k};
