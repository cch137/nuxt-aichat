import{d as Ye,a as Ge,u as Je,E as Ie,b as Ve,_ as Se,c as Ne,e as Ze}from"./DefaultHeaderButtons.d2656bd0.js";import{E as H}from"./el-button.a8a52141.js";import{E as Ae}from"./el-text.1403e902.js";import{a as Xe,E as et}from"./el-select.000e3d5d.js";import{aL as Ce,a5 as Me,aj as Be,f as O,B as j,aU as ge,ad as B,r as be,a9 as De,aP as ze,ae as tt,aK as ie,o as b,m as S,b as n,w as l,I as he,a as r,aB as nt,av as U,U as M,c as x,ai as Z,t as C,v as L,K as ot,aD as lt,aV as st,ak as Le,al as at,a7 as z,l as it,ao as re,h as ye,af as rt,aM as ut,j as t,aW as ue,aX as dt,aY as ct,aZ as pt,a_ as Fe,am as mt,F as we,C as Te,k as T,E as Q,_ as ne,s as Oe,d as $,a$ as $e,b0 as fe,G as Pe,b1 as Re,i as _t,b2 as ft,b3 as vt,b4 as bt,b5 as ht,q as yt,W as gt,aF as K,p as Ue,e as He,b6 as wt,n as ee,b7 as Ke,b8 as Ct}from"./entry.beccbd28.js";import{e as xe,C as Qe,I as de,i as te,U as X,a as $t,b as xt,u as kt,E as ce,t as Et,d as ke}from"./el-input.a9ac0504.js";import"./el-popper.82da439c.js";import{u as D}from"./useChat.cbce2258.js";import{u as It}from"./useAuth.4dbe5138.js";import{E as Vt}from"./el-switch.1eba1513.js";import{E as St}from"./el-popover.2c173e0c.js";import{_ as pe}from"./client-only.c291f413.js";/* empty css                */import{a as je,E as Nt}from"./el-form.c2796ed5.js";import{_ as At}from"./nuxt-link.a3275f26.js";import{E as Mt}from"./el-link.594d72db.js";import{a as Bt,E as ve}from"./el-overlay.fe8533c5.js";import{E as Dt}from"./focus-trap.b4902fd3.js";import"./CommonSettings.2d856852.js";import"./dropdown.a785fe6f.js";import"./castArray.29763688.js";import"./scroll.e37204bc.js";import"./isEqual.10909eb7.js";import"./_Uint8Array.a472a153.js";import"./useTitle.77b56505.js";const zt=100,Lt=600,Ee={beforeMount(e,a){const d=a.value,{interval:s=zt,delay:v=Lt}=Ce(d)?{}:d;let f,_;const u=()=>Ce(d)?d():d.handler(),m=()=>{_&&(clearTimeout(_),_=void 0),f&&(clearInterval(f),f=void 0)};e.addEventListener("mousedown",c=>{c.button===0&&(m(),u(),document.addEventListener("mouseup",()=>m(),{once:!0}),_=setTimeout(()=>{f=setInterval(()=>{u()},s)},v))})}},Ft=Me({...Ye,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),Tt=Ge,Ot=O({name:"ElDrawer",components:{ElOverlay:Bt,ElFocusTrap:Dt,ElIcon:j,Close:ge},inheritAttrs:!1,props:Ft,emits:Tt,setup(e,{slots:a}){xe({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},B(()=>!!a.title)),xe({scope:"el-drawer",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/drawer.html#attributes",type:"Attribute"},B(()=>!!e.customClass));const d=be(),s=be(),v=De("drawer"),{t:f}=ze(),_=B(()=>e.direction==="rtl"||e.direction==="ltr"),u=B(()=>tt(e.size));return{...Je(e,d),drawerRef:d,focusStartRef:s,isHorizontal:_,drawerSize:u,ns:v,t:f}}}),Pt=["aria-label","aria-labelledby","aria-describedby"],Rt=["id","aria-level"],Ut=["aria-label"],Ht=["id"];function Kt(e,a,d,s,v,f){const _=ie("close"),u=ie("el-icon"),m=ie("el-focus-trap"),c=ie("el-overlay");return b(),S(st,{to:"body",disabled:!e.appendToBody},[n(lt,{name:e.ns.b("fade"),onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave,persisted:""},{default:l(()=>[he(n(c,{mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex,onClick:e.onModalClick},{default:l(()=>[n(m,{loop:"",trapped:e.visible,"focus-trap-el":e.drawerRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:l(()=>[r("div",nt({ref:"drawerRef","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:e.titleId,"aria-describedby":e.bodyId},e.$attrs,{class:[e.ns.b(),e.direction,e.visible&&"open",e.customClass],style:e.isHorizontal?"width: "+e.drawerSize:"height: "+e.drawerSize,role:"dialog",onClick:a[1]||(a[1]=U(()=>{},["stop"]))}),[r("span",{ref:"focusStartRef",class:M(e.ns.e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(b(),x("header",{key:0,class:M(e.ns.e("header"))},[e.$slots.title?Z(e.$slots,"title",{key:1},()=>[L(" DEPRECATED SLOT ")]):Z(e.$slots,"header",{key:0,close:e.handleClose,titleId:e.titleId,titleClass:e.ns.e("title")},()=>[e.$slots.title?L("v-if",!0):(b(),x("span",{key:0,id:e.titleId,role:"heading","aria-level":e.headerAriaLevel,class:M(e.ns.e("title"))},C(e.title),11,Rt))]),e.showClose?(b(),x("button",{key:2,"aria-label":e.t("el.drawer.close"),class:M(e.ns.e("close-btn")),type:"button",onClick:a[0]||(a[0]=(...i)=>e.handleClose&&e.handleClose(...i))},[n(u,{class:M(e.ns.e("close"))},{default:l(()=>[n(_)]),_:1},8,["class"])],10,Ut)):L("v-if",!0)],2)):L("v-if",!0),e.rendered?(b(),x("div",{key:1,id:e.bodyId,class:M(e.ns.e("body"))},[Z(e.$slots,"default")],10,Ht)):L("v-if",!0),e.$slots.footer?(b(),x("div",{key:2,class:M(e.ns.e("footer"))},[Z(e.$slots,"footer")],2)):L("v-if",!0)],16,Pt)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[ot,e.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var Qt=Be(Ot,[["render",Kt],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const jt=Le(Qt),Wt=Me({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:at,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||z(e)||["min","max"].includes(e),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0}}),qt={[Qe]:(e,a)=>a!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[de]:e=>z(e)||te(e),[X]:e=>z(e)||te(e)},Yt=["aria-label","onKeydown"],Gt=["aria-label","onKeydown"],Jt=O({name:"ElInputNumber"}),Zt=O({...Jt,props:Wt,emits:qt,setup(e,{expose:a,emit:d}){const s=e,{t:v}=ze(),f=De("input-number"),_=be(),u=it({currentValue:s.modelValue,userInput:null}),{formItem:m}=$t(),c=B(()=>z(s.modelValue)&&s.modelValue<=s.min),i=B(()=>z(s.modelValue)&&s.modelValue>=s.max),h=B(()=>{const o=oe(s.step);return re(s.precision)?Math.max(oe(s.modelValue),o):(o>s.precision,s.precision)}),y=B(()=>s.controls&&s.controlsPosition==="right"),N=xt(),w=kt(),k=B(()=>{if(u.userInput!==null)return u.userInput;let o=u.currentValue;if(te(o))return"";if(z(o)){if(Number.isNaN(o))return"";re(s.precision)||(o=o.toFixed(s.precision))}return o}),W=(o,p)=>{if(re(p)&&(p=h.value),p===0)return Math.round(o);let g=String(o);const E=g.indexOf(".");if(E===-1||!g.replace(".","").split("")[E+p])return o;const se=g.length;return g.charAt(se-1)==="5"&&(g=`${g.slice(0,Math.max(0,se-1))}6`),Number.parseFloat(Number(g).toFixed(p))},oe=o=>{if(te(o))return 0;const p=o.toString(),g=p.indexOf(".");let E=0;return g!==-1&&(E=p.length-g-1),E},le=(o,p=1)=>z(o)?W(o+s.step*p):u.currentValue,q=()=>{if(s.readonly||w.value||i.value)return;const o=Number(k.value)||0,p=le(o);R(p),d(de,u.currentValue)},Y=()=>{if(s.readonly||w.value||c.value)return;const o=Number(k.value)||0,p=le(o,-1);R(p),d(de,u.currentValue)},P=(o,p)=>{const{max:g,min:E,step:I,precision:F,stepStrictly:se,valueOnClear:ae}=s;g<E&&Et("InputNumber","min should not be greater than max.");let A=Number(o);if(te(o)||Number.isNaN(A))return null;if(o===""){if(ae===null)return null;A=mt(ae)?{min:E,max:g}[ae]:ae}return se&&(A=W(Math.round(A/I)*I,F)),re(F)||(A=W(A,F)),(A>g||A<E)&&(A=A>g?g:E,p&&d(X,A)),A},R=(o,p=!0)=>{var g;const E=u.currentValue,I=P(o);if(!p){d(X,I);return}E!==I&&(u.userInput=null,d(X,I),d(Qe,I,E),s.validateEvent&&((g=m==null?void 0:m.validate)==null||g.call(m,"change").catch(F=>ke())),u.currentValue=I)},me=o=>{u.userInput=o;const p=o===""?null:Number(o);d(de,p),R(p,!1)},_e=o=>{const p=o!==""?Number(o):"";(z(p)&&!Number.isNaN(p)||o==="")&&R(p),u.userInput=null},G=()=>{var o,p;(p=(o=_.value)==null?void 0:o.focus)==null||p.call(o)},V=()=>{var o,p;(p=(o=_.value)==null?void 0:o.blur)==null||p.call(o)},J=o=>{d("focus",o)},qe=o=>{var p;d("blur",o),s.validateEvent&&((p=m==null?void 0:m.validate)==null||p.call(m,"blur").catch(g=>ke()))};return ye(()=>s.modelValue,o=>{const p=P(u.userInput),g=P(o,!0);!z(p)&&(!p||p!==g)&&(u.currentValue=g,u.userInput=null)},{immediate:!0}),rt(()=>{var o;const{min:p,max:g,modelValue:E}=s,I=(o=_.value)==null?void 0:o.input;if(I.setAttribute("role","spinbutton"),Number.isFinite(g)?I.setAttribute("aria-valuemax",String(g)):I.removeAttribute("aria-valuemax"),Number.isFinite(p)?I.setAttribute("aria-valuemin",String(p)):I.removeAttribute("aria-valuemin"),I.setAttribute("aria-valuenow",u.currentValue||u.currentValue===0?String(u.currentValue):""),I.setAttribute("aria-disabled",String(w.value)),!z(E)&&E!=null){let F=Number(E);Number.isNaN(F)&&(F=null),d(X,F)}}),ut(()=>{var o,p;const g=(o=_.value)==null?void 0:o.input;g==null||g.setAttribute("aria-valuenow",`${(p=u.currentValue)!=null?p:""}`)}),a({focus:G,blur:V}),(o,p)=>(b(),x("div",{class:M([t(f).b(),t(f).m(t(N)),t(f).is("disabled",t(w)),t(f).is("without-controls",!o.controls),t(f).is("controls-right",t(y))]),onDragstart:p[1]||(p[1]=U(()=>{},["prevent"]))},[o.controls?he((b(),x("span",{key:0,role:"button","aria-label":t(v)("el.inputNumber.decrease"),class:M([t(f).e("decrease"),t(f).is("disabled",t(c))]),onKeydown:ue(Y,["enter"])},[n(t(j),null,{default:l(()=>[t(y)?(b(),S(t(dt),{key:0})):(b(),S(t(ct),{key:1}))]),_:1})],42,Yt)),[[t(Ee),Y]]):L("v-if",!0),o.controls?he((b(),x("span",{key:1,role:"button","aria-label":t(v)("el.inputNumber.increase"),class:M([t(f).e("increase"),t(f).is("disabled",t(i))]),onKeydown:ue(q,["enter"])},[n(t(j),null,{default:l(()=>[t(y)?(b(),S(t(pt),{key:0})):(b(),S(t(Fe),{key:1}))]),_:1})],42,Gt)),[[t(Ee),q]]):L("v-if",!0),n(t(ce),{id:o.id,ref_key:"input",ref:_,type:"number",step:o.step,"model-value":t(k),placeholder:o.placeholder,readonly:o.readonly,disabled:t(w),size:t(N),max:o.max,min:o.min,name:o.name,label:o.label,"validate-event":!1,onWheel:p[0]||(p[0]=U(()=>{},["prevent"])),onKeydown:[ue(U(q,["prevent"]),["up"]),ue(U(Y,["prevent"]),["down"])],onBlur:qe,onFocus:J,onInput:me,onChange:_e},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var Xt=Be(Zt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const en=Le(Xt),tn=O({__name:"ModelSelect",setup(e){const{model:a,models:d}=D(),{authlvl:s}=It();function v(){var u;if((((u=d.find(m=>m.value===a.value))==null?void 0:u.permissionLevel)||0)>s.value){a.value="";for(const m of d)if(m.permissionLevel<=s.value){a.value=m.value;break}}}function f(_){switch(_){case 1:Q.info("You are not logged in.");break;default:Q.info("This action requires higher permission levels.");break}}return v(),ye(s,()=>v()),ye(a,()=>v()),(_,u)=>{const m=Xe,c=et;return b(),x("div",null,[n(c,{modelValue:t(a),"onUpdate:modelValue":u[0]||(u[0]=i=>T(a)?a.value=i:null),placeholder:"Select model",class:"ChatbotModelSelect"},{default:l(()=>[(b(!0),x(we,null,Te(t(d),i=>(b(),S(m,{hidden:i.redirectTo,key:i.name,label:i.name,value:i.value,disabled:i.permissionLevel>t(s),onClick:()=>i.permissionLevel>t(s)?f(i.permissionLevel):null},null,8,["hidden","label","value","disabled","onClick"]))),128))]),_:1},8,["modelValue"])])}}}),nn={style:{"max-height":"32px"},class:"flex items-center"},on=O({__name:"ContextSelect",setup(e){const{contextMode:a,model:d,models:s}=D(),v=B(()=>{var f;return!!((f=s.find(_=>_.value===d.value))!=null&&f.isContextOptional)});return(f,_)=>{const u=Vt;return b(),x("div",nn,[n(u,{modelValue:t(a),"onUpdate:modelValue":_[0]||(_[0]=m=>T(a)?a.value=m:null),size:"large",class:"cursor-pointer",width:"56",disabled:!t(v)},null,8,["modelValue","disabled"])])}}});const ln=O({__name:"TemperatureSelect",setup(e){const{temperature:a,model:d,models:s}=D(),v=B(()=>{var f;return!!((f=s.find(_=>_.value===d.value))!=null&&f.isTemperatureOptional)});return(f,_)=>{const u=en;return b(),x("div",null,[t(v)?(b(),S(u,{key:0,modelValue:t(a),"onUpdate:modelValue":_[0]||(_[0]=m=>T(a)?a.value=m:null),min:0,max:1,step:.1,style:{width:"100%"}},null,8,["modelValue"])):(b(),S(u,{key:1,style:{width:"100%"},disabled:""}))])}}});const sn={class:"flex flex-col py-1 px-2 -m-2 -mx-3",style:{"margin-bottom":"-10px"}},an={__name:"MoreActions",setup(e){const{refreshConversation:a,renameConversation:d,deleteConversation:s,resetConvConfig:v,exportAsMarkdown:f,exportAsJson:_,exportAsJsonDetailed:u}=D();return(m,c)=>{const i=j,h=H,y=Ie,N=Ve,w=pe;return b(),S(w,null,{default:l(()=>[n(N,{trigger:"click",placement:"bottom"},{dropdown:l(()=>[n(y,{style:{overflow:"hidden"}},{default:l(()=>[r("div",sn,[r("div",null,[n(h,{class:"MoreOptionButton",icon:t(Oe),onClick:c[0]||(c[0]=k=>t(d)())},{default:l(()=>[$(C(m.$t("action.renameConv")),1)]),_:1},8,["icon"])]),r("div",null,[n(h,{class:"MoreOptionButton",icon:t($e),onClick:c[1]||(c[1]=k=>t(v)(!0))},{default:l(()=>[$(C(m.$t("action.resetConv")),1)]),_:1},8,["icon"])]),r("div",null,[n(h,{class:"MoreOptionButton",icon:t(fe),onClick:c[2]||(c[2]=k=>t(f)())},{default:l(()=>[$(C(m.$t("action.exportAs"))+" .MD ",1)]),_:1},8,["icon"])]),r("div",null,[n(h,{class:"MoreOptionButton",icon:t(fe),onClick:c[3]||(c[3]=k=>t(_)())},{default:l(()=>[$(C(m.$t("action.exportAs"))+" .JSON ",1)]),_:1},8,["icon"])]),r("div",null,[n(h,{class:"MoreOptionButton",icon:t(fe),onClick:c[4]||(c[4]=k=>t(u)())},{default:l(()=>[$(C(m.$t("action.exportAs"))+" .JSON (detailed) ",1)]),_:1},8,["icon"])]),r("div",null,[n(h,{class:"MoreOptionButton",icon:t($e),onClick:c[5]||(c[5]=k=>t(a)())},{default:l(()=>[$(C(m.$t("action.refresh")),1)]),_:1},8,["icon"])]),r("div",null,[n(h,{type:"danger",class:"MoreOptionButton",icon:t(Pe),onClick:c[6]||(c[6]=k=>t(s)()),plain:""},{default:l(()=>[$(C(m.$t("action.deleteConv")),1)]),_:1},8,["icon"])])])]),_:1})]),default:l(()=>[n(h,{size:"small",style:{padding:"8px"}},{default:l(()=>[n(i,{style:{margin:"0 -0.125rem"}},{default:l(()=>[n(t(Re))]),_:1})]),_:1})]),_:1})]),_:1})}}},rn=ne(an,[["__scopeId","data-v-86221b09"]]);const un=e=>(Ue("data-v-d0096c3f"),e=e(),He(),e),dn={class:"h-full max-h-full flex flex-col"},cn={class:"flex justify-stretch"},pn={class:"flex-1 mt-0"},mn={class:"px-1"},_n={class:"flex flex-col pr-1 gap-1"},fn={class:"flex gap-1"},vn={class:"flex gap-1"},bn={class:"flex gap-1"},hn=un(()=>r("span",{class:"mr-2"},"Temperature",-1)),yn={class:"info"},gn={class:"flex-1",style:{width:"calc(50% - 0.25rem)"}},wn={key:0,class:"flex gap-1"},Cn={class:"flex flex-1"},$n={class:"flex-1 text-right pr-2"},xn={class:"mt-4 mb-0"},kn={class:"ConversationListContainer mt-1 border rounded overflow-hidden",style:{height:"45vh","border-color":"var(--el-border-color)"}},En={class:"border-b createNewChat-bg",style:{"border-color":"var(--el-border-color)"}},In={class:"ConversationList overflow-y-auto overflow-x-hidden flex-1",style:{"max-height":"calc(100% - 32px)"}},Vn=["active"],Sn={class:"text-ellipsis overflow-hidden max-w-full"},Nn={class:"ConversationLinkButtons px-1 flex-center"},An={class:"flex flex-col py-1 px-2 -m-2 -mx-3",style:{"margin-bottom":"-10px"}},Mn={class:"flex flex-col mt-4 gap-1"},Bn={class:"pl-1"},Dn={class:"pl-1"},zn={class:"pl-1"},Ln={__name:"ConvMenu",setup(e){const a=_t("version",()=>""),{conversations:d,model:s,currentConvIdComputed:v,focusInput:f,renameConversation:_,deleteConversation:u}=D();a.value===""&&$fetch("/api/version",{method:"POST"}).then(i=>{a.value=i.version}).catch(()=>{});const m=()=>{ve({title:"Aboute Me",message:()=>K("div",[K("div","I'm a web developer, and I can create a great website that suits your needs perfectly! Feel free to reach out to me to learn more."),K("br",""),K("div",[K("strong","Email: "),K("span","137emailservice@gmail.com")])])})},c=()=>{ve.prompt("Your name:","What should we call you?").then(({value:i})=>{if(i=i.trim(),!i)throw"Name cannot be empty";ve.prompt("What would you like to tell us?","We value your feedback, thank you!").then(async({value:h})=>{if(h=h.trim(),!h)throw"Feedback cannot be empty";const y=await $fetch("/api/stats/feedback",{method:"POST",body:{name:i,feedback:h}});!y||"error"in y?Q.error("Feedback submission failed."):Q.success("Feedback submitted successfully")}).catch(()=>{Q.info("Feedback has been cancelled.")})}).catch(()=>{Q.info("Feedback has been cancelled.")})};return(i,h)=>{const y=Ae,N=tn,w=on,k=j,W=St,oe=pe,le=ln,q=rn,Y=je,P=H,R=At,me=Ie,_e=Ve,G=Mt;return b(),x("div",dn,[n(Y,{onSubmit:h[0]||(h[0]=U(()=>{},["prevent"]))},{default:l(()=>[r("div",cn,[r("h4",pn,C(i.$t("settings.title")),1),r("div",mn,[t(a)?(b(),S(y,{key:0,type:"info",size:"small"},{default:l(()=>[$(" v"+C(t(a)),1)]),_:1})):L("",!0)])]),r("div",_n,[r("div",fn,[n(y,{class:"flex-1"},{default:l(()=>[$(C(i.$t("settings.model")),1)]),_:1}),n(N,{class:"flex-1"})]),r("div",vn,[n(y,{class:"flex-1"},{default:l(()=>[$(C(i.$t("settings.context")),1)]),_:1}),n(w,{class:"flex-1"})]),r("div",bn,[n(y,{class:"flex flex-1 items-center"},{default:l(()=>[hn,n(oe,null,{default:l(()=>[n(W,{placement:"bottom",width:240,trigger:"click"},{reference:l(()=>[n(k,{color:"#409EFF",class:"cursor-pointer",size:"large"},{default:l(()=>[n(t(ft))]),_:1})]),default:l(()=>[r("div",yn,[n(y,{class:"info"},{default:l(()=>[$(C(i.$t("menu.tempInfo")),1)]),_:1})])]),_:1})]),_:1})]),_:1}),r("div",gn,[n(le,{class:"w-full"})])]),t(v)?(b(),x("div",wn,[r("div",Cn,[r("div",$n,[n(y,{size:"small",type:"info"},{default:l(()=>[$(C(i.$t("action.more")),1)]),_:1})]),n(q)])])):L("",!0)])]),_:1}),r("h4",xn,C(i.$t("chat.chats")),1),r("div",kn,[r("div",En,[n(R,{id:"createNewChat",to:"/c/",onClick:t(f)},{default:l(()=>[n(P,{icon:t(Fe),class:"ConversationLink w-full",style:{border:"none",background:"transparent !important"}},{default:l(()=>[$(C(i.$t("chat.newChat")),1)]),_:1},8,["icon"])]),_:1},8,["onClick"])]),r("div",In,[(b(!0),x(we,null,Te(t(d),V=>(b(),x("div",{class:M(["ConversationLink flex items-center",V.moreActionsExpanded?"MoreOptionsExpended":""]),active:V.id===t(v)},[n(R,{id:V.id,to:`/c/${V.id}`,class:M(["justify-start items-center flex gap-1 py-1 px-4 w-full",V.id===t(v)?"pointer-events-none":""])},{default:l(()=>[n(k,null,{default:l(()=>[n(t(vt))]),_:1}),r("span",Sn,C(V.name||t(bt).convert(V.id,"64w",10)),1)]),_:2},1032,["id","to","class"]),r("div",Nn,[n(y,{type:"info",class:"flex gap-2"},{default:l(()=>[n(_e,{trigger:"click",placement:"bottom",onVisibleChange:J=>V.moreActionsExpanded=J},{dropdown:l(()=>[n(me,{style:{overflow:"hidden"}},{default:l(()=>[r("div",An,[r("div",null,[n(P,{class:"MoreOptionButton",icon:t(Oe),onClick:J=>t(_)(V.id,V.name)},{default:l(()=>[$(C(i.$t("action.rename")),1)]),_:2},1032,["icon","onClick"])]),r("div",null,[n(P,{type:"danger",class:"MoreOptionButton",icon:t(Pe),onClick:J=>t(u)(V.id),plain:""},{default:l(()=>[$(C(i.$t("action.delete")),1)]),_:2},1032,["icon","onClick"])])])]),_:2},1024)]),default:l(()=>[n(y,null,{default:l(()=>[n(k,{class:"cursor-pointer"},{default:l(()=>[n(t(Re))]),_:1})]),_:1})]),_:2},1032,["onVisibleChange"])]),_:2},1024)])],10,Vn))),256))])]),r("div",Mn,[r("div",null,[n(G,{href:"https://www.buymeacoffee.com/cch137",target:"_blank",icon:t(ht)},{default:l(()=>[r("div",Bn,[n(y,{size:"large",style:{color:"inherit"}},{default:l(()=>[$("Buy me a coffee")]),_:1})])]),_:1},8,["icon"])]),r("div",null,[n(G,{onClick:h[1]||(h[1]=V=>m()),target:"_blank",icon:t(yt)},{default:l(()=>[r("div",Dn,[n(y,{size:"large",style:{color:"inherit"}},{default:l(()=>[$("About me")]),_:1})])]),_:1},8,["icon"])]),r("div",null,[n(G,{onClick:h[2]||(h[2]=V=>c()),target:"_blank",icon:t(gt)},{default:l(()=>[r("div",zn,[n(y,{size:"large",style:{color:"inherit"}},{default:l(()=>[$("Feedback")]),_:1})])]),_:1},8,["icon"])])])])}}},We=ne(Ln,[["__scopeId","data-v-d0096c3f"]]);const Fn={class:"flex"},Tn={class:"flex flex-1"},On={__name:"ConvSidebar",setup(e){const{openMenu:a,openSidebarController:d}=D();return(s,v)=>{const f=Se,_=H,u=We;return b(),x("div",{class:"ChatbotConvSidebar flex flex-col z-50",style:ee(`transform: translateX(${t(d)?"0":"-100%"});`)},[r("div",Fn,[r("div",Tn,[n(f)]),n(_,{class:"ChatbotConvHeaderMenuButton",icon:t(wt),style:{padding:"8px"},onClick:v[0]||(v[0]=m=>a.value=!1)},null,8,["icon"])]),n(u,{class:"flex-1 mt-4"})],4)}}},Pn=ne(On,[["__scopeId","data-v-bc06a107"]]),Rn={class:"px-2 pb-4 flex flex-col gap-4"},Un={class:"flex items-center justify-end"},Hn=O({__name:"EditQuestionDialog",setup(e){const{isEditingQuestion:a,editingQuestion:d,editingQuestionContent:s,inputMaxLength:v,updateMessage:f}=D();function _(){a.value=!1}function u(c){c.key==="Enter"&&!c.shiftKey&&(m(),c.preventDefault())}async function m(){if(d.value===void 0)return;const c=s.value.trim();d.value.Q!==c&&(d.value.Q=c,f(d.value)),setTimeout(()=>_(),0)}return(c,i)=>{const h=ce,y=H,N=Ne;return b(),S(N,{modelValue:t(a),"onUpdate:modelValue":i[4]||(i[4]=w=>T(a)?a.value=w:null),title:c.$t("chat.editQues"),width:"80%",style:{"max-width":"600px"}},{default:l(()=>[r("div",Rn,[n(h,{modelValue:t(s),"onUpdate:modelValue":i[0]||(i[0]=w=>T(s)?s.value=w:null),autosize:{minRows:4,maxRows:16},type:"textarea",size:"large",class:"EditQuestionInput",maxlength:t(v),autofocus:!0,onKeydown:i[1]||(i[1]=w=>u(w))},null,8,["modelValue","maxlength"]),r("div",Un,[n(y,{onClick:i[2]||(i[2]=w=>_()),icon:t(ge)},{default:l(()=>[$(C(c.$t("message.cancel")),1)]),_:1},8,["icon"]),n(y,{onClick:i[3]||(i[3]=w=>m()),type:"primary",icon:t(Ke)},{default:l(()=>[$(C(c.$t("action.save")),1)]),_:1},8,["icon"])])])]),_:1},8,["modelValue","title"])}}});const Kn={class:"px-2 pb-4 flex flex-col gap-4"},Qn={class:"flex items-center justify-end"},jn=O({__name:"EditAnswerDialog",setup(e){const{isEditingAnswer:a,editingAnswer:d,editingAnswerContent:s,inputMaxLength:v,updateMessage:f}=D();function _(){a.value=!1}function u(c){c.key==="Enter"&&!c.shiftKey&&(m(),c.preventDefault())}async function m(){if(d.value===void 0)return;const c=s.value.trim();d.value.A!==c&&(d.value.A=c,f(d.value)),setTimeout(()=>_(),0)}return(c,i)=>{const h=ce,y=H,N=Ne;return b(),S(N,{modelValue:t(a),"onUpdate:modelValue":i[4]||(i[4]=w=>T(a)?a.value=w:null),title:c.$t("chat.editAns"),width:"80%",style:{"max-width":"600px"}},{default:l(()=>[r("div",Kn,[n(h,{modelValue:t(s),"onUpdate:modelValue":i[0]||(i[0]=w=>T(s)?s.value=w:null),autosize:{minRows:4,maxRows:16},type:"textarea",size:"large",class:"EditAnswerInput",maxlength:t(v),autofocus:!0,onKeydown:i[1]||(i[1]=w=>u(w))},null,8,["modelValue","maxlength"]),r("div",Qn,[n(y,{onClick:i[2]||(i[2]=w=>_()),icon:t(ge)},{default:l(()=>[$(C(c.$t("message.cancel")),1)]),_:1},8,["icon"]),n(y,{onClick:i[3]||(i[3]=w=>m()),type:"primary",icon:t(Ke)},{default:l(()=>[$(C(c.$t("action.save")),1)]),_:1},8,["icon"])])])]),_:1},8,["modelValue","title"])}}});const Wn={},qn=e=>(Ue("data-v-3c80ec5a"),e=e(),He(),e),Yn={class:"MenuIcon"},Gn=qn(()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 96 960 960"},[r("path",{d:"M120 816v-60h720v60H120Zm0-210v-60h720v60H120Zm0-210v-60h720v60H120Z"})],-1)),Jn=[Gn];function Zn(e,a){return b(),x("i",Yn,Jn)}const Xn=ne(Wn,[["render",Zn],["__scopeId","data-v-3c80ec5a"]]);const eo={class:"fixed z-50 w-full flex"},to={class:"ChatbotConvHeader px-4 gap-4 flex items-stretch flex-1"},no=r("div",{class:"flex-1 flex items-center justify-end gap-2"},null,-1),oo={__name:"ConvHeader",setup(e){const{openMenu:a,openSidebarController:d}=D();return a.value=!0,(s,v)=>{const f=Pn,_=Hn,u=jn,m=Xn,c=H,i=Se,h=Ze;return b(),x("div",eo,[r("div",{style:ee(`min-width: ${t(d)?"320px":"0px"}; width: ${t(d)?"25%":"0px"}; transition: .1s;`)},null,4),n(f),n(_),n(u),r("div",to,[r("div",{style:ee([t(d)?"opacity: 0; pointer-events: none; width: 0px;":"",{transition:".1s"}])},[n(c,{style:{padding:"8px"},onClick:v[0]||(v[0]=y=>a.value=!t(a))},{default:l(()=>[n(m)]),_:1})],4),n(i,{style:ee(t(d)?"opacity: 0; pointer-events: none; width: 0px;":"")},null,8,["style"]),no,n(h)])])}}},lo=oo,so={class:"InputBoxOuter flex fixed w-full z-40"},ao={class:"InputBox pt-20 pb-1 px-2 flex-1"},io={class:"flex gap-3 w-full mx-auto justify-center px-2",style:{"max-width":"900px"}},ro={class:"w-full"},uo={class:"InputBoxActionButtonGroup flex flex-col gap-1"},co={style:{"margin-left":".25rem"}},po={class:"text-center mt-1",style:{"line-height":"1em"}},mo=O({__name:"InputBox",setup(e){const{sendMessage:a,openSidebarController:d,inputMaxLength:s,inputValue:v}=D(),f=u=>{u.key==="Enter"&&!u.shiftKey&&(a(),u.preventDefault())},_=()=>{a()};return(u,m)=>{const c=ce,i=j,h=H,y=Nt,N=je,w=Ae;return b(),x("div",so,[r("div",{style:ee(`min-width: ${t(d)?"320px":"0px"}; width: ${t(d)?"25%":"0px"}; transition: .1s;`)},null,4),r("div",ao,[n(N,{ref:"inputForm",class:"mx-auto max-w-full",onSubmit:m[2]||(m[2]=U(()=>{},["prevent"]))},{default:l(()=>[n(y,{style:{margin:"0"}},{default:l(()=>[r("div",io,[r("div",ro,[n(c,{modelValue:t(v),"onUpdate:modelValue":m[0]||(m[0]=k=>T(v)?v.value=k:null),autosize:{minRows:2,maxRows:16},type:"textarea",size:"large",maxlength:t(s),autofocus:!0,onKeydown:m[1]||(m[1]=k=>f(k))},null,8,["modelValue","maxlength"])]),r("div",uo,[n(h,{type:"primary",onClick:_,style:{padding:"12px"},size:"large"},{default:l(()=>[n(i,null,{default:l(()=>[n(t(Ct))]),_:1}),r("span",co,C(u.$t("chat.send")),1)]),_:1})])])]),_:1})]),_:1},512),r("div",po,[n(w,{type:"info",size:"small"},{default:l(()=>[$(C(u.$t("footer.patient")),1)]),_:1})])])])}}});const _o={style:{"margin-top":"-1.5rem",height:"calc(100% + 1.5rem)"}},fo={__name:"ConvDrawer",setup(e){const{openDrawerController:a}=D();return(d,s)=>{const v=We,f=jt,_=pe;return b(),S(_,null,{default:l(()=>[n(f,{modelValue:t(a),"onUpdate:modelValue":s[0]||(s[0]=u=>T(a)?a.value=u:null),title:d.$t("menu.title"),direction:"ltr",style:{"min-width":"320px","max-width":"100vw"}},{default:l(()=>[r("div",_o,[n(v)])]),_:1},8,["modelValue","title"])]),_:1})}}},vo=fo,bo={},ho={style:{"padding-top":"56px"},class:"w-full"};function yo(e,a){const d=lo,s=pe,v=mo,f=vo;return b(),x(we,null,[n(s,null,{default:l(()=>[n(d)]),_:1}),r("div",ho,[Z(e.$slots,"default"),n(s,null,{default:l(()=>[n(v),n(f)]),_:1})])],64)}const Qo=ne(bo,[["render",yo]]);export{Qo as default};
