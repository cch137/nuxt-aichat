import{E as $}from"./el-input.27303907.js";import{E as O,a as V}from"./el-form.82526620.js";import{E as I}from"./el-button.937a3f62.js";import{E as L}from"./el-text.d1e666e3.js";import{_ as N}from"./nuxt-link.69d8bf5d.js";import{E as z}from"./el-link.f8a4c960.js";import{_ as A}from"./LanguageSelect.afa46529.js";import{_ as C}from"./client-only.e7cce59c.js";import{f as F,g as q,r as B,m as h,i as R,o as T,j as S,w as t,b as e,a as o,t as i,k as a,d as p,E as W,aI as M,A as P}from"./entry.60a981b0.js";import{u as U}from"./useAuth.4554ef87.js";import{u as j}from"./useTitle.5a79fd11.js";import"./isEqual.402a2aab.js";import"./_initCloneObject.f5ee12ff.js";import"./el-popper.78981021.js";import"./focus-trap.45b2fae2.js";import"./el-scrollbar.607bccfd.js";import"./scroll.22698584.js";import"./useChat.fb420c67.js";import"./el-overlay.8234fffe.js";import"./str.d457f5f4.js";const D={class:"mt-0 mb-6"},G=o("div",{class:"p-6"},null,-1),H={class:"flex-center"},J=o("div",{class:"p-2"},null,-1),K={class:"flex-center flex-col gap-2"},Q={class:"flex-center flex-wrap gap-1",style:{"line-height":"1rem"}},X={class:"flex-center flex-wrap gap-1",style:{"line-height":"1rem"}},Y={style:{"line-height":"1rem"},class:"mt-2 text-center"},Z=o("div",{class:"p-8"},null,-1),ee={class:"absolute w-screen flex-center gap-2 p-3",style:{bottom:"0"}},te={style:{width:"120px"}},ke=F({__name:"login",setup(oe){const{login:w}=U(),m=q().t,c=B(),n=h({usernameOrEmail:"",password:""}),y=h({usernameOrEmail:[{required:!0,message:m("auth.usernameOrEmailRequired"),trigger:"change"}],password:[{required:!0,message:m("auth.passwdRequired"),trigger:"change"}]}),x=async s=>{await s.validate((r,u)=>{r?w(n.usernameOrEmail,n.password):W.error(m("auth.formIncomplete"))})};return j(`${m("auth.login")} - ${R("appName").value}`),(s,r)=>{const u=$,d=O,E=I,_=L,f=N,g=z,v=V,b=A,k=C;return T(),S(k,null,{default:t(()=>[e(v,{ref_key:"ruleFormRef",ref:c,model:a(n),rules:a(y),"label-position":"top",class:"flex-col flex-center w-full max-w-xs px-4 m-auto",style:{height:"calc(100vh - 56px)"}},{default:t(()=>[o("h1",D,i(s.$t("auth.login")),1),e(d,{label:s.$t("auth.usernameOrEmail"),prop:"usernameOrEmail",class:"inputWrapper LoginInputAnim1"},{default:t(()=>[e(u,{modelValue:a(n).usernameOrEmail,"onUpdate:modelValue":r[0]||(r[0]=l=>a(n).usernameOrEmail=l),type:"text",size:"large","prefix-icon":a(M)},null,8,["modelValue","prefix-icon"])]),_:1},8,["label"]),e(d,{label:s.$t("auth.passwd"),prop:"password",class:"inputWrapper LoginInputAnim2 LoginPasswordInputWrapper"},{default:t(()=>[e(u,{modelValue:a(n).password,"onUpdate:modelValue":r[1]||(r[1]=l=>a(n).password=l),type:"password",size:"large","prefix-icon":a(P),formatter:l=>l.trim(),parser:l=>l.trim(),"show-password":""},null,8,["modelValue","prefix-icon","formatter","parser"])]),_:1},8,["label"]),G,o("div",H,[e(E,{size:"large",type:"primary",onClick:r[2]||(r[2]=l=>x(a(c)))},{default:t(()=>[p(i(s.$t("auth.login")),1)]),_:1})]),J,o("div",K,[o("div",Q,[e(_,{type:"info"},{default:t(()=>[p(i(s.$t("auth.createNewAcc")),1)]),_:1}),e(g,{type:"primary"},{default:t(()=>[e(f,{to:"/signup"},{default:t(()=>[p(i(s.$t("auth.signup")),1)]),_:1})]),_:1})]),o("div",X,[e(g,{type:"primary"},{default:t(()=>[e(f,{to:"/acc/reset-password"},{default:t(()=>[p(i(s.$t("auth.resetPw")),1)]),_:1})]),_:1})])]),o("div",Y,[e(_,{size:"small",type:"info",style:{"word-break":"break-word"}},{default:t(()=>[p(i(s.$t("auth.loginTip1")),1)]),_:1})]),Z]),_:1},8,["model","rules"]),o("div",ee,[e(_,{type:"info",class:"opacity-75"},{default:t(()=>[p("More languages:")]),_:1}),o("span",te,[e(b,{size:"small"})])])]),_:1})}}});export{ke as default};
