import{E as x}from"./el-input.8c6d3326.js";import{E as C}from"./el-button.9cf1b9e4.js";import{_ as N}from"./nuxt-link.a67a48ec.js";import{_ as V}from"./CommonSettings.87bc5095.js";import{_ as k}from"./client-only.8bf95797.js";import{f as S,g as b,r as c,h as B,i as E,o as U,j as I,w as u,a as o,t as n,b as s,k as p,l as L,d as f}from"./entry.c8d59687.js";import{u as T}from"./useAuth.8dbf7a7e.js";import{u as j}from"./useTitle.22e79668.js";import"./el-text.1313fb10.js";import"./el-popper.440b7949.js";import"./focus-trap.145bbd45.js";import"./el-switch.78698d32.js";import"./index.8d17c4cf.js";import"./scroll.fc9c0e8e.js";import"./isEqual.fa335dc9.js";import"./_Uint8Array.bd14c3e8.js";import"./useChat.68d6b0b3.js";import"./el-overlay.d4b13c41.js";import"./str.d457f5f4.js";const A={class:"flex-col w-full max-w-prose p-4 m-auto",style:{height:"calc(100vh - 56px)"}},D={class:"flex gap-2"},se=S({__name:"profile",setup(O){const d=b().t,{username:m,changeUsername:v}=T(),l=c(!1),i=c(!1),t=c(m.value),h=async()=>{i.value=!0;try{const e=await v(t.value);l.value=!e,e&&(t.value=m.value)}finally{i.value=!1}};return B(t,e=>{l.value=e!==m.value}),j(`${d("auth.profile")} - ${E("appName").value}`),(e,r)=>{const g=x,_=C,w=N,y=V,$=k;return U(),I($,null,{default:u(()=>[o("div",A,[o("h1",null,n(e.$t("auth.title")),1),o("h3",null,n(e.$t("auth.username")),1),o("div",D,[s(g,{modelValue:p(t),"onUpdate:modelValue":r[0]||(r[0]=a=>L(t)?t.value=a:null),type:"text",formatter:a=>a.replace(/[^\w]+/g,""),parser:a=>a.replace(/[^\w]+/g,"")},null,8,["modelValue","formatter","parser"]),s(_,{type:p(l)?"primary":"",disabled:!p(l),loading:p(i),onClick:r[1]||(r[1]=a=>h())},{default:u(()=>[f(n(e.$t("action.save")),1)]),_:1},8,["type","disabled","loading"])]),o("h3",null,n(e.$t("auth.passwd")),1),s(w,{href:"/acc/reset-password"},{default:u(()=>[s(_,null,{default:u(()=>[f(n(e.$t("auth.resetPw")),1)]),_:1})]),_:1}),o("h1",null,n(e.$t("settings.appearance")),1),s(y)])]),_:1})}}});export{se as default};
