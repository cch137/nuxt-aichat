import{C as vt,t as gt,U as pe,d as _e,E as mt}from"./el-input.cc142136.js";import{E as yt}from"./el-button.c6efcad5.js";import{W as Be,X as Ie,Y as He,Z as qe,$ as bt,a0 as kt,a1 as Nt,a2 as Ct,a3 as Re,a4 as Ve,a5 as ye,a6 as ae,f as I,a7 as F,a8 as oe,a9 as Et,aa as Le,r as S,ab as T,ac as xt,h as L,ad as Ge,ae as Ue,af as wt,o as C,c as $,a as P,ag as Z,Q as E,j as y,n as ce,ah as R,ai as We,aj as je,ak as be,al as z,am as ke,an as ve,ao as he,ap as se,aq as Ye,ar as Ae,as as Qe,m as O,w as _,H as j,k as le,at as fe,F as we,d as De,t as Se,v as H,au as Ke,av as X,aw as Dt,ax as Je,ay as St,az as Kt,aA as Tt,aB as Ne,l as $t,aC as Oe,aD as me,aE as Bt,B as It,aF as Lt,aG as At,aH as U,J as Ce,aI as V,b as q,C as Xe,aJ as Ot,aK as Pt,aL as G,aM as zt,aN as Ft,i as Ze,E as Mt}from"./entry.234682ab.js";import{g as _t}from"./scroll.7a5d7991.js";import{u as Ht,a as Te,b as Pe,c as et,f as qt}from"./use-form-item.2dd1d86f.js";import{i as Rt}from"./isEqual.71583fb9.js";import{i as tt,a as Vt,b as Gt}from"./_Uint8Array.160409ec.js";import{_ as Ut}from"./client-only.1da57858.js";function Wt(e){return e}function jt(e,t,o){switch(o.length){case 0:return e.call(t);case 1:return e.call(t,o[0]);case 2:return e.call(t,o[0],o[1]);case 3:return e.call(t,o[0],o[1],o[2])}return e.apply(t,o)}var Yt=800,Qt=16,Jt=Date.now;function Xt(e){var t=0,o=0;return function(){var n=Jt(),a=Qt-(n-o);if(o=n,a>0){if(++t>=Yt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Zt(e){return function(){return e}}var en=Be?function(e,t){return Be(e,"toString",{configurable:!0,enumerable:!1,value:Zt(t),writable:!0})}:Wt;const tn=en;var nn=Xt(tn);const on=nn;var ze=Math.max;function an(e,t,o){return t=ze(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,l=ze(n.length-t,0),r=Array(l);++a<l;)r[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=o(r),jt(e,this,s)}}var Fe=Ie?Ie.isConcatSpreadable:void 0;function sn(e){return He(e)||tt(e)||!!(Fe&&e&&e[Fe])}function nt(e,t,o,n,a){var l=-1,r=e.length;for(o||(o=sn),a||(a=[]);++l<r;){var s=e[l];t>0&&o(s)?t>1?nt(s,t-1,o,n,a):Vt(a,s):n||(a[a.length]=s)}return a}function ln(e){var t=e==null?0:e.length;return t?nt(e,1):[]}function rn(e){return on(an(e,void 0,ln),e+"")}function dn(e,t){return e!=null&&t in Object(e)}function un(e,t,o){t=qe(t,e);for(var n=-1,a=t.length,l=!1;++n<a;){var r=bt(t[n]);if(!(l=e!=null&&o(e,r)))break;e=e[r]}return l||++n!=a?l:(a=e==null?0:e.length,!!a&&Gt(a)&&kt(r,a)&&(He(e)||tt(e)))}function cn(e,t){return e!=null&&un(e,t,dn)}function hn(e,t,o){for(var n=-1,a=t.length,l={};++n<a;){var r=t[n],s=Nt(e,r);o(s,r)&&Ct(l,qe(r,e),s)}return l}function fn(e,t){return hn(e,t,function(o,n){return cn(e,n)})}var pn=rn(function(e,t){return e==null?{}:fn(e,t)});const vn=pn,gn=Re({zIndex:{type:Ve([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),mn={scroll:({scrollTop:e,fixed:t})=>ye(e)&&ae(t),[vt]:e=>ae(e)},ot="ElAffix",yn=I({name:ot}),bn=I({...yn,props:gn,emits:mn,setup(e,{expose:t,emit:o}){const n=e,a=F("affix"),l=oe(),r=oe(),s=oe(),{height:h}=Et(),{height:d,width:f,top:p,bottom:i,update:u}=Le(r,{windowScroll:!1}),c=Le(l),v=S(!1),m=S(0),b=S(0),x=T(()=>({height:v.value?`${d.value}px`:"",width:v.value?`${f.value}px`:""})),A=T(()=>{if(!v.value)return{};const w=n.offset?xt(n.offset):0;return{height:`${d.value}px`,width:`${f.value}px`,top:n.position==="top"?w:"",bottom:n.position==="bottom"?w:"",transform:b.value?`translateY(${b.value}px)`:"",zIndex:n.zIndex}}),M=()=>{if(s.value)if(m.value=s.value instanceof Window?document.documentElement.scrollTop:s.value.scrollTop||0,n.position==="top")if(n.target){const w=c.bottom.value-n.offset-d.value;v.value=n.offset>p.value&&c.bottom.value>0,b.value=w<0?w:0}else v.value=n.offset>p.value;else if(n.target){const w=h.value-c.top.value-n.offset-d.value;v.value=h.value-n.offset<i.value&&h.value>c.top.value,b.value=w<0?-w:0}else v.value=h.value-n.offset<i.value},B=()=>{u(),o("scroll",{scrollTop:m.value,fixed:v.value})};return L(v,w=>o("change",w)),Ge(()=>{var w;n.target?(l.value=(w=document.querySelector(n.target))!=null?w:void 0,l.value||gt(ot,`Target is not existed: ${n.target}`)):l.value=document.documentElement,s.value=_t(r.value,!0),u()}),Ue(s,"scroll",B),wt(M),t({update:M,updateRoot:u}),(w,te)=>(C(),$("div",{ref_key:"root",ref:r,class:E(y(a).b()),style:ce(y(x))},[P("div",{class:E({[y(a).m("fixed")]:v.value}),style:ce(y(A))},[Z(w.$slots,"default")],6)],6))}});var kn=R(bn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/affix/src/affix.vue"]]);const Nn=We(kn),at={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:je,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},st={[pe]:e=>be(e)||ye(e)||ae(e),change:e=>be(e)||ye(e)||ae(e)},ee=Symbol("checkboxGroupContextKey"),Cn=({model:e,isChecked:t})=>{const o=z(ee,void 0),n=T(()=>{var l,r;const s=(l=o==null?void 0:o.max)==null?void 0:l.value,h=(r=o==null?void 0:o.min)==null?void 0:r.value;return!ke(s)&&e.value.length>=s&&!t.value||!ke(h)&&e.value.length<=h&&t.value});return{isDisabled:Ht(T(()=>(o==null?void 0:o.disabled.value)||n.value)),isLimitDisabled:n}},En=(e,{model:t,isLimitExceeded:o,hasOwnLabel:n,isDisabled:a,isLabeledByFormItem:l})=>{const r=z(ee,void 0),{formItem:s}=Te(),{emit:h}=ve();function d(c){var v,m;return c===e.trueLabel||c===!0?(v=e.trueLabel)!=null?v:!0:(m=e.falseLabel)!=null?m:!1}function f(c,v){h("change",d(c),v)}function p(c){if(o.value)return;const v=c.target;h("change",d(v.checked),c)}async function i(c){o.value||!n.value&&!a.value&&l.value&&(c.composedPath().some(b=>b.tagName==="LABEL")||(t.value=d([!1,e.falseLabel].includes(t.value)),await he(),f(t.value,c)))}const u=T(()=>(r==null?void 0:r.validateEvent)||e.validateEvent);return L(()=>e.modelValue,()=>{u.value&&(s==null||s.validate("change").catch(c=>_e()))}),{handleChange:p,onClickRoot:i}},xn=e=>{const t=S(!1),{emit:o}=ve(),n=z(ee,void 0),a=T(()=>ke(n)===!1),l=S(!1);return{model:T({get(){var s,h;return a.value?(s=n==null?void 0:n.modelValue)==null?void 0:s.value:(h=e.modelValue)!=null?h:t.value},set(s){var h,d;a.value&&se(s)?(l.value=((h=n==null?void 0:n.max)==null?void 0:h.value)!==void 0&&s.length>(n==null?void 0:n.max.value),l.value===!1&&((d=n==null?void 0:n.changeEvent)==null||d.call(n,s))):(o(pe,s),t.value=s)}}),isGroup:a,isLimitExceeded:l}},wn=(e,t,{model:o})=>{const n=z(ee,void 0),a=S(!1),l=T(()=>{const d=o.value;return ae(d)?d:se(d)?Ye(e.label)?d.map(Ae).some(f=>Rt(f,e.label)):d.map(Ae).includes(e.label):d!=null?d===e.trueLabel:!!d}),r=Pe(T(()=>{var d;return(d=n==null?void 0:n.size)==null?void 0:d.value}),{prop:!0}),s=Pe(T(()=>{var d;return(d=n==null?void 0:n.size)==null?void 0:d.value})),h=T(()=>!!(t.default||e.label));return{checkboxButtonSize:r,isChecked:l,isFocused:a,checkboxSize:s,hasOwnLabel:h}},Dn=(e,{model:t})=>{function o(){se(t.value)&&!t.value.includes(e.label)?t.value.push(e.label):t.value=e.trueLabel||!0}e.checked&&o()},lt=(e,t)=>{const{formItem:o}=Te(),{model:n,isGroup:a,isLimitExceeded:l}=xn(e),{isFocused:r,isChecked:s,checkboxButtonSize:h,checkboxSize:d,hasOwnLabel:f}=wn(e,t,{model:n}),{isDisabled:p}=Cn({model:n,isChecked:s}),{inputId:i,isLabeledByFormItem:u}=et(e,{formItemContext:o,disableIdGeneration:f,disableIdManagement:a}),{handleChange:c,onClickRoot:v}=En(e,{model:n,isLimitExceeded:l,hasOwnLabel:f,isDisabled:p,isLabeledByFormItem:u});return Dn(e,{model:n}),{inputId:i,isLabeledByFormItem:u,isChecked:s,isDisabled:p,isFocused:r,checkboxButtonSize:h,checkboxSize:d,hasOwnLabel:f,model:n,handleChange:c,onClickRoot:v}},Sn=["tabindex","role","aria-checked"],Kn=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],Tn=["id","aria-hidden","disabled","value","name","tabindex"],$n=I({name:"ElCheckbox"}),Bn=I({...$n,props:at,emits:st,setup(e){const t=e,o=Qe(),{inputId:n,isLabeledByFormItem:a,isChecked:l,isDisabled:r,isFocused:s,checkboxSize:h,hasOwnLabel:d,model:f,handleChange:p,onClickRoot:i}=lt(t,o),u=F("checkbox"),c=T(()=>[u.b(),u.m(h.value),u.is("disabled",r.value),u.is("bordered",t.border),u.is("checked",l.value)]),v=T(()=>[u.e("input"),u.is("disabled",r.value),u.is("checked",l.value),u.is("indeterminate",t.indeterminate),u.is("focus",s.value)]);return(m,b)=>(C(),O(Ke(!y(d)&&y(a)?"span":"label"),{class:E(y(c)),"aria-controls":m.indeterminate?m.controls:null,onClick:y(i)},{default:_(()=>[P("span",{class:E(y(v)),tabindex:m.indeterminate?0:void 0,role:m.indeterminate?"checkbox":void 0,"aria-checked":m.indeterminate?"mixed":void 0},[m.trueLabel||m.falseLabel?j((C(),$("input",{key:0,id:y(n),"onUpdate:modelValue":b[0]||(b[0]=x=>le(f)?f.value=x:null),class:E(y(u).e("original")),type:"checkbox","aria-hidden":m.indeterminate?"true":"false",name:m.name,tabindex:m.tabindex,disabled:y(r),"true-value":m.trueLabel,"false-value":m.falseLabel,onChange:b[1]||(b[1]=(...x)=>y(p)&&y(p)(...x)),onFocus:b[2]||(b[2]=x=>s.value=!0),onBlur:b[3]||(b[3]=x=>s.value=!1)},null,42,Kn)),[[fe,y(f)]]):j((C(),$("input",{key:1,id:y(n),"onUpdate:modelValue":b[4]||(b[4]=x=>le(f)?f.value=x:null),class:E(y(u).e("original")),type:"checkbox","aria-hidden":m.indeterminate?"true":"false",disabled:y(r),value:m.label,name:m.name,tabindex:m.tabindex,onChange:b[5]||(b[5]=(...x)=>y(p)&&y(p)(...x)),onFocus:b[6]||(b[6]=x=>s.value=!0),onBlur:b[7]||(b[7]=x=>s.value=!1)},null,42,Tn)),[[fe,y(f)]]),P("span",{class:E(y(u).e("inner"))},null,2)],10,Sn),y(d)?(C(),$("span",{key:0,class:E(y(u).e("label"))},[Z(m.$slots,"default"),m.$slots.default?H("v-if",!0):(C(),$(we,{key:0},[De(Se(m.label),1)],64))],2)):H("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var In=R(Bn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const Ln=["name","tabindex","disabled","true-value","false-value"],An=["name","tabindex","disabled","value"],On=I({name:"ElCheckboxButton"}),Pn=I({...On,props:at,emits:st,setup(e){const t=e,o=Qe(),{isFocused:n,isChecked:a,isDisabled:l,checkboxButtonSize:r,model:s,handleChange:h}=lt(t,o),d=z(ee,void 0),f=F("checkbox"),p=T(()=>{var u,c,v,m;const b=(c=(u=d==null?void 0:d.fill)==null?void 0:u.value)!=null?c:"";return{backgroundColor:b,borderColor:b,color:(m=(v=d==null?void 0:d.textColor)==null?void 0:v.value)!=null?m:"",boxShadow:b?`-1px 0 0 0 ${b}`:void 0}}),i=T(()=>[f.b("button"),f.bm("button",r.value),f.is("disabled",l.value),f.is("checked",a.value),f.is("focus",n.value)]);return(u,c)=>(C(),$("label",{class:E(y(i))},[u.trueLabel||u.falseLabel?j((C(),$("input",{key:0,"onUpdate:modelValue":c[0]||(c[0]=v=>le(s)?s.value=v:null),class:E(y(f).be("button","original")),type:"checkbox",name:u.name,tabindex:u.tabindex,disabled:y(l),"true-value":u.trueLabel,"false-value":u.falseLabel,onChange:c[1]||(c[1]=(...v)=>y(h)&&y(h)(...v)),onFocus:c[2]||(c[2]=v=>n.value=!0),onBlur:c[3]||(c[3]=v=>n.value=!1)},null,42,Ln)),[[fe,y(s)]]):j((C(),$("input",{key:1,"onUpdate:modelValue":c[4]||(c[4]=v=>le(s)?s.value=v:null),class:E(y(f).be("button","original")),type:"checkbox",name:u.name,tabindex:u.tabindex,disabled:y(l),value:u.label,onChange:c[5]||(c[5]=(...v)=>y(h)&&y(h)(...v)),onFocus:c[6]||(c[6]=v=>n.value=!0),onBlur:c[7]||(c[7]=v=>n.value=!1)},null,42,An)),[[fe,y(s)]]),u.$slots.default||u.label?(C(),$("span",{key:2,class:E(y(f).be("button","inner")),style:ce(y(a)?y(p):void 0)},[Z(u.$slots,"default",{},()=>[De(Se(u.label),1)])],6)):H("v-if",!0)],2))}});var rt=R(Pn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const zn=Re({modelValue:{type:Ve(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:je,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),Fn={[pe]:e=>se(e),change:e=>se(e)},Mn=I({name:"ElCheckboxGroup"}),_n=I({...Mn,props:zn,emits:Fn,setup(e,{emit:t}){const o=e,n=F("checkbox"),{formItem:a}=Te(),{inputId:l,isLabeledByFormItem:r}=et(o,{formItemContext:a}),s=async d=>{t(pe,d),await he(),t("change",d)},h=T({get(){return o.modelValue},set(d){s(d)}});return X(ee,{...vn(Dt(o),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:h,changeEvent:s}),L(()=>o.modelValue,()=>{o.validateEvent&&(a==null||a.validate("change").catch(d=>_e()))}),(d,f)=>{var p;return C(),O(Ke(d.tag),{id:y(l),class:E(y(n).b("group")),role:"group","aria-label":y(r)?void 0:d.label||"checkbox-group","aria-labelledby":y(r)?(p=y(a))==null?void 0:p.labelId:void 0},{default:_(()=>[Z(d.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var dt=R(_n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const Hn=We(In,{CheckboxButton:rt,CheckboxGroup:dt});Je(rt);Je(dt);const qn=I({name:"ElCollapseTransition"}),Rn=I({...qn,setup(e){const t=F("collapse-transition"),o={beforeEnter(n){n.dataset||(n.dataset={}),n.dataset.oldPaddingTop=n.style.paddingTop,n.dataset.oldPaddingBottom=n.style.paddingBottom,n.style.maxHeight=0,n.style.paddingTop=0,n.style.paddingBottom=0},enter(n){n.dataset.oldOverflow=n.style.overflow,n.scrollHeight!==0?(n.style.maxHeight=`${n.scrollHeight}px`,n.style.paddingTop=n.dataset.oldPaddingTop,n.style.paddingBottom=n.dataset.oldPaddingBottom):(n.style.maxHeight=0,n.style.paddingTop=n.dataset.oldPaddingTop,n.style.paddingBottom=n.dataset.oldPaddingBottom),n.style.overflow="hidden"},afterEnter(n){n.style.maxHeight="",n.style.overflow=n.dataset.oldOverflow},beforeLeave(n){n.dataset||(n.dataset={}),n.dataset.oldPaddingTop=n.style.paddingTop,n.dataset.oldPaddingBottom=n.style.paddingBottom,n.dataset.oldOverflow=n.style.overflow,n.style.maxHeight=`${n.scrollHeight}px`,n.style.overflow="hidden"},leave(n){n.scrollHeight!==0&&(n.style.maxHeight=0,n.style.paddingTop=0,n.style.paddingBottom=0)},afterLeave(n){n.style.maxHeight="",n.style.overflow=n.dataset.oldOverflow,n.style.paddingTop=n.dataset.oldPaddingTop,n.style.paddingBottom=n.dataset.oldPaddingBottom}};return(n,a)=>(C(),O(Tt,St({name:y(t).b()},Kt(o)),{default:_(()=>[Z(n.$slots,"default")]),_:3},16,["name"]))}});var de=R(Rn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);de.install=e=>{e.component(de.name,de)};const Vn=de,J="$treeNodeId",Me=function(e,t){!t||t[J]||Object.defineProperty(t,J,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},$e=function(e,t){return e?t[e]:t[J]},Ee=(e,t,o)=>{const n=e.value.currentNode;o();const a=e.value.currentNode;n!==a&&t("current-change",a?a.data:null,a)},xe=e=>{let t=!0,o=!0,n=!0;for(let a=0,l=e.length;a<l;a++){const r=e[a];(r.checked!==!0||r.indeterminate)&&(t=!1,r.disabled||(n=!1)),(r.checked!==!1||r.indeterminate)&&(o=!1)}return{all:t,none:o,allWithoutDisable:n,half:!t&&!o}},ie=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:o,half:n}=xe(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):n?(e.checked=!1,e.indeterminate=!0):o&&(e.checked=!1,e.indeterminate=!1);const a=e.parent;!a||a.level===0||e.store.checkStrictly||ie(a)},re=function(e,t){const o=e.store.props,n=e.data||{},a=o[t];if(typeof a=="function")return a(n,e);if(typeof a=="string")return n[a];if(typeof a>"u"){const l=n[t];return l===void 0?"":l}};let Gn=0;class W{constructor(t){this.id=Gn++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const o in t)Ne(t,o)&&(this[o]=t[o]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const o=t.props;if(o&&typeof o.isLeaf<"u"){const l=re(this,"isLeaf");typeof l=="boolean"&&(this.isLeafByUser=l)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Me(this,this.data),!this.data)return;const n=t.defaultExpandedKeys,a=t.key;a&&n&&n.includes(this.key)&&this.expand(null,t.autoExpandParent),a&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||Me(this,t),this.data=t,this.childNodes=[];let o;this.level===0&&Array.isArray(this.data)?o=this.data:o=re(this,"children")||[];for(let n=0,a=o.length;n<a;n++)this.insertChild({data:o[n]})}get label(){return re(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return re(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const o=t.childNodes.indexOf(this);if(o>-1)return t.childNodes[o+1]}return null}get previousSibling(){const t=this.parent;if(t){const o=t.childNodes.indexOf(this);if(o>-1)return o>0?t.childNodes[o-1]:null}return null}contains(t,o=!0){return(this.childNodes||[]).some(n=>n===t||o&&n.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,o,n){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof W)){if(!n){const a=this.getChildren(!0);a.includes(t.data)||(typeof o>"u"||o<0?a.push(t.data):a.splice(o,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=$t(new W(t)),t instanceof W&&t.initialize()}t.level=this.level+1,typeof o>"u"||o<0?this.childNodes.push(t):this.childNodes.splice(o,0,t),this.updateLeafState()}insertBefore(t,o){let n;o&&(n=this.childNodes.indexOf(o)),this.insertChild(t,n)}insertAfter(t,o){let n;o&&(n=this.childNodes.indexOf(o),n!==-1&&(n+=1)),this.insertChild(t,n)}removeChild(t){const o=this.getChildren()||[],n=o.indexOf(t.data);n>-1&&o.splice(n,1);const a=this.childNodes.indexOf(t);a>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(a,1)),this.updateLeafState()}removeChildByData(t){let o=null;for(let n=0;n<this.childNodes.length;n++)if(this.childNodes[n].data===t){o=this.childNodes[n];break}o&&this.removeChild(o)}expand(t,o){const n=()=>{if(o){let a=this.parent;for(;a.level>0;)a.expanded=!0,a=a.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(a=>{a.canFocus=!0})};this.shouldLoadData()?this.loadData(a=>{Array.isArray(a)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||ie(this),n())}):n()}doCreateChildren(t,o={}){t.forEach(n=>{this.insertChild(Object.assign({data:n},o),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,o,n,a){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:r,allWithoutDisable:s}=xe(this.childNodes);!this.isLeaf&&!r&&s&&(this.checked=!1,t=!1);const h=()=>{if(o){const d=this.childNodes;for(let i=0,u=d.length;i<u;i++){const c=d[i];a=a||t!==!1;const v=c.disabled?c.checked:a;c.setChecked(v,o,!0,a)}const{half:f,all:p}=xe(d);p||(this.checked=p,this.indeterminate=f)}};if(this.shouldLoadData()){this.loadData(()=>{h(),ie(this)},{checked:t!==!1});return}else h()}const l=this.parent;!l||l.level===0||n||ie(l)}getChildren(t=!1){if(this.level===0)return this.data;const o=this.data;if(!o)return null;const n=this.store.props;let a="children";return n&&(a=n.children||"children"),o[a]===void 0&&(o[a]=null),t&&!o[a]&&(o[a]=[]),o[a]}updateChildren(){const t=this.getChildren()||[],o=this.childNodes.map(l=>l.data),n={},a=[];t.forEach((l,r)=>{const s=l[J];!!s&&o.findIndex(d=>d[J]===s)>=0?n[s]={index:r,data:l}:a.push({index:r,data:l})}),this.store.lazy||o.forEach(l=>{n[l[J]]||this.removeChildByData(l)}),a.forEach(({index:l,data:r})=>{this.insertChild({data:r},l)}),this.updateLeafState()}loadData(t,o={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(o).length)){this.loading=!0;const n=a=>{this.childNodes=[],this.doCreateChildren(a,o),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,a)};this.store.load(this,n)}else t&&t.call(this)}}class Un{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const o in t)Ne(t,o)&&(this[o]=t[o]);this.nodesMap={}}initialize(){if(this.root=new W({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,o=>{this.root.doCreateChildren(o),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const o=this.filterNodeMethod,n=this.lazy,a=function(l){const r=l.root?l.root.childNodes:l.childNodes;if(r.forEach(s=>{s.visible=o.call(s,t,s.data,s),a(s)}),!l.visible&&r.length){let s=!0;s=!r.some(h=>h.visible),l.root?l.root.visible=s===!1:l.visible=s===!1}t&&l.visible&&!l.isLeaf&&!n&&l.expand()};a(this)}setData(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof W)return t;const o=Ye(t)?$e(this.key,t):t;return this.nodesMap[o]||null}insertBefore(t,o){const n=this.getNode(o);n.parent.insertBefore({data:t},n)}insertAfter(t,o){const n=this.getNode(o);n.parent.insertAfter({data:t},n)}remove(t){const o=this.getNode(t);o&&o.parent&&(o===this.currentNode&&(this.currentNode=null),o.parent.removeChild(o))}append(t,o){const n=o?this.getNode(o):this.root;n&&n.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],o=this.nodesMap;t.forEach(n=>{const a=o[n];a&&a.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const o=this.key;!t||!t.data||(o?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(n=>{this.deregisterNode(n)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,o=!1){const n=[],a=function(l){(l.root?l.root.childNodes:l.childNodes).forEach(s=>{(s.checked||o&&s.indeterminate)&&(!t||t&&s.isLeaf)&&n.push(s.data),a(s)})};return a(this),n}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(o=>(o||{})[this.key])}getHalfCheckedNodes(){const t=[],o=function(n){(n.root?n.root.childNodes:n.childNodes).forEach(l=>{l.indeterminate&&t.push(l.data),o(l)})};return o(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],o=this.nodesMap;for(const n in o)Ne(o,n)&&t.push(o[n]);return t}updateChildren(t,o){const n=this.nodesMap[t];if(!n)return;const a=n.childNodes;for(let l=a.length-1;l>=0;l--){const r=a[l];this.remove(r.data)}for(let l=0,r=o.length;l<r;l++){const s=o[l];this.append(s,n.data)}}_setCheckedKeys(t,o=!1,n){const a=this._getAllNodes().sort((s,h)=>h.level-s.level),l=Object.create(null),r=Object.keys(n);a.forEach(s=>s.setChecked(!1,!1));for(let s=0,h=a.length;s<h;s++){const d=a[s],f=d.data[t].toString();if(!r.includes(f)){d.checked&&!l[f]&&d.setChecked(!1,!1);continue}let i=d.parent;for(;i&&i.level>0;)l[i.data[t]]=!0,i=i.parent;if(d.isLeaf||this.checkStrictly){d.setChecked(!0,!1);continue}if(d.setChecked(!0,!0),o){d.setChecked(!1,!1);const u=function(c){c.childNodes.forEach(m=>{m.isLeaf||m.setChecked(!1,!1),u(m)})};u(d)}}}setCheckedNodes(t,o=!1){const n=this.key,a={};t.forEach(l=>{a[(l||{})[n]]=!0}),this._setCheckedKeys(n,o,a)}setCheckedKeys(t,o=!1){this.defaultCheckedKeys=t;const n=this.key,a={};t.forEach(l=>{a[l]=!0}),this._setCheckedKeys(n,o,a)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(o=>{const n=this.getNode(o);n&&n.expand(null,this.autoExpandParent)})}setChecked(t,o,n){const a=this.getNode(t);a&&a.setChecked(!!o,n)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const o=this.currentNode;o&&(o.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,o=!0){const n=t[this.key],a=this.nodesMap[n];this.setCurrentNode(a),o&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,o=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const n=this.getNode(t);n&&(this.setCurrentNode(n),o&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Wn=I({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=F("tree"),o=z("NodeInstance"),n=z("RootTree");return()=>{const a=e.node,{data:l,store:r}=a;return e.renderContent?e.renderContent(Oe,{_self:o,node:a,data:l,store:r}):n.ctx.slots.default?n.ctx.slots.default({node:a,data:l}):Oe("span",{class:t.be("node","label")},[a.label])}}});var jn=R(Wn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function it(e){const t=z("TreeNodeMap",null),o={treeNodeExpand:n=>{e.node!==n&&e.node.collapse()},children:[]};return t&&t.children.push(o),X("TreeNodeMap",o),{broadcastExpanded:n=>{if(e.accordion)for(const a of o.children)a.treeNodeExpand(n)}}}const ut=Symbol("dragEvents");function Yn({props:e,ctx:t,el$:o,dropIndicator$:n,store:a}){const l=F("tree"),r=S({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return X(ut,{treeNodeDragStart:({event:f,treeNode:p})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(p.node))return f.preventDefault(),!1;f.dataTransfer.effectAllowed="move";try{f.dataTransfer.setData("text/plain","")}catch{}r.value.draggingNode=p,t.emit("node-drag-start",p.node,f)},treeNodeDragOver:({event:f,treeNode:p})=>{const i=p,u=r.value.dropNode;u&&u.node.id!==i.node.id&&me(u.$el,l.is("drop-inner"));const c=r.value.draggingNode;if(!c||!i)return;let v=!0,m=!0,b=!0,x=!0;typeof e.allowDrop=="function"&&(v=e.allowDrop(c.node,i.node,"prev"),x=m=e.allowDrop(c.node,i.node,"inner"),b=e.allowDrop(c.node,i.node,"next")),f.dataTransfer.dropEffect=m||v||b?"move":"none",(v||m||b)&&(u==null?void 0:u.node.id)!==i.node.id&&(u&&t.emit("node-drag-leave",c.node,u.node,f),t.emit("node-drag-enter",c.node,i.node,f)),(v||m||b)&&(r.value.dropNode=i),i.node.nextSibling===c.node&&(b=!1),i.node.previousSibling===c.node&&(v=!1),i.node.contains(c.node,!1)&&(m=!1),(c.node===i.node||c.node.contains(i.node))&&(v=!1,m=!1,b=!1);const A=i.$el.querySelector(`.${l.be("node","content")}`).getBoundingClientRect(),M=o.value.getBoundingClientRect();let B;const w=v?m?.25:b?.45:1:-1,te=b?m?.75:v?.55:0:1;let Y=-9999;const k=f.clientY-A.top;k<A.height*w?B="before":k>A.height*te?B="after":m?B="inner":B="none";const D=i.$el.querySelector(`.${l.be("node","expand-icon")}`).getBoundingClientRect(),K=n.value;B==="before"?Y=D.top-M.top:B==="after"&&(Y=D.bottom-M.top),K.style.top=`${Y}px`,K.style.left=`${D.right-M.left}px`,B==="inner"?Bt(i.$el,l.is("drop-inner")):me(i.$el,l.is("drop-inner")),r.value.showDropIndicator=B==="before"||B==="after",r.value.allowDrop=r.value.showDropIndicator||x,r.value.dropType=B,t.emit("node-drag-over",c.node,i.node,f)},treeNodeDragEnd:f=>{const{draggingNode:p,dropType:i,dropNode:u}=r.value;if(f.preventDefault(),f.dataTransfer.dropEffect="move",p&&u){const c={data:p.node.data};i!=="none"&&p.node.remove(),i==="before"?u.node.parent.insertBefore(c,u.node):i==="after"?u.node.parent.insertAfter(c,u.node):i==="inner"&&u.node.insertChild(c),i!=="none"&&a.value.registerNode(c),me(u.$el,l.is("drop-inner")),t.emit("node-drag-end",p.node,u.node,i,f),i!=="none"&&t.emit("node-drop",p.node,u.node,i,f)}p&&!u&&t.emit("node-drag-end",p.node,null,i,f),r.value.showDropIndicator=!1,r.value.draggingNode=null,r.value.dropNode=null,r.value.allowDrop=!0}}),{dragState:r}}const Qn=I({name:"ElTreeNode",components:{ElCollapseTransition:Vn,ElCheckbox:Hn,NodeContent:jn,ElIcon:It,Loading:Lt},props:{node:{type:W,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const o=F("tree"),{broadcastExpanded:n}=it(e),a=z("RootTree"),l=S(!1),r=S(!1),s=S(null),h=S(null),d=S(null),f=z(ut),p=ve();X("NodeInstance",p),e.node.expanded&&(l.value=!0,r.value=!0);const i=a.props.children||"children";L(()=>{const k=e.node.data[i];return k&&[...k]},()=>{e.node.updateChildren()}),L(()=>e.node.indeterminate,k=>{v(e.node.checked,k)}),L(()=>e.node.checked,k=>{v(k,e.node.indeterminate)}),L(()=>e.node.expanded,k=>{he(()=>l.value=k),k&&(r.value=!0)});const u=k=>$e(a.props.nodeKey,k.data),c=k=>{const D=e.props.class;if(!D)return{};let K;if(Ot(D)){const{data:ge}=k;K=D(ge,k)}else K=D;return be(K)?{[K]:!0}:K},v=(k,D)=>{(s.value!==k||h.value!==D)&&a.ctx.emit("check-change",e.node.data,k,D),s.value=k,h.value=D},m=k=>{Ee(a.store,a.ctx.emit,()=>a.store.value.setCurrentNode(e.node)),a.currentNode.value=e.node,a.props.expandOnClickNode&&x(),a.props.checkOnClickNode&&!e.node.disabled&&A(null,{target:{checked:!e.node.checked}}),a.ctx.emit("node-click",e.node.data,e.node,p,k)},b=k=>{a.instance.vnode.props.onNodeContextmenu&&(k.stopPropagation(),k.preventDefault()),a.ctx.emit("node-contextmenu",k,e.node.data,e.node,p)},x=()=>{e.node.isLeaf||(l.value?(a.ctx.emit("node-collapse",e.node.data,e.node,p),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,p)))},A=(k,D)=>{e.node.setChecked(D.target.checked,!a.props.checkStrictly),he(()=>{const K=a.store.value;a.ctx.emit("check",e.node.data,{checkedNodes:K.getCheckedNodes(),checkedKeys:K.getCheckedKeys(),halfCheckedNodes:K.getHalfCheckedNodes(),halfCheckedKeys:K.getHalfCheckedKeys()})})};return{ns:o,node$:d,tree:a,expanded:l,childNodeRendered:r,oldChecked:s,oldIndeterminate:h,getNodeKey:u,getNodeClass:c,handleSelectChange:v,handleClick:m,handleContextMenu:b,handleExpandIconClick:x,handleCheckChange:A,handleChildNodeExpand:(k,D,K)=>{n(D),a.ctx.emit("node-expand",k,D,K)},handleDragStart:k=>{a.props.draggable&&f.treeNodeDragStart({event:k,treeNode:e})},handleDragOver:k=>{k.preventDefault(),a.props.draggable&&f.treeNodeDragOver({event:k,treeNode:{$el:d.value,node:e.node}})},handleDrop:k=>{k.preventDefault()},handleDragEnd:k=>{a.props.draggable&&f.treeNodeDragEnd(k)},CaretRight:At}}}),Jn=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],Xn=["aria-expanded"];function Zn(e,t,o,n,a,l){const r=U("el-icon"),s=U("el-checkbox"),h=U("loading"),d=U("node-content"),f=U("el-tree-node"),p=U("el-collapse-transition");return j((C(),$("div",{ref:"node$",class:E([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=V((...i)=>e.handleClick&&e.handleClick(...i),["stop"])),onContextmenu:t[2]||(t[2]=(...i)=>e.handleContextMenu&&e.handleContextMenu(...i)),onDragstart:t[3]||(t[3]=V((...i)=>e.handleDragStart&&e.handleDragStart(...i),["stop"])),onDragover:t[4]||(t[4]=V((...i)=>e.handleDragOver&&e.handleDragOver(...i),["stop"])),onDragend:t[5]||(t[5]=V((...i)=>e.handleDragEnd&&e.handleDragEnd(...i),["stop"])),onDrop:t[6]||(t[6]=V((...i)=>e.handleDrop&&e.handleDrop(...i),["stop"]))},[P("div",{class:E(e.ns.be("node","content")),style:ce({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(C(),O(r,{key:0,class:E([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:V(e.handleExpandIconClick,["stop"])},{default:_(()=>[(C(),O(Ke(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):H("v-if",!0),e.showCheckbox?(C(),O(s,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=V(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):H("v-if",!0),e.node.loading?(C(),O(r,{key:2,class:E([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:_(()=>[q(h)]),_:1},8,["class"])):H("v-if",!0),q(d,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),q(p,null,{default:_(()=>[!e.renderAfterExpand||e.childNodeRendered?j((C(),$("div",{key:0,class:E(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(C(!0),$(we,null,Xe(e.node.childNodes,i=>(C(),O(f,{key:e.getNodeKey(i),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:i,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,Xn)),[[Ce,e.expanded]]):H("v-if",!0)]),_:1})],42,Jn)),[[Ce,e.node.visible]])}var eo=R(Qn,[["render",Zn],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function to({el$:e},t){const o=F("tree"),n=oe([]),a=oe([]);Ge(()=>{r()}),Pt(()=>{n.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),L(a,s=>{s.forEach(h=>{h.setAttribute("tabindex","-1")})}),Ue(e,"keydown",s=>{const h=s.target;if(!h.className.includes(o.b("node")))return;const d=s.code;n.value=Array.from(e.value.querySelectorAll(`.${o.is("focusable")}[role=treeitem]`));const f=n.value.indexOf(h);let p;if([G.up,G.down].includes(d)){if(s.preventDefault(),d===G.up){p=f===-1?0:f!==0?f-1:n.value.length-1;const u=p;for(;!t.value.getNode(n.value[p].dataset.key).canFocus;){if(p--,p===u){p=-1;break}p<0&&(p=n.value.length-1)}}else{p=f===-1?0:f<n.value.length-1?f+1:0;const u=p;for(;!t.value.getNode(n.value[p].dataset.key).canFocus;){if(p++,p===u){p=-1;break}p>=n.value.length&&(p=0)}}p!==-1&&n.value[p].focus()}[G.left,G.right].includes(d)&&(s.preventDefault(),h.click());const i=h.querySelector('[type="checkbox"]');[G.enter,G.space].includes(d)&&i&&(s.preventDefault(),i.click())});const r=()=>{var s;n.value=Array.from(e.value.querySelectorAll(`.${o.is("focusable")}[role=treeitem]`)),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const h=e.value.querySelectorAll(`.${o.is("checked")}[role=treeitem]`);if(h.length){h[0].setAttribute("tabindex","0");return}(s=n.value[0])==null||s.setAttribute("tabindex","0")}}const no=I({name:"ElTree",components:{ElTreeNode:eo},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:zt}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:o}=Ft(),n=F("tree"),a=S(new Un({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));a.value.initialize();const l=S(a.value.root),r=S(null),s=S(null),h=S(null),{broadcastExpanded:d}=it(e),{dragState:f}=Yn({props:e,ctx:t,el$:s,dropIndicator$:h,store:a});to({el$:s},a);const p=T(()=>{const{childNodes:g}=l.value;return!g||g.length===0||g.every(({visible:N})=>!N)});L(()=>e.currentNodeKey,g=>{a.value.setCurrentNodeKey(g)}),L(()=>e.defaultCheckedKeys,g=>{a.value.setDefaultCheckedKey(g)}),L(()=>e.defaultExpandedKeys,g=>{a.value.setDefaultExpandedKeys(g)}),L(()=>e.data,g=>{a.value.setData(g)},{deep:!0}),L(()=>e.checkStrictly,g=>{a.value.checkStrictly=g});const i=g=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");a.value.filter(g)},u=g=>$e(e.nodeKey,g.data),c=g=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const N=a.value.getNode(g);if(!N)return[];const Q=[N.data];let ne=N.parent;for(;ne&&ne!==l.value;)Q.push(ne.data),ne=ne.parent;return Q.reverse()},v=(g,N)=>a.value.getCheckedNodes(g,N),m=g=>a.value.getCheckedKeys(g),b=()=>{const g=a.value.getCurrentNode();return g?g.data:null},x=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const g=b();return g?g[e.nodeKey]:null},A=(g,N)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");a.value.setCheckedNodes(g,N)},M=(g,N)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");a.value.setCheckedKeys(g,N)},B=(g,N,Q)=>{a.value.setChecked(g,N,Q)},w=()=>a.value.getHalfCheckedNodes(),te=()=>a.value.getHalfCheckedKeys(),Y=(g,N=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");Ee(a,t.emit,()=>a.value.setUserCurrentNode(g,N))},k=(g,N=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");Ee(a,t.emit,()=>a.value.setCurrentNodeKey(g,N))},D=g=>a.value.getNode(g),K=g=>{a.value.remove(g)},ge=(g,N)=>{a.value.append(g,N)},ct=(g,N)=>{a.value.insertBefore(g,N)},ht=(g,N)=>{a.value.insertAfter(g,N)},ft=(g,N,Q)=>{d(N),t.emit("node-expand",g,N,Q)},pt=(g,N)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");a.value.updateChildren(g,N)};return X("RootTree",{ctx:t,props:e,store:a,root:l,currentNode:r,instance:ve()}),X(qt,void 0),{ns:n,store:a,root:l,currentNode:r,dragState:f,el$:s,dropIndicator$:h,isEmpty:p,filter:i,getNodeKey:u,getNodePath:c,getCheckedNodes:v,getCheckedKeys:m,getCurrentNode:b,getCurrentKey:x,setCheckedNodes:A,setCheckedKeys:M,setChecked:B,getHalfCheckedNodes:w,getHalfCheckedKeys:te,setCurrentNode:Y,setCurrentKey:k,t:o,getNode:D,remove:K,append:ge,insertBefore:ct,insertAfter:ht,handleNodeExpand:ft,updateKeyChildren:pt}}});function oo(e,t,o,n,a,l){const r=U("el-tree-node");return C(),$("div",{ref:"el$",class:E([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(C(!0),$(we,null,Xe(e.root.childNodes,s=>(C(),O(r,{key:e.getNodeKey(s),node:s,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(C(),$("div",{key:0,class:E(e.ns.e("empty-block"))},[Z(e.$slots,"empty",{},()=>{var s;return[P("span",{class:E(e.ns.e("empty-text"))},Se((s=e.emptyText)!=null?s:e.t("el.tree.emptyText")),3)]})],2)):H("v-if",!0),j(P("div",{ref:"dropIndicator$",class:E(e.ns.e("drop-indicator"))},null,2),[[Ce,e.dragState.showDropIndicator]])],2)}var ue=R(no,[["render",oo],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);ue.install=e=>{e.component(ue.name,ue)};const ao=ue,so=ao;const lo={class:"PageHeader w-full px-4 gap-4 flex items-stretch"},ro={__name:"AdminHeader",setup(e){const t=S(""),o=Ze("tree",()=>[]);let n=!1;const a=()=>{n||(n=!0,$fetch("/api/perspective/messages",{method:"POST",body:{key:t.value}}).then(l=>{const r=[];for(const s of l){const h=[];for(const d of s==null?void 0:s.conv)h.push({label:`CONV: ${d.conv}
`,children:[]},{label:`QUESTION: ${d.Q}
`,children:[]},{label:`ANSWER: ${d.A}
`,children:[]});r.push({label:s==null?void 0:s.user,children:h})}o.value=r}).catch(Mt.error).finally(()=>{n=!1}))};return(l,r)=>{const s=mt,h=yt,d=Nn;return C(),O(d,null,{default:_(()=>[P("div",lo,[P("div",null,[q(s,{modelValue:y(t),"onUpdate:modelValue":r[0]||(r[0]=f=>le(t)?t.value=f:null),placeholder:"Secret"},null,8,["modelValue"])]),P("div",null,[q(h,{onClick:a},{default:_(()=>[De("Go")]),_:1})])])]),_:1})}}},io=ro;const uo={class:"px-4 py-8"},bo=I({__name:"perspective",setup(e){const t=a=>{console.log(a)},o=Ze("tree",()=>[]),n={children:"children",label:"label"};return(a,l)=>{const r=io,s=so,h=Ut;return C(),$("div",null,[q(r),P("div",uo,[q(h,null,{default:_(()=>[q(s,{data:y(o),props:n,onNodeClick:t},null,8,["data"])]),_:1})])])}}});export{bo as default};
