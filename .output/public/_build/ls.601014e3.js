import{E as V,a as j}from"./el-select.18bcc23c.js";import{E as I}from"./el-link.c11e96a4.js";import{f as N,r as f,aS as w,aT as T,i as $,o as n,c as i,a as r,b,w as m,F as h,C as v,j as k,k as F,d as x,E as q,L as A,m as y,t as L,p as O,e as P,_ as R}from"./entry.0bbf14a2.js";import"./el-input.5697ae3f.js";import"./el-popper.1b5e0aec.js";import{u as U}from"./useTitle.555755d3.js";import"./index.d5f69dcb.js";import"./scroll.854aa195.js";import"./isEqual.9c3f0b62.js";import"./_Uint8Array.a11e697a.js";import"./focus-trap.69a3125b.js";const D=p=>(O("data-v-47dd5703"),p=p(),P(),p),K={class:"mt-8 flex-col gap-4 flex-center"},M=D(()=>r("h1",{class:"m-0"},"LS",-1)),W={class:"px-4 w-full max-w-prose flex flex-col gap-4 justify-center"},Y={class:"pb-16"},z={class:"chapter-title"},G={class:"flex flex-wrap gap-2 pl-4 pt-2 pb-4"},H={class:"flex-center pb-16"},J=N({__name:"ls",setup(p){const c=f(""),u=f([]),d=f([]);function C(){history.length>1?history.back():q.info(A.choice(["Oh~dear, you shouldn't click this.","Back? Where do you want to go?","I don't want you to go anywhere else.","Stay here!","You are lost."]))}async function S(){const s=await fetch("https://api.cch137.link/ls/list");u.value=await s.json()}async function g(){const s=[];d.value=[];const t=w(),a=await(await fetch(`https://api.cch137.link/ls/${c.value}`)).json();function _(o){for(const l of s)if(l.chapter===o)return l.problems;const e=[];return s.push({chapter:o,problems:e}),e}for(const o of a){const[e,l,B]=o.isbn_c_p.split("_");_(l).push({p:B,link:o.link})}d.value=s,t.close()}{const s=w();S().then(()=>{s.close();const t=T().get("q")||"";if(t){for(const a of u.value)if(console.log(a.toLowerCase(),t.toLowerCase()),a.toLowerCase().includes(t.toLowerCase())){c.value=a,g();break}}})}const E=$("appName");return U(`LS - ${E.value}`),(s,t)=>{const a=j,_=V,o=I;return n(),i("div",K,[M,r("div",W,[b(_,{modelValue:k(c),"onUpdate:modelValue":t[0]||(t[0]=e=>F(c)?c.value=e:null),onChange:t[1]||(t[1]=e=>g())},{default:m(()=>[(n(!0),i(h,null,v(k(u),e=>(n(),y(a,{key:e,label:e.replaceAll(".json",""),value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),r("div",Y,[(n(!0),i(h,null,v(k(d),e=>(n(),i("details",null,[r("summary",z,L(e.chapter),1),r("div",G,[(n(!0),i(h,null,v(e.problems,l=>(n(),y(o,{href:l.link,target:"_blank"},{default:m(()=>[x(L(l.p),1)]),_:2},1032,["href"]))),256))])]))),256))]),r("div",H,[b(o,{onClick:t[2]||(t[2]=e=>C())},{default:m(()=>[x("BACK")]),_:1})])])])}}});const ce=R(J,[["__scopeId","data-v-47dd5703"]]);export{ce as default};
