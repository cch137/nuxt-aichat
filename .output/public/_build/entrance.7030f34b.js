import{E as _}from"./el-input.99b99b8d.js";import{E as h}from"./el-button.6196d1ef.js";import{h as x,r as p,c as V,a as E,b as s,i as n,j as u,w as g,E as d,C as v,o as w,d as y}from"./entry.1de7113e.js";import{u as N}from"./useAdmin.05aade37.js";import{u as B}from"./useTitle.2f14fd96.js";import"./index.a06b23df.js";import"./vue.f36acd1f.0580a043.js";const b={class:"flex-col flex-center gap-2"},k={class:"flex gap-2 my-8"},S={__name:"entrance",setup(C){const m=x("appName").value,a=p(""),{adminPassword:o}=N(),c=p(!1),i=()=>{$fetch("/api/auth/replaceUser",{method:"POST",body:{password:o.value,id:a.value}}).then(e=>{e!=null&&e.error?d.error(e==null?void 0:e.error):v().$router.push("/")}).catch(e=>{d.error(e)})};return B(`Entrance - ${m}`),(e,t)=>{const r=_,f=h;return w(),V("div",b,[E("div",k,[s(r,{type:"text",placeholder:"id",modelValue:n(a),"onUpdate:modelValue":t[0]||(t[0]=l=>u(a)?a.value=l:null)},null,8,["modelValue"]),s(r,{type:"password",placeholder:"password",modelValue:n(o),"onUpdate:modelValue":t[1]||(t[1]=l=>u(o)?o.value=l:null)},null,8,["modelValue"]),s(f,{type:"primary",onClick:i,loading:n(c)},{default:g(()=>[y("GO")]),_:1},8,["loading"])])])}}};export{S as default};
