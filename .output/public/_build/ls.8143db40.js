import{E as V,a as j}from"./el-select.eb310ad6.js";import{E as I}from"./el-link.1c83aaee.js";import{f as N,r as f,aR as w,aS as T,h as $,c as i,a as r,b,w as m,i as h,j as F,F as v,B as k,E as R,K as q,p as A,e as K,o as n,l as x,t as y,d as L,_ as O}from"./entry.e6e23e13.js";import"./el-input.a048f47e.js";import"./el-popper.0b49e48d.js";import{u as P}from"./useTitle.c1be437f.js";import"./index.ba60a5a4.js";import"./scroll.bc404638.js";import"./isEqual.977a3930.js";import"./_Uint8Array.be944d2d.js";import"./focus-trap.81f5089a.js";import"./vue.f36acd1f.2f42e7e4.js";const U=p=>(A("data-v-47dd5703"),p=p(),K(),p),D={class:"mt-8 flex-col gap-4 flex-center"},M=U(()=>r("h1",{class:"m-0"},"LS",-1)),W={class:"px-4 w-full max-w-prose flex flex-col gap-4 justify-center"},Y={class:"pb-16"},z={class:"chapter-title"},G={class:"flex flex-wrap gap-2 pl-4 pt-2 pb-4"},H={class:"flex-center pb-16"},J=N({__name:"ls",setup(p){const c=f(""),u=f([]),d=f([]);function C(){history.length>1?history.back():R.info(q.choice(["Oh~dear, you shouldn't click this.","Back? Where do you want to go?","I don't want you to go anywhere else.","Stay here!","You are lost."]))}async function S(){const s=await fetch("https://api.cch137.link/ls/list");u.value=await s.json()}async function g(){const s=[];d.value=[];const t=w(),a=await(await fetch(`https://api.cch137.link/ls/${c.value}`)).json();function _(o){for(const l of s)if(l.chapter===o)return l.problems;const e=[];return s.push({chapter:o,problems:e}),e}for(const o of a){const[e,l,B]=o.isbn_c_p.split("_");_(l).push({p:B,link:o.link})}d.value=s,t.close()}{const s=w();S().then(()=>{s.close();const t=T().get("q")||"";if(t){for(const a of u.value)if(console.log(a.toLowerCase(),t.toLowerCase()),a.toLowerCase().includes(t.toLowerCase())){c.value=a,g();break}}})}const E=$("appName");return P(`LS - ${E.value}`),(s,t)=>{const a=j,_=V,o=I;return n(),i("div",D,[M,r("div",W,[b(_,{modelValue:h(c),"onUpdate:modelValue":t[0]||(t[0]=e=>F(c)?c.value=e:null),onChange:t[1]||(t[1]=e=>g())},{default:m(()=>[(n(!0),i(v,null,k(h(u),e=>(n(),x(a,{key:e,label:e.replaceAll(".json",""),value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),r("div",Y,[(n(!0),i(v,null,k(h(d),e=>(n(),i("details",null,[r("summary",z,y(e.chapter),1),r("div",G,[(n(!0),i(v,null,k(e.problems,l=>(n(),x(o,{href:l.link,target:"_blank"},{default:m(()=>[L(y(l.p),1)]),_:2},1032,["href"]))),256))])]))),256))]),r("div",H,[b(o,{onClick:t[2]||(t[2]=e=>C())},{default:m(()=>[L("BACK")]),_:1})])])])}}});const ie=O(J,[["__scopeId","data-v-47dd5703"]]);export{ie as default};
