import{E as V,a as j}from"./el-select.e7abc822.js";import{E as I}from"./el-link.d7e81db1.js";import{E as N}from"./el-text.dd456c8a.js";import{f as T,r as h,aR as y,aS as $,h as F,c as i,a,b as v,w as _,i as k,j as R,F as x,B as g,E as q,K as A,p as K,e as O,o as n,l as L,t as E,d as b,_ as P}from"./entry.e1c9eb39.js";import"./el-input.a64f3594.js";import"./el-popper.7347269b.js";import{u as U}from"./useTitle.00e3e535.js";import"./index.9a9f3667.js";import"./scroll.a8336d91.js";import"./isEqual.4abd5ed7.js";import"./_Uint8Array.6cb06471.js";import"./focus-trap.924b3007.js";import"./vue.f36acd1f.6c2a34a0.js";const D=p=>(K("data-v-88d5053c"),p=p(),O(),p),M={class:"mt-8 flex-col gap-4 flex-center"},W=D(()=>a("h1",{class:"m-0"},"LS",-1)),Y={class:"px-4 w-full max-w-prose flex flex-col gap-4 justify-center"},z={class:"pb-16"},G={class:"chapter-title"},H={class:"flex flex-wrap gap-2 pl-4 pt-2 pb-4"},J={class:"flex-col flex-center pb-16"},Q={class:"flex-center pb-16"},X=T({__name:"ls",setup(p){const c=h(""),d=h([]),f=h([]);function C(){history.length>1?history.back():q.info(A.choice(["Oh~dear, you shouldn't click this.","Back? Where do you want to go?","I don't want you to go anywhere else.","Stay here!","You are lost."]))}async function S(){const o=await fetch("https://api.cch137.link/ls/list");d.value=await o.json()}async function w(){const o=[];f.value=[];const t=y(),l=await(await fetch(`https://api.cch137.link/ls/${c.value}`)).json();function m(s){for(const e of o)if(e.chapter===s)return e.problems;const r=[];return o.push({chapter:s,problems:r}),r}for(const s of l){const[r,e,u]=s.isbn_c_p.split("_");m(e).push({p:u,link:s.link})}f.value=o,t.close()}{const o=y();S().then(()=>{o.close();const t=$().get("q")||"";if(t){for(const l of d.value)if(console.log(l.toLowerCase(),t.toLowerCase()),l.toLowerCase().includes(t.toLowerCase())){c.value=l,w();break}}})}const B=F("appName");return U(`LS - ${B.value}`),(o,t)=>{const l=j,m=V,s=I,r=N;return n(),i("div",M,[W,a("div",Y,[v(m,{modelValue:k(c),"onUpdate:modelValue":t[0]||(t[0]=e=>R(c)?c.value=e:null),onChange:t[1]||(t[1]=e=>w())},{default:_(()=>[(n(!0),i(x,null,g(k(d),e=>(n(),L(l,{key:e,label:e.replaceAll(".json",""),value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),a("div",z,[(n(!0),i(x,null,g(k(f),e=>(n(),i("details",null,[a("summary",G,E(e.chapter),1),a("div",H,[(n(!0),i(x,null,g(e.problems,u=>(n(),L(s,{href:u.link,target:"_blank"},{default:_(()=>[b(E(u.p),1)]),_:2},1032,["href"]))),256))])]))),256))]),a("div",J,[a("div",null,[v(r,{type:"info"},{default:_(()=>[b("提示：點擊下載 (Скачать) 可以取得更清晰的圖片。免責聲明：本站非以上文件之所有者，訪客若因訪問非本站頁面或資源導致任何損失，本站概不負責。")]),_:1})])]),a("div",Q,[v(s,{onClick:t[2]||(t[2]=e=>C())},{default:_(()=>[b("BACK")]),_:1})])])])}}});const _e=P(X,[["__scopeId","data-v-88d5053c"]]);export{_e as default};
