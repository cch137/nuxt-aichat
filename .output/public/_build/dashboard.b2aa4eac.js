import{E as V}from"./el-switch.7ec91a00.js";import{E as k,a as w}from"./el-select.5ee98858.js";import{_ as y}from"./client-only.49e46a58.js";import{f as x,r as c,E as i,i as O,o as d,c as f,b as u,w as g,a as m,t as $,j as t,k as _,F as D,C as T,m as N}from"./entry.f4878eb0.js";import"./el-input.9c990b35.js";import"./el-popper.5d2a75c7.js";import{u as F}from"./useTitle.4187c44f.js";import"./focus-trap.ebb0ab59.js";import"./index.d2d55ab7.js";import"./scroll.d0e1fdab.js";import"./isEqual.915a5667.js";import"./_Uint8Array.1ea0ccdf.js";const A={class:"flex-col flex-center gap-2"},G=m("h2",null,"Discord Bot",-1),L=m("h2",null,"Search Engine",-1),X=x({__name:"dashboard",setup(P){const l=c(!1),o=c(!1);async function v(){l.value=!0,await $fetch("/api/admin/setting",{method:"POST",body:{name:"dcBot",value:o.value}}),p()}async function p(){l.value=!0,o.value=(await $fetch("/api/discord",{method:"GET"})).connected,l.value=!1}p();const a=c("google"),E=c(["google","duckduckgo","all"]);$fetch("/api/admin/search-engine",{method:"GET"}).then(s=>{const{error:e,value:r}=s;if(e)throw e;a.value=r}).catch(()=>{i.error("Fetching search engine failed."),a.value=""});function B(s){$fetch("/api/admin/search-engine",{method:"POST",body:{value:s}}).then(()=>i.success("Search engine has been changed.")).catch(()=>i.error("Search engine change failed."))}const h=O("appName").value;return F(`Admin - ${h}`),(s,e)=>{const r=V,C=w,S=k,b=y;return d(),f("div",A,[u(b,null,{default:g(()=>[m("h1",null,"Admin Dashboard | "+$(t(h)),1),G,u(r,{modelValue:t(o),"onUpdate:modelValue":e[0]||(e[0]=n=>_(o)?o.value=n:null),onChange:e[1]||(e[1]=n=>v()),loading:t(l),size:"large"},null,8,["modelValue","loading"]),L,u(S,{modelValue:t(a),"onUpdate:modelValue":e[2]||(e[2]=n=>_(a)?a.value=n:null),placeholder:"Select",onChange:e[3]||(e[3]=n=>B(n))},{default:g(()=>[(d(!0),f(D,null,T(t(E),n=>(d(),N(C,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})])}}});export{X as default};
