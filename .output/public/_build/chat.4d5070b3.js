import{d as Ce,a as $e,u as xe,E as te,b as oe,_ as ne,c as se,e as ke}from"./DefaultHeaderButtons.363d9791.js";import{E as I}from"./el-button.f814d925.js";import{E as le}from"./el-text.0c29e4fc.js";import{a as Ee,E as Se}from"./el-select.b684b767.js";import{a4 as Me,ai as Ae,f as V,A as H,aV as q,ac as z,r as Y,a8 as Ie,aO as Ve,ad as Be,aJ as F,o as v,l as S,b as e,w as n,H as ze,a as s,aA as De,au as J,T as E,c as w,ah as L,t as b,s as A,J as Le,aC as Oe,aW as Te,aj as Re,g as X,F as K,B as ae,i as o,j as M,E as D,_ as T,q as ie,d as y,aX as G,aY as P,D as re,aZ as de,h as Fe,a_ as He,a$ as Ne,b0 as Ue,b1 as Qe,b2 as Pe,b3 as je,m as qe,V as Je,aE as B,p as ue,e as ce,b4 as Ke,n as O,b5 as _e,b6 as We}from"./entry.54529e2b.js";import{E as W}from"./el-input.47abe91b.js";import"./el-popper.9501a9a8.js";import{u as x}from"./useChat.b2393421.js";import{u as Ze}from"./useAuth.ebe9794b.js";import{E as Ye}from"./el-switch.31c7c98b.js";import{E as Xe}from"./el-popover.b7ffc13f.js";import{_ as N}from"./client-only.8e73343d.js";import{E as Ge}from"./el-input-number.2b275bab.js";/* empty css                */import{a as pe,E as et}from"./el-form.7dce85da.js";import{_ as tt}from"./nuxt-link.3898cf50.js";import{E as ot}from"./el-link.3503f633.js";import{a as nt,E as j}from"./el-overlay.1149e470.js";import{E as st}from"./focus-trap.71874bc7.js";import{u as ee}from"./index.43b02929.js";import"./CommonSettings.fc27e24a.js";import"./dropdown.8a1de5d6.js";import"./castArray.63245ab7.js";import"./scroll.2268ff55.js";import"./isEqual.c2588a0a.js";import"./_Uint8Array.22884a71.js";import"./useTitle.881caa4d.js";import"./vue.f36acd1f.277fecce.js";const lt=Me({...Ce,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),at=$e,it=V({name:"ElDrawer",components:{ElOverlay:nt,ElFocusTrap:st,ElIcon:H,Close:q},inheritAttrs:!1,props:lt,emits:at,setup(t,{slots:a}){ee({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},z(()=>!!a.title)),ee({scope:"el-drawer",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/drawer.html#attributes",type:"Attribute"},z(()=>!!t.customClass));const r=Y(),u=Y(),p=Ie("drawer"),{t:m}=Ve(),c=z(()=>t.direction==="rtl"||t.direction==="ltr"),_=z(()=>Be(t.size));return{...xe(t,r),drawerRef:r,focusStartRef:u,isHorizontal:c,drawerSize:_,ns:p,t:m}}}),rt=["aria-label","aria-labelledby","aria-describedby"],dt=["id","aria-level"],ut=["aria-label"],ct=["id"];function _t(t,a,r,u,p,m){const c=F("close"),_=F("el-icon"),d=F("el-focus-trap"),i=F("el-overlay");return v(),S(Te,{to:"body",disabled:!t.appendToBody},[e(Oe,{name:t.ns.b("fade"),onAfterEnter:t.afterEnter,onAfterLeave:t.afterLeave,onBeforeLeave:t.beforeLeave,persisted:""},{default:n(()=>[ze(e(i,{mask:t.modal,"overlay-class":t.modalClass,"z-index":t.zIndex,onClick:t.onModalClick},{default:n(()=>[e(d,{loop:"",trapped:t.visible,"focus-trap-el":t.drawerRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:n(()=>[s("div",De({ref:"drawerRef","aria-modal":"true","aria-label":t.title||void 0,"aria-labelledby":t.title?void 0:t.titleId,"aria-describedby":t.bodyId},t.$attrs,{class:[t.ns.b(),t.direction,t.visible&&"open",t.customClass],style:t.isHorizontal?"width: "+t.drawerSize:"height: "+t.drawerSize,role:"dialog",onClick:a[1]||(a[1]=J(()=>{},["stop"]))}),[s("span",{ref:"focusStartRef",class:E(t.ns.e("sr-focus")),tabindex:"-1"},null,2),t.withHeader?(v(),w("header",{key:0,class:E(t.ns.e("header"))},[t.$slots.title?L(t.$slots,"title",{key:1},()=>[A(" DEPRECATED SLOT ")]):L(t.$slots,"header",{key:0,close:t.handleClose,titleId:t.titleId,titleClass:t.ns.e("title")},()=>[t.$slots.title?A("v-if",!0):(v(),w("span",{key:0,id:t.titleId,role:"heading","aria-level":t.headerAriaLevel,class:E(t.ns.e("title"))},b(t.title),11,dt))]),t.showClose?(v(),w("button",{key:2,"aria-label":t.t("el.drawer.close"),class:E(t.ns.e("close-btn")),type:"button",onClick:a[0]||(a[0]=(...l)=>t.handleClose&&t.handleClose(...l))},[e(_,{class:E(t.ns.e("close"))},{default:n(()=>[e(c)]),_:1},8,["class"])],10,ut)):A("v-if",!0)],2)):A("v-if",!0),t.rendered?(v(),w("div",{key:1,id:t.bodyId,class:E(t.ns.e("body"))},[L(t.$slots,"default")],10,ct)):A("v-if",!0),t.$slots.footer?(v(),w("div",{key:2,class:E(t.ns.e("footer"))},[L(t.$slots,"footer")],2)):A("v-if",!0)],16,rt)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Le,t.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var pt=Ae(it,[["render",_t],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const mt=Re(pt),ft=V({__name:"ModelSelect",setup(t){const{model:a,models:r}=x(),{authlvl:u}=Ze();function p(){var _;if((((_=r.find(d=>d.value===a.value))==null?void 0:_.permissionLevel)||0)>u.value){a.value="";for(const d of r)if(d.permissionLevel<=u.value){a.value=d.value;break}}}function m(c){switch(c){case 1:D.info("You are not logged in.");break;default:D.info("This action requires higher permission levels.");break}}return p(),X(u,()=>p()),X(a,()=>p()),(c,_)=>{const d=Ee,i=Se;return v(),w("div",null,[e(i,{modelValue:o(a),"onUpdate:modelValue":_[0]||(_[0]=l=>M(a)?a.value=l:null),placeholder:"Select model",class:"ChatbotModelSelect"},{default:n(()=>[(v(!0),w(K,null,ae(o(r),l=>(v(),S(d,{hidden:l.redirectTo,key:l.name,label:l.name,value:l.value,disabled:l.permissionLevel>o(u),onClick:()=>l.permissionLevel>o(u)?m(l.permissionLevel):null},null,8,["hidden","label","value","disabled","onClick"]))),128))]),_:1},8,["modelValue"])])}}}),vt={style:{"max-height":"32px"},class:"flex items-center"},ht=V({__name:"ContextSelect",setup(t){const{contextMode:a,model:r,models:u}=x(),p=z(()=>{var m;return!!((m=u.find(c=>c.value===r.value))!=null&&m.isContextOptional)});return(m,c)=>{const _=Ye;return v(),w("div",vt,[e(_,{modelValue:o(a),"onUpdate:modelValue":c[0]||(c[0]=d=>M(a)?a.value=d:null),size:"large",class:"cursor-pointer",width:"56",disabled:!o(p)},null,8,["modelValue","disabled"])])}}}),bt=V({__name:"TemperatureSelect",setup(t){const{temperature:a,model:r,models:u}=x(),p=z(()=>{var m;return!!((m=u.find(c=>c.value===r.value))!=null&&m.isTemperatureOptional)});return(m,c)=>{const _=Ge;return v(),w("div",null,[o(p)?(v(),S(_,{key:0,modelValue:o(a),"onUpdate:modelValue":c[0]||(c[0]=d=>M(a)?a.value=d:null),min:0,max:1,step:.1,style:{width:"100%"}},null,8,["modelValue"])):(v(),S(_,{key:1,style:{width:"100%"},disabled:""}))])}}});const yt={class:"flex flex-col py-1 px-2 -m-2 -mx-3",style:{"margin-bottom":"-10px"}},gt={__name:"MoreActions",setup(t){const{refreshConversation:a,renameConversation:r,deleteConversation:u,resetConvConfig:p,exportAsMarkdown:m,exportAsJson:c,exportAsJsonDetailed:_}=x();return(d,i)=>{const l=H,f=I,h=te,k=oe,g=N;return v(),S(g,null,{default:n(()=>[e(k,{trigger:"click",placement:"bottom"},{dropdown:n(()=>[e(h,{style:{overflow:"hidden"}},{default:n(()=>[s("div",yt,[s("div",null,[e(f,{class:"MoreOptionButton",icon:o(ie),onClick:i[0]||(i[0]=C=>o(r)())},{default:n(()=>[y(b(d.$t("action.renameConv")),1)]),_:1},8,["icon"])]),s("div",null,[e(f,{class:"MoreOptionButton",icon:o(G),onClick:i[1]||(i[1]=C=>o(p)(!0))},{default:n(()=>[y(b(d.$t("action.resetConv")),1)]),_:1},8,["icon"])]),s("div",null,[e(f,{class:"MoreOptionButton",icon:o(P),onClick:i[2]||(i[2]=C=>o(m)())},{default:n(()=>[y(b(d.$t("action.exportAs"))+" .MD ",1)]),_:1},8,["icon"])]),s("div",null,[e(f,{class:"MoreOptionButton",icon:o(P),onClick:i[3]||(i[3]=C=>o(c)())},{default:n(()=>[y(b(d.$t("action.exportAs"))+" .JSON ",1)]),_:1},8,["icon"])]),s("div",null,[e(f,{class:"MoreOptionButton",icon:o(P),onClick:i[4]||(i[4]=C=>o(_)())},{default:n(()=>[y(b(d.$t("action.exportAs"))+" .JSON (detailed) ",1)]),_:1},8,["icon"])]),s("div",null,[e(f,{class:"MoreOptionButton",icon:o(G),onClick:i[5]||(i[5]=C=>o(a)())},{default:n(()=>[y(b(d.$t("action.refresh")),1)]),_:1},8,["icon"])]),s("div",null,[e(f,{type:"danger",class:"MoreOptionButton",icon:o(re),onClick:i[6]||(i[6]=C=>o(u)()),plain:""},{default:n(()=>[y(b(d.$t("action.deleteConv")),1)]),_:1},8,["icon"])])])]),_:1})]),default:n(()=>[e(f,{size:"small",style:{padding:"8px"}},{default:n(()=>[e(l,{style:{margin:"0 -0.125rem"}},{default:n(()=>[e(o(de))]),_:1})]),_:1})]),_:1})]),_:1})}}},wt=T(gt,[["__scopeId","data-v-86221b09"]]);const Ct=t=>(ue("data-v-a1bf5d14"),t=t(),ce(),t),$t={class:"h-full max-h-full flex flex-col"},xt={class:"flex justify-stretch"},kt={class:"flex-1 mt-0"},Et={class:"px-1"},St={class:"flex flex-col pr-1 gap-1"},Mt={class:"flex gap-1"},At={class:"flex gap-1"},It={class:"flex gap-1"},Vt=Ct(()=>s("span",{class:"mr-2"},"Temperature",-1)),Bt={class:"info"},zt={class:"flex-1",style:{width:"calc(50% - 0.25rem)"}},Dt={key:0,class:"flex gap-1"},Lt={class:"flex flex-1"},Ot={class:"flex-1 text-right pr-2"},Tt={class:"mt-4 mb-0"},Rt={class:"ConversationListContainer mt-1 border rounded overflow-hidden",style:{height:"45vh","border-color":"var(--el-border-color)"}},Ft={class:"border-b createNewChat-bg",style:{"border-color":"var(--el-border-color)"}},Ht={class:"ConversationList overflow-y-auto overflow-x-hidden flex-1",style:{"max-height":"calc(100% - 32px)"}},Nt=["active"],Ut={class:"text-ellipsis overflow-hidden max-w-full"},Qt={class:"ConversationLinkButtons px-1 flex-center"},Pt={class:"flex flex-col py-1 px-2 -m-2 -mx-3",style:{"margin-bottom":"-10px"}},jt={class:"flex flex-col mt-4 gap-1"},qt={class:"pl-1"},Jt={class:"pl-1"},Kt={class:"pl-1"},Wt={class:"pl-1"},Zt={__name:"ConvMenu",setup(t){const a=Fe("version",()=>""),{conversations:r,model:u,currentConvIdComputed:p,focusInput:m,renameConversation:c,deleteConversation:_}=x();a.value===""&&$fetch("/api/version",{method:"POST"}).then(l=>{a.value=l.version}).catch(()=>{});const d=()=>{j({title:"Aboute Me",message:()=>B("div",[B("div","I'm a web developer, and I can create a great website that suits your needs perfectly! Feel free to reach out to me to learn more."),B("br",""),B("div",[B("strong","Email: "),B("span","137emailservice@gmail.com")])])})},i=()=>{j.prompt("Your name:","What should we call you?").then(({value:l})=>{if(l=l.trim(),!l)throw"Name cannot be empty";j.prompt("What would you like to tell us?","We value your feedback, thank you!").then(async({value:f})=>{if(f=f.trim(),!f)throw"Feedback cannot be empty";const h=await $fetch("/api/stats/feedback",{method:"POST",body:{name:l,feedback:f}});!h||"error"in h?D.error("Feedback submission failed."):D.success("Feedback submitted successfully")}).catch(()=>{D.info("Feedback has been cancelled.")})}).catch(()=>{D.info("Feedback has been cancelled.")})};return(l,f)=>{const h=le,k=ft,g=ht,C=H,fe=Xe,ve=N,he=bt,be=wt,ye=pe,U=I,Z=tt,ge=te,we=oe,R=ot;return v(),w("div",$t,[e(ye,{onSubmit:f[0]||(f[0]=J(()=>{},["prevent"]))},{default:n(()=>[s("div",xt,[s("h4",kt,b(l.$t("settings.title")),1),s("div",Et,[o(a)?(v(),S(h,{key:0,type:"info",size:"small"},{default:n(()=>[y(" v"+b(o(a)),1)]),_:1})):A("",!0)])]),s("div",St,[s("div",Mt,[e(h,{class:"flex-1"},{default:n(()=>[y(b(l.$t("settings.model")),1)]),_:1}),e(k,{class:"flex-1"})]),s("div",At,[e(h,{class:"flex-1"},{default:n(()=>[y(b(l.$t("settings.context")),1)]),_:1}),e(g,{class:"flex-1"})]),s("div",It,[e(h,{class:"flex flex-1 items-center"},{default:n(()=>[Vt,e(ve,null,{default:n(()=>[e(fe,{placement:"bottom",width:240,trigger:"click"},{reference:n(()=>[e(C,{color:"#409EFF",class:"cursor-pointer",size:"large"},{default:n(()=>[e(o(He))]),_:1})]),default:n(()=>[s("div",Bt,[e(h,{class:"info"},{default:n(()=>[y(b(l.$t("menu.tempInfo")),1)]),_:1})])]),_:1})]),_:1})]),_:1}),s("div",zt,[e(he,{class:"w-full"})])]),o(p)?(v(),w("div",Dt,[s("div",Lt,[s("div",Ot,[e(h,{size:"small",type:"info"},{default:n(()=>[y(b(l.$t("action.more")),1)]),_:1})]),e(be)])])):A("",!0)])]),_:1}),s("h4",Tt,b(l.$t("chat.chats")),1),s("div",Rt,[s("div",Ft,[e(Z,{id:"createNewChat",to:"/c/",onClick:o(m)},{default:n(()=>[e(U,{icon:o(Ne),class:"ConversationLink w-full",style:{border:"none",background:"transparent !important"}},{default:n(()=>[y(b(l.$t("chat.newChat")),1)]),_:1},8,["icon"])]),_:1},8,["onClick"])]),s("div",Ht,[(v(!0),w(K,null,ae(o(r),$=>(v(),w("div",{class:E(["ConversationLink flex items-center",$.moreActionsExpanded?"MoreOptionsExpended":""]),active:$.id===o(p)},[e(Z,{id:$.id,to:`/c/${$.id}`,class:E(["justify-start items-center flex gap-1 py-1 px-4 w-full",$.id===o(p)?"pointer-events-none":""])},{default:n(()=>[e(C,null,{default:n(()=>[e(o(Ue))]),_:1}),s("span",Ut,b($.name||o(Qe).convert($.id,"64w",10)),1)]),_:2},1032,["id","to","class"]),s("div",Qt,[e(h,{type:"info",class:"flex gap-2"},{default:n(()=>[e(we,{trigger:"click",placement:"bottom",onVisibleChange:Q=>$.moreActionsExpanded=Q},{dropdown:n(()=>[e(ge,{style:{overflow:"hidden"}},{default:n(()=>[s("div",Pt,[s("div",null,[e(U,{class:"MoreOptionButton",icon:o(ie),onClick:Q=>o(c)($.id,$.name)},{default:n(()=>[y(b(l.$t("action.rename")),1)]),_:2},1032,["icon","onClick"])]),s("div",null,[e(U,{type:"danger",class:"MoreOptionButton",icon:o(re),onClick:Q=>o(_)($.id),plain:""},{default:n(()=>[y(b(l.$t("action.delete")),1)]),_:2},1032,["icon","onClick"])])])]),_:2},1024)]),default:n(()=>[e(h,null,{default:n(()=>[e(C,{class:"cursor-pointer"},{default:n(()=>[e(o(de))]),_:1})]),_:1})]),_:2},1032,["onVisibleChange"])]),_:2},1024)])],10,Nt))),256))])]),s("div",jt,[s("div",null,[e(R,{href:"https://chat.mikumikumi.tk/",target:"_blank",icon:o(Pe)},{default:n(()=>[s("div",qt,[e(h,{size:"large",style:{color:"goldenrod"}},{default:n(()=>[y("This site is sponsored by MikuAPI")]),_:1})])]),_:1},8,["icon"])]),s("div",null,[e(R,{href:"https://www.buymeacoffee.com/cch137",target:"_blank",icon:o(je)},{default:n(()=>[s("div",Jt,[e(h,{size:"large",style:{color:"inherit"}},{default:n(()=>[y("Buy me a coffee")]),_:1})])]),_:1},8,["icon"])]),s("div",null,[e(R,{onClick:f[1]||(f[1]=$=>d()),target:"_blank",icon:o(qe)},{default:n(()=>[s("div",Kt,[e(h,{size:"large",style:{color:"inherit"}},{default:n(()=>[y("About me")]),_:1})])]),_:1},8,["icon"])]),s("div",null,[e(R,{onClick:f[2]||(f[2]=$=>i()),target:"_blank",icon:o(Je)},{default:n(()=>[s("div",Wt,[e(h,{size:"large",style:{color:"inherit"}},{default:n(()=>[y("Feedback")]),_:1})])]),_:1},8,["icon"])])])])}}},me=T(Zt,[["__scopeId","data-v-a1bf5d14"]]);const Yt={class:"flex"},Xt={class:"flex flex-1"},Gt={__name:"ConvSidebar",setup(t){const{openMenu:a,openSidebarController:r}=x();return(u,p)=>{const m=ne,c=I,_=me;return v(),w("div",{class:"ChatbotConvSidebar flex flex-col z-50",style:O(`transform: translateX(${o(r)?"0":"-100%"});`)},[s("div",Yt,[s("div",Xt,[e(m)]),e(c,{class:"ChatbotConvHeaderMenuButton",icon:o(Ke),style:{padding:"8px"},onClick:p[0]||(p[0]=d=>a.value=!1)},null,8,["icon"])]),e(_,{class:"flex-1 mt-4"})],4)}}},eo=T(Gt,[["__scopeId","data-v-bc06a107"]]),to={class:"px-2 pb-4 flex flex-col gap-4"},oo={class:"flex items-center justify-end"},no=V({__name:"EditQuestionDialog",setup(t){const{isEditingQuestion:a,editingQuestion:r,editingQuestionContent:u,inputMaxLength:p,updateMessage:m}=x();function c(){a.value=!1}function _(i){i.key==="Enter"&&!i.shiftKey&&(d(),i.preventDefault())}async function d(){if(r.value===void 0)return;const i=u.value.trim();r.value.Q!==i&&(r.value.Q=i,m(r.value)),setTimeout(()=>c(),0)}return(i,l)=>{const f=W,h=I,k=se;return v(),S(k,{modelValue:o(a),"onUpdate:modelValue":l[4]||(l[4]=g=>M(a)?a.value=g:null),title:i.$t("chat.editQues"),width:"80%",style:{"max-width":"600px"}},{default:n(()=>[s("div",to,[e(f,{modelValue:o(u),"onUpdate:modelValue":l[0]||(l[0]=g=>M(u)?u.value=g:null),autosize:{minRows:4,maxRows:16},type:"textarea",size:"large",class:"EditQuestionInput",maxlength:o(p),autofocus:!0,onKeydown:l[1]||(l[1]=g=>_(g))},null,8,["modelValue","maxlength"]),s("div",oo,[e(h,{onClick:l[2]||(l[2]=g=>c()),icon:o(q)},{default:n(()=>[y(b(i.$t("message.cancel")),1)]),_:1},8,["icon"]),e(h,{onClick:l[3]||(l[3]=g=>d()),type:"primary",icon:o(_e)},{default:n(()=>[y(b(i.$t("action.save")),1)]),_:1},8,["icon"])])])]),_:1},8,["modelValue","title"])}}});const so={class:"px-2 pb-4 flex flex-col gap-4"},lo={class:"flex items-center justify-end"},ao=V({__name:"EditAnswerDialog",setup(t){const{isEditingAnswer:a,editingAnswer:r,editingAnswerContent:u,inputMaxLength:p,updateMessage:m}=x();function c(){a.value=!1}function _(i){i.key==="Enter"&&!i.shiftKey&&(d(),i.preventDefault())}async function d(){if(r.value===void 0)return;const i=u.value.trim();r.value.A!==i&&(r.value.A=i,m(r.value)),setTimeout(()=>c(),0)}return(i,l)=>{const f=W,h=I,k=se;return v(),S(k,{modelValue:o(a),"onUpdate:modelValue":l[4]||(l[4]=g=>M(a)?a.value=g:null),title:i.$t("chat.editAns"),width:"80%",style:{"max-width":"600px"}},{default:n(()=>[s("div",so,[e(f,{modelValue:o(u),"onUpdate:modelValue":l[0]||(l[0]=g=>M(u)?u.value=g:null),autosize:{minRows:4,maxRows:16},type:"textarea",size:"large",class:"EditAnswerInput",maxlength:o(p),autofocus:!0,onKeydown:l[1]||(l[1]=g=>_(g))},null,8,["modelValue","maxlength"]),s("div",lo,[e(h,{onClick:l[2]||(l[2]=g=>c()),icon:o(q)},{default:n(()=>[y(b(i.$t("message.cancel")),1)]),_:1},8,["icon"]),e(h,{onClick:l[3]||(l[3]=g=>d()),type:"primary",icon:o(_e)},{default:n(()=>[y(b(i.$t("action.save")),1)]),_:1},8,["icon"])])])]),_:1},8,["modelValue","title"])}}});const io={},ro=t=>(ue("data-v-3c80ec5a"),t=t(),ce(),t),uo={class:"MenuIcon"},co=ro(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 96 960 960"},[s("path",{d:"M120 816v-60h720v60H120Zm0-210v-60h720v60H120Zm0-210v-60h720v60H120Z"})],-1)),_o=[co];function po(t,a){return v(),w("i",uo,_o)}const mo=T(io,[["render",po],["__scopeId","data-v-3c80ec5a"]]);const fo={class:"fixed z-50 w-full flex"},vo={class:"ChatbotConvHeader px-4 gap-4 flex items-stretch flex-1"},ho=s("div",{class:"flex-1 flex items-center justify-end gap-2"},null,-1),bo={__name:"ConvHeader",setup(t){const{openMenu:a,openSidebarController:r}=x();return a.value=!0,(u,p)=>{const m=eo,c=no,_=ao,d=mo,i=I,l=ne,f=ke;return v(),w("div",fo,[s("div",{style:O(`min-width: ${o(r)?"320px":"0px"}; width: ${o(r)?"25%":"0px"}; transition: .1s;`)},null,4),e(m),e(c),e(_),s("div",vo,[s("div",{style:O([o(r)?"opacity: 0; pointer-events: none; width: 0px;":"",{transition:".1s"}])},[e(i,{style:{padding:"8px"},onClick:p[0]||(p[0]=h=>a.value=!o(a))},{default:n(()=>[e(d)]),_:1})],4),e(l,{style:O(o(r)?"opacity: 0; pointer-events: none; width: 0px;":"")},null,8,["style"]),ho,e(f)])])}}},yo=bo,go={class:"InputBoxOuter flex fixed w-full z-40"},wo={class:"InputBox pt-20 pb-1 px-2 flex-1"},Co={class:"flex gap-3 w-full mx-auto justify-center px-2",style:{"max-width":"900px"}},$o={class:"w-full"},xo={class:"InputBoxActionButtonGroup flex flex-col gap-1"},ko={style:{"margin-left":".25rem"}},Eo={class:"text-center mt-1",style:{"line-height":"1em"}},So=V({__name:"InputBox",setup(t){const{sendMessage:a,openSidebarController:r,inputMaxLength:u,inputValue:p}=x(),m=_=>{_.key==="Enter"&&!_.shiftKey&&(a(),_.preventDefault())},c=()=>{a()};return(_,d)=>{const i=W,l=H,f=I,h=et,k=pe,g=le;return v(),w("div",go,[s("div",{style:O(`min-width: ${o(r)?"320px":"0px"}; width: ${o(r)?"25%":"0px"}; transition: .1s;`)},null,4),s("div",wo,[e(k,{ref:"inputForm",class:"mx-auto max-w-full",onSubmit:d[2]||(d[2]=J(()=>{},["prevent"]))},{default:n(()=>[e(h,{style:{margin:"0"}},{default:n(()=>[s("div",Co,[s("div",$o,[e(i,{modelValue:o(p),"onUpdate:modelValue":d[0]||(d[0]=C=>M(p)?p.value=C:null),autosize:{minRows:2,maxRows:16},type:"textarea",size:"large",maxlength:o(u),autofocus:!0,onKeydown:d[1]||(d[1]=C=>m(C))},null,8,["modelValue","maxlength"])]),s("div",xo,[e(f,{type:"primary",onClick:c,style:{padding:"12px"},size:"large"},{default:n(()=>[e(l,null,{default:n(()=>[e(o(We))]),_:1}),s("span",ko,b(_.$t("chat.send")),1)]),_:1})])])]),_:1})]),_:1},512),s("div",Eo,[e(g,{type:"info",size:"small"},{default:n(()=>[y(b(_.$t("footer.patient")),1)]),_:1})])])])}}});const Mo={style:{"margin-top":"-1.5rem",height:"calc(100% + 1.5rem)"}},Ao={__name:"ConvDrawer",setup(t){const{openDrawerController:a}=x();return(r,u)=>{const p=me,m=mt,c=N;return v(),S(c,null,{default:n(()=>[e(m,{modelValue:o(a),"onUpdate:modelValue":u[0]||(u[0]=_=>M(a)?a.value=_:null),title:r.$t("menu.title"),direction:"ltr",style:{"min-width":"320px","max-width":"100vw"}},{default:n(()=>[s("div",Mo,[e(p)])]),_:1},8,["modelValue","title"])]),_:1})}}},Io=Ao,Vo={},Bo={style:{"padding-top":"56px"},class:"w-full"};function zo(t,a){const r=yo,u=N,p=So,m=Io;return v(),w(K,null,[e(u,null,{default:n(()=>[e(r)]),_:1}),s("div",Bo,[L(t.$slots,"default"),e(u,null,{default:n(()=>[e(p),e(m)]),_:1})])],64)}const dn=T(Vo,[["render",zo]]);export{dn as default};
